function Lw(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in t)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const Pw=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}};Pw();var Ee={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ol=Symbol.for("react.element"),Dw=Symbol.for("react.portal"),Nw=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),kw=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Fw=Symbol.for("react.context"),zw=Symbol.for("react.forward_ref"),Uw=Symbol.for("react.suspense"),Bw=Symbol.for("react.memo"),Vw=Symbol.for("react.lazy"),dg=Symbol.iterator;function Gw(t){return t===null||typeof t!="object"?null:(t=dg&&t[dg]||t["@@iterator"],typeof t=="function"?t:null)}var B_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V_=Object.assign,G_={};function Cs(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||B_}Cs.prototype.isReactComponent={};Cs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Cs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H_(){}H_.prototype=Cs.prototype;function Ap(t,e,n){this.props=t,this.context=e,this.refs=G_,this.updater=n||B_}var Rp=Ap.prototype=new H_;Rp.constructor=Ap;V_(Rp,Cs.prototype);Rp.isPureReactComponent=!0;var hg=Array.isArray,W_=Object.prototype.hasOwnProperty,Lp={current:null},$_={key:!0,ref:!0,__self:!0,__source:!0};function j_(t,e,n){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)W_.call(e,i)&&!$_.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ol,type:t,key:o,ref:s,props:r,_owner:Lp.current}}function Hw(t,e){return{$$typeof:ol,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ol}function Ww(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pg=/\/+/g;function Pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ww(""+t.key):e.toString(36)}function vu(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ol:case Dw:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+Pf(s,0):i,hg(r)?(n="",t!=null&&(n=t.replace(pg,"$&/")+"/"),vu(r,e,n,"",function(u){return u})):r!=null&&(Pp(r)&&(r=Hw(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(pg,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",hg(t))for(var a=0;a<t.length;a++){o=t[a];var l=i+Pf(o,a);s+=vu(o,e,n,l,r)}else if(l=Gw(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=i+Pf(o,a++),s+=vu(o,e,n,l,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Sl(t,e,n){if(t==null)return t;var i=[],r=0;return vu(t,i,"","",function(o){return e.call(n,o,r++)}),i}function $w(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},_u={transition:null},jw={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:_u,ReactCurrentOwner:Lp};Ze.Children={map:Sl,forEach:function(t,e,n){Sl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sl(t,function(){e++}),e},toArray:function(t){return Sl(t,function(e){return e})||[]},only:function(t){if(!Pp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=Cs;Ze.Fragment=Nw;Ze.Profiler=kw;Ze.PureComponent=Ap;Ze.StrictMode=Iw;Ze.Suspense=Uw;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jw;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=V_({},t.props),r=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Lp.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)W_.call(e,l)&&!$_.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:ol,type:t.type,key:r,ref:o,props:i,_owner:s}};Ze.createContext=function(t){return t={$$typeof:Fw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ow,_context:t},t.Consumer=t};Ze.createElement=j_;Ze.createFactory=function(t){var e=j_.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:zw,render:t}};Ze.isValidElement=Pp;Ze.lazy=function(t){return{$$typeof:Vw,_payload:{_status:-1,_result:t},_init:$w}};Ze.memo=function(t,e){return{$$typeof:Bw,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=_u.transition;_u.transition={};try{t()}finally{_u.transition=e}};Ze.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ze.useCallback=function(t,e){return un.current.useCallback(t,e)};Ze.useContext=function(t){return un.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return un.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return un.current.useEffect(t,e)};Ze.useId=function(){return un.current.useId()};Ze.useImperativeHandle=function(t,e,n){return un.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return un.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return un.current.useReducer(t,e,n)};Ze.useRef=function(t){return un.current.useRef(t)};Ze.useState=function(t){return un.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return un.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return un.current.useTransition()};Ze.version="18.2.0";Ee.exports=Ze;var He=Ee.exports,nh=Lw({__proto__:null,default:He},[Ee.exports]),ih={},Dp={exports:{}},In={},X_={exports:{}},q_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,Y){var Z=F.length;F.push(Y);e:for(;0<Z;){var me=Z-1>>>1,M=F[me];if(0<r(M,Y))F[me]=Y,F[Z]=M,Z=me;else break e}}function n(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Y=F[0],Z=F.pop();if(Z!==Y){F[0]=Z;e:for(var me=0,M=F.length,C=M>>>1;me<C;){var N=2*(me+1)-1,W=F[N],b=N+1,ne=F[b];if(0>r(W,Z))b<M&&0>r(ne,W)?(F[me]=ne,F[b]=Z,me=b):(F[me]=W,F[N]=Z,me=N);else if(b<M&&0>r(ne,Z))F[me]=ne,F[b]=Z,me=b;else break e}}return Y}function r(F,Y){var Z=F.sortIndex-Y.sortIndex;return Z!==0?Z:F.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,p=!1,y=!1,h=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var Y=n(u);Y!==null;){if(Y.callback===null)i(u);else if(Y.startTime<=F)i(u),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(u)}}function x(F){if(h=!1,_(F),!y)if(n(l)!==null)y=!0,oe(w);else{var Y=n(u);Y!==null&&ie(x,Y.startTime-F)}}function w(F,Y){y=!1,h&&(h=!1,g(S),S=-1),p=!0;var Z=d;try{for(_(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||F&&!J());){var me=f.callback;if(typeof me=="function"){f.callback=null,d=f.priorityLevel;var M=me(f.expirationTime<=Y);Y=t.unstable_now(),typeof M=="function"?f.callback=M:f===n(l)&&i(l),_(Y)}else i(l);f=n(l)}if(f!==null)var C=!0;else{var N=n(u);N!==null&&ie(x,N.startTime-Y),C=!1}return C}finally{f=null,d=Z,p=!1}}var T=!1,L=null,S=-1,R=5,I=-1;function J(){return!(t.unstable_now()-I<R)}function fe(){if(L!==null){var F=t.unstable_now();I=F;var Y=!0;try{Y=L(!0,F)}finally{Y?U():(T=!1,L=null)}}else T=!1}var U;if(typeof v=="function")U=function(){v(fe)};else if(typeof MessageChannel!="undefined"){var z=new MessageChannel,K=z.port2;z.port1.onmessage=fe,U=function(){K.postMessage(null)}}else U=function(){m(fe,0)};function oe(F){L=F,T||(T=!0,U())}function ie(F,Y){S=m(function(){F(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,oe(w))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var Z=d;d=Y;try{return F()}finally{d=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Z=d;d=F;try{return Y()}finally{d=Z}},t.unstable_scheduleCallback=function(F,Y,Z){var me=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?me+Z:me):Z=me,F){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Z+M,F={id:c++,callback:Y,priorityLevel:F,startTime:Z,expirationTime:M,sortIndex:-1},Z>me?(F.sortIndex=Z,e(u,F),n(l)===null&&F===n(u)&&(h?(g(S),S=-1):h=!0,ie(x,Z-me))):(F.sortIndex=M,e(l,F),y||p||(y=!0,oe(w))),F},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(F){var Y=d;return function(){var Z=d;d=Y;try{return F.apply(this,arguments)}finally{d=Z}}}})(q_);X_.exports=q_;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_=Ee.exports,Nn=X_.exports;function _e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z_=new Set,Da={};function lo(t,e){us(t,e),us(t+"Capture",e)}function us(t,e){for(Da[t]=e,t=0;t<e.length;t++)Z_.add(e[t])}var Fi=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),rh=Object.prototype.hasOwnProperty,Xw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mg={},gg={};function qw(t){return rh.call(gg,t)?!0:rh.call(mg,t)?!1:Xw.test(t)?gg[t]=!0:(mg[t]=!0,!1)}function Yw(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zw(t,e,n,i){if(e===null||typeof e=="undefined"||Yw(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Xt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Xt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Xt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Xt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Xt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Xt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Xt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Xt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Xt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Np=/[\-:]([a-z])/g;function Ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Np,Ip);Xt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Np,Ip);Xt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Np,Ip);Xt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Xt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});Xt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Xt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,n,i){var r=Xt.hasOwnProperty(e)?Xt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zw(e,n,r,i)&&(n=null),i||r===null?qw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Vi=Y_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Oo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Op=Symbol.for("react.strict_mode"),oh=Symbol.for("react.profiler"),K_=Symbol.for("react.provider"),J_=Symbol.for("react.context"),Fp=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),ah=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),qi=Symbol.for("react.lazy"),Q_=Symbol.for("react.offscreen"),vg=Symbol.iterator;function zs(t){return t===null||typeof t!="object"?null:(t=vg&&t[vg]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,Df;function ca(t){if(Df===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Df=e&&e[1]||""}return`
`+Df+t}var Nf=!1;function If(t,e){if(!t||Nf)return"";Nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l=`
`+r[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ca(t):""}function Kw(t){switch(t.tag){case 5:return ca(t.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 2:case 15:return t=If(t.type,!1),t;case 11:return t=If(t.type.render,!1),t;case 1:return t=If(t.type,!0),t;default:return""}}function lh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case Oo:return"Portal";case oh:return"Profiler";case Op:return"StrictMode";case sh:return"Suspense";case ah:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case J_:return(t.displayName||"Context")+".Consumer";case K_:return(t._context.displayName||"Context")+".Provider";case Fp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zp:return e=t.displayName||null,e!==null?e:lh(t.type)||"Memo";case qi:e=t._payload,t=t._init;try{return lh(t(e))}catch{}}return null}function Jw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lh(e);case 8:return e===Op?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ey(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qw(t){var e=ey(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ml(t){t._valueTracker||(t._valueTracker=Qw(t))}function ty(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=ey(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ku(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function uh(t,e){var n=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function _g(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ny(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function ch(t,e){ny(t,e);var n=gr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fh(t,e.type,n):e.hasOwnProperty("defaultValue")&&fh(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function fh(t,e,n){(e!=="number"||ku(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fa=Array.isArray;function Ko(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function dh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_e(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_e(92));if(fa(n)){if(1<n.length)throw Error(_e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function iy(t,e){var n=gr(e.value),i=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Sg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ry(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ry(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bl,oy=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bl=bl||document.createElement("div"),bl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Na(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eM=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){eM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),va[e]=va[t]})});function sy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||va.hasOwnProperty(t)&&va[t]?(""+e).trim():e+"px"}function ay(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=sy(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var tM=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ph(t,e){if(e){if(tM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_e(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_e(62))}}function mh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gh=null;function Up(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vh=null,Jo=null,Qo=null;function wg(t){if(t=ll(t)){if(typeof vh!="function")throw Error(_e(280));var e=t.stateNode;e&&(e=_c(e),vh(t.stateNode,t.type,e))}}function ly(t){Jo?Qo?Qo.push(t):Qo=[t]:Jo=t}function uy(){if(Jo){var t=Jo,e=Qo;if(Qo=Jo=null,wg(t),e)for(t=0;t<e.length;t++)wg(e[t])}}function cy(t,e){return t(e)}function fy(){}var kf=!1;function dy(t,e,n){if(kf)return t(e,n);kf=!0;try{return cy(t,e,n)}finally{kf=!1,(Jo!==null||Qo!==null)&&(fy(),uy())}}function Ia(t,e){var n=t.stateNode;if(n===null)return null;var i=_c(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_e(231,e,typeof n));return n}var _h=!1;if(Fi)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){_h=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{_h=!1}function nM(t,e,n,i,r,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _a=!1,Ou=null,Fu=!1,yh=null,iM={onError:function(t){_a=!0,Ou=t}};function rM(t,e,n,i,r,o,s,a,l){_a=!1,Ou=null,nM.apply(iM,arguments)}function oM(t,e,n,i,r,o,s,a,l){if(rM.apply(this,arguments),_a){if(_a){var u=Ou;_a=!1,Ou=null}else throw Error(_e(198));Fu||(Fu=!0,yh=u)}}function uo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Mg(t){if(uo(t)!==t)throw Error(_e(188))}function sM(t){var e=t.alternate;if(!e){if(e=uo(t),e===null)throw Error(_e(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Mg(r),t;if(o===i)return Mg(r),e;o=o.sibling}throw Error(_e(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(_e(189))}}if(n.alternate!==i)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?t:e}function py(t){return t=sM(t),t!==null?my(t):null}function my(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=my(t);if(e!==null)return e;t=t.sibling}return null}var gy=Nn.unstable_scheduleCallback,bg=Nn.unstable_cancelCallback,aM=Nn.unstable_shouldYield,lM=Nn.unstable_requestPaint,Ct=Nn.unstable_now,uM=Nn.unstable_getCurrentPriorityLevel,Bp=Nn.unstable_ImmediatePriority,vy=Nn.unstable_UserBlockingPriority,zu=Nn.unstable_NormalPriority,cM=Nn.unstable_LowPriority,_y=Nn.unstable_IdlePriority,pc=null,mi=null;function fM(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(pc,t,void 0,(t.current.flags&128)===128)}catch{}}var ii=Math.clz32?Math.clz32:pM,dM=Math.log,hM=Math.LN2;function pM(t){return t>>>=0,t===0?32:31-(dM(t)/hM|0)|0}var El=64,Tl=4194304;function da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~r;a!==0?i=da(a):(o&=s,o!==0&&(i=da(o)))}else s=n&~r,s!==0?i=da(s):o!==0&&(i=da(o));if(i===0)return 0;if(e!==0&&e!==i&&(e&r)===0&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if((i&4)!==0&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ii(e),r=1<<n,i|=t[n],e&=~r;return i}function mM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gM(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ii(o),a=1<<s,l=r[s];l===-1?((a&n)===0||(a&i)!==0)&&(r[s]=mM(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function xh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yy(){var t=El;return El<<=1,(El&4194240)===0&&(El=64),t}function Of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ii(e),t[e]=n}function vM(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ii(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function Vp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ii(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var ot=0;function xy(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Sy,Gp,wy,My,by,Sh=!1,Cl=[],rr=null,or=null,sr=null,ka=new Map,Oa=new Map,Ki=[],_M="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eg(t,e){switch(t){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(e.pointerId)}}function Bs(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=ll(e),e!==null&&Gp(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function yM(t,e,n,i,r){switch(e){case"focusin":return rr=Bs(rr,t,e,n,i,r),!0;case"dragenter":return or=Bs(or,t,e,n,i,r),!0;case"mouseover":return sr=Bs(sr,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return ka.set(o,Bs(ka.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Oa.set(o,Bs(Oa.get(o)||null,t,e,n,i,r)),!0}return!1}function Ey(t){var e=Br(t.target);if(e!==null){var n=uo(e);if(n!==null){if(e=n.tag,e===13){if(e=hy(n),e!==null){t.blockedOn=e,by(t.priority,function(){wy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);gh=i,n.target.dispatchEvent(i),gh=null}else return e=ll(n),e!==null&&Gp(e),t.blockedOn=n,!1;e.shift()}return!0}function Tg(t,e,n){yu(t)&&n.delete(e)}function xM(){Sh=!1,rr!==null&&yu(rr)&&(rr=null),or!==null&&yu(or)&&(or=null),sr!==null&&yu(sr)&&(sr=null),ka.forEach(Tg),Oa.forEach(Tg)}function Vs(t,e){t.blockedOn===e&&(t.blockedOn=null,Sh||(Sh=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,xM)))}function Fa(t){function e(r){return Vs(r,t)}if(0<Cl.length){Vs(Cl[0],t);for(var n=1;n<Cl.length;n++){var i=Cl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(rr!==null&&Vs(rr,t),or!==null&&Vs(or,t),sr!==null&&Vs(sr,t),ka.forEach(e),Oa.forEach(e),n=0;n<Ki.length;n++)i=Ki[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)Ey(n),n.blockedOn===null&&Ki.shift()}var es=Vi.ReactCurrentBatchConfig,Bu=!0;function SM(t,e,n,i){var r=ot,o=es.transition;es.transition=null;try{ot=1,Hp(t,e,n,i)}finally{ot=r,es.transition=o}}function wM(t,e,n,i){var r=ot,o=es.transition;es.transition=null;try{ot=4,Hp(t,e,n,i)}finally{ot=r,es.transition=o}}function Hp(t,e,n,i){if(Bu){var r=wh(t,e,n,i);if(r===null)jf(t,e,i,Vu,n),Eg(t,i);else if(yM(r,t,e,n,i))i.stopPropagation();else if(Eg(t,i),e&4&&-1<_M.indexOf(t)){for(;r!==null;){var o=ll(r);if(o!==null&&Sy(o),o=wh(t,e,n,i),o===null&&jf(t,e,i,Vu,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else jf(t,e,i,null,n)}}var Vu=null;function wh(t,e,n,i){if(Vu=null,t=Up(i),t=Br(t),t!==null)if(e=uo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vu=t,null}function Ty(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uM()){case Bp:return 1;case vy:return 4;case zu:case cM:return 16;case _y:return 536870912;default:return 16}default:return 16}}var Qi=null,Wp=null,xu=null;function Cy(){if(xu)return xu;var t,e=Wp,n=e.length,i,r="value"in Qi?Qi.value:Qi.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return xu=r.slice(t,1<i?1-i:void 0)}function Su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Al(){return!0}function Cg(){return!1}function kn(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Al:Cg,this.isPropagationStopped=Cg,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Al)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Al)},persist:function(){},isPersistent:Al}),e}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$p=kn(As),al=bt({},As,{view:0,detail:0}),MM=kn(al),Ff,zf,Gs,mc=bt({},al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gs&&(Gs&&t.type==="mousemove"?(Ff=t.screenX-Gs.screenX,zf=t.screenY-Gs.screenY):zf=Ff=0,Gs=t),Ff)},movementY:function(t){return"movementY"in t?t.movementY:zf}}),Ag=kn(mc),bM=bt({},mc,{dataTransfer:0}),EM=kn(bM),TM=bt({},al,{relatedTarget:0}),Uf=kn(TM),CM=bt({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),AM=kn(CM),RM=bt({},As,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LM=kn(RM),PM=bt({},As,{data:0}),Rg=kn(PM),DM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IM[t])?!!e[t]:!1}function jp(){return kM}var OM=bt({},al,{key:function(t){if(t.key){var e=DM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jp,charCode:function(t){return t.type==="keypress"?Su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FM=kn(OM),zM=bt({},mc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=kn(zM),UM=bt({},al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jp}),BM=kn(UM),VM=bt({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),GM=kn(VM),HM=bt({},mc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WM=kn(HM),$M=[9,13,27,32],Xp=Fi&&"CompositionEvent"in window,ya=null;Fi&&"documentMode"in document&&(ya=document.documentMode);var jM=Fi&&"TextEvent"in window&&!ya,Ay=Fi&&(!Xp||ya&&8<ya&&11>=ya),Pg=String.fromCharCode(32),Dg=!1;function Ry(t,e){switch(t){case"keyup":return $M.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ly(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zo=!1;function XM(t,e){switch(t){case"compositionend":return Ly(e);case"keypress":return e.which!==32?null:(Dg=!0,Pg);case"textInput":return t=e.data,t===Pg&&Dg?null:t;default:return null}}function qM(t,e){if(zo)return t==="compositionend"||!Xp&&Ry(t,e)?(t=Cy(),xu=Wp=Qi=null,zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ay&&e.locale!=="ko"?null:e.data;default:return null}}var YM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YM[t.type]:e==="textarea"}function Py(t,e,n,i){ly(i),e=Gu(e,"onChange"),0<e.length&&(n=new $p("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var xa=null,za=null;function ZM(t){Gy(t,0)}function gc(t){var e=Vo(t);if(ty(e))return t}function KM(t,e){if(t==="change")return e}var Dy=!1;if(Fi){var Bf;if(Fi){var Vf="oninput"in document;if(!Vf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Vf=typeof Ig.oninput=="function"}Bf=Vf}else Bf=!1;Dy=Bf&&(!document.documentMode||9<document.documentMode)}function kg(){xa&&(xa.detachEvent("onpropertychange",Ny),za=xa=null)}function Ny(t){if(t.propertyName==="value"&&gc(za)){var e=[];Py(e,za,t,Up(t)),dy(ZM,e)}}function JM(t,e,n){t==="focusin"?(kg(),xa=e,za=n,xa.attachEvent("onpropertychange",Ny)):t==="focusout"&&kg()}function QM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(za)}function eb(t,e){if(t==="click")return gc(e)}function tb(t,e){if(t==="input"||t==="change")return gc(e)}function nb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var si=typeof Object.is=="function"?Object.is:nb;function Ua(t,e){if(si(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!rh.call(e,r)||!si(t[r],e[r]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fg(t,e){var n=Og(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Og(n)}}function Iy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ky(){for(var t=window,e=ku();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ku(t.document)}return e}function qp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ib(t){var e=ky(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Iy(n.ownerDocument.documentElement,n)){if(i!==null&&qp(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=Fg(n,o);var s=Fg(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rb=Fi&&"documentMode"in document&&11>=document.documentMode,Uo=null,Mh=null,Sa=null,bh=!1;function zg(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bh||Uo==null||Uo!==ku(i)||(i=Uo,"selectionStart"in i&&qp(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Sa&&Ua(Sa,i)||(Sa=i,i=Gu(Mh,"onSelect"),0<i.length&&(e=new $p("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Uo)))}function Rl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Bo={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Gf={},Oy={};Fi&&(Oy=document.createElement("div").style,"AnimationEvent"in window||(delete Bo.animationend.animation,delete Bo.animationiteration.animation,delete Bo.animationstart.animation),"TransitionEvent"in window||delete Bo.transitionend.transition);function vc(t){if(Gf[t])return Gf[t];if(!Bo[t])return t;var e=Bo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Oy)return Gf[t]=e[n];return t}var Fy=vc("animationend"),zy=vc("animationiteration"),Uy=vc("animationstart"),By=vc("transitionend"),Vy=new Map,Ug="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(t,e){Vy.set(t,e),lo(e,[t])}for(var Hf=0;Hf<Ug.length;Hf++){var Wf=Ug[Hf],ob=Wf.toLowerCase(),sb=Wf[0].toUpperCase()+Wf.slice(1);yr(ob,"on"+sb)}yr(Fy,"onAnimationEnd");yr(zy,"onAnimationIteration");yr(Uy,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(By,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function Bg(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,oM(i,e,void 0,t),t.currentTarget=null}function Gy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;Bg(r,a,u),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;Bg(r,a,u),o=l}}}if(Fu)throw t=yh,Fu=!1,yh=null,t}function ht(t,e){var n=e[Rh];n===void 0&&(n=e[Rh]=new Set);var i=t+"__bubble";n.has(i)||(Hy(e,t,2,!1),n.add(i))}function $f(t,e,n){var i=0;e&&(i|=4),Hy(n,t,i,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Ba(t){if(!t[Ll]){t[Ll]=!0,Z_.forEach(function(n){n!=="selectionchange"&&(ab.has(n)||$f(n,!1,t),$f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,$f("selectionchange",!1,e))}}function Hy(t,e,n,i){switch(Ty(e)){case 1:var r=SM;break;case 4:r=wM;break;default:r=Hp}n=r.bind(null,e,n,t),r=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function jf(t,e,n,i,r){var o=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=Br(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}dy(function(){var u=o,c=Up(n),f=[];e:{var d=Vy.get(t);if(d!==void 0){var p=$p,y=t;switch(t){case"keypress":if(Su(n)===0)break e;case"keydown":case"keyup":p=FM;break;case"focusin":y="focus",p=Uf;break;case"focusout":y="blur",p=Uf;break;case"beforeblur":case"afterblur":p=Uf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=EM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BM;break;case Fy:case zy:case Uy:p=AM;break;case By:p=GM;break;case"scroll":p=MM;break;case"wheel":p=WM;break;case"copy":case"cut":case"paste":p=LM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lg}var h=(e&4)!==0,m=!h&&t==="scroll",g=h?d!==null?d+"Capture":null:d;h=[];for(var v=u,_;v!==null;){_=v;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=Ia(v,g),x!=null&&h.push(Va(v,x,_)))),m)break;v=v.return}0<h.length&&(d=new p(d,y,null,n,c),f.push({event:d,listeners:h}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==gh&&(y=n.relatedTarget||n.fromElement)&&(Br(y)||y[zi]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Br(y):null,y!==null&&(m=uo(y),y!==m||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(h=Ag,x="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(h=Lg,x="onPointerLeave",g="onPointerEnter",v="pointer"),m=p==null?d:Vo(p),_=y==null?d:Vo(y),d=new h(x,v+"leave",p,n,c),d.target=m,d.relatedTarget=_,x=null,Br(c)===u&&(h=new h(g,v+"enter",y,n,c),h.target=_,h.relatedTarget=m,x=h),m=x,p&&y)t:{for(h=p,g=y,v=0,_=h;_;_=mo(_))v++;for(_=0,x=g;x;x=mo(x))_++;for(;0<v-_;)h=mo(h),v--;for(;0<_-v;)g=mo(g),_--;for(;v--;){if(h===g||g!==null&&h===g.alternate)break t;h=mo(h),g=mo(g)}h=null}else h=null;p!==null&&Vg(f,d,p,h,!1),y!==null&&m!==null&&Vg(f,m,y,h,!0)}}e:{if(d=u?Vo(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var w=KM;else if(Ng(d))if(Dy)w=tb;else{w=QM;var T=JM}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(w=eb);if(w&&(w=w(t,u))){Py(f,w,n,c);break e}T&&T(t,d,u),t==="focusout"&&(T=d._wrapperState)&&T.controlled&&d.type==="number"&&fh(d,"number",d.value)}switch(T=u?Vo(u):window,t){case"focusin":(Ng(T)||T.contentEditable==="true")&&(Uo=T,Mh=u,Sa=null);break;case"focusout":Sa=Mh=Uo=null;break;case"mousedown":bh=!0;break;case"contextmenu":case"mouseup":case"dragend":bh=!1,zg(f,n,c);break;case"selectionchange":if(rb)break;case"keydown":case"keyup":zg(f,n,c)}var L;if(Xp)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else zo?Ry(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Ay&&n.locale!=="ko"&&(zo||S!=="onCompositionStart"?S==="onCompositionEnd"&&zo&&(L=Cy()):(Qi=c,Wp="value"in Qi?Qi.value:Qi.textContent,zo=!0)),T=Gu(u,S),0<T.length&&(S=new Rg(S,t,null,n,c),f.push({event:S,listeners:T}),L?S.data=L:(L=Ly(n),L!==null&&(S.data=L)))),(L=jM?XM(t,n):qM(t,n))&&(u=Gu(u,"onBeforeInput"),0<u.length&&(c=new Rg("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=L))}Gy(f,e)})}function Va(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Ia(t,n),o!=null&&i.unshift(Va(t,o,r)),o=Ia(t,e),o!=null&&i.push(Va(t,o,r))),t=t.return}return i}function mo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vg(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Ia(n,o),l!=null&&s.unshift(Va(n,l,a))):r||(l=Ia(n,o),l!=null&&s.push(Va(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var lb=/\r\n?/g,ub=/\u0000|\uFFFD/g;function Gg(t){return(typeof t=="string"?t:""+t).replace(lb,`
`).replace(ub,"")}function Pl(t,e,n){if(e=Gg(e),Gg(t)!==e&&n)throw Error(_e(425))}function Hu(){}var Eh=null,Th=null;function Ch(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,cb=typeof clearTimeout=="function"?clearTimeout:void 0,Hg=typeof Promise=="function"?Promise:void 0,fb=typeof queueMicrotask=="function"?queueMicrotask:typeof Hg!="undefined"?function(t){return Hg.resolve(null).then(t).catch(db)}:Ah;function db(t){setTimeout(function(){throw t})}function Xf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Fa(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Fa(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),hi="__reactFiber$"+Rs,Ga="__reactProps$"+Rs,zi="__reactContainer$"+Rs,Rh="__reactEvents$"+Rs,hb="__reactListeners$"+Rs,pb="__reactHandles$"+Rs;function Br(t){var e=t[hi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zi]||n[hi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wg(t);t!==null;){if(n=t[hi])return n;t=Wg(t)}return e}t=n,n=t.parentNode}return null}function ll(t){return t=t[hi]||t[zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_e(33))}function _c(t){return t[Ga]||null}var Lh=[],Go=-1;function xr(t){return{current:t}}function pt(t){0>Go||(t.current=Lh[Go],Lh[Go]=null,Go--)}function ft(t,e){Go++,Lh[Go]=t.current,t.current=e}var vr={},Qt=xr(vr),mn=xr(!1),Yr=vr;function cs(t,e){var n=t.type.contextTypes;if(!n)return vr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function gn(t){return t=t.childContextTypes,t!=null}function Wu(){pt(mn),pt(Qt)}function $g(t,e,n){if(Qt.current!==vr)throw Error(_e(168));ft(Qt,e),ft(mn,n)}function Wy(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(_e(108,Jw(t)||"Unknown",r));return bt({},n,i)}function $u(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vr,Yr=Qt.current,ft(Qt,t),ft(mn,mn.current),!0}function jg(t,e,n){var i=t.stateNode;if(!i)throw Error(_e(169));n?(t=Wy(t,e,Yr),i.__reactInternalMemoizedMergedChildContext=t,pt(mn),pt(Qt),ft(Qt,t)):pt(mn),ft(mn,n)}var Li=null,yc=!1,qf=!1;function $y(t){Li===null?Li=[t]:Li.push(t)}function mb(t){yc=!0,$y(t)}function Sr(){if(!qf&&Li!==null){qf=!0;var t=0,e=ot;try{var n=Li;for(ot=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Li=null,yc=!1}catch(r){throw Li!==null&&(Li=Li.slice(t+1)),gy(Bp,Sr),r}finally{ot=e,qf=!1}}return null}var Ho=[],Wo=0,ju=null,Xu=0,zn=[],Un=0,Zr=null,Di=1,Ni="";function Ir(t,e){Ho[Wo++]=Xu,Ho[Wo++]=ju,ju=t,Xu=e}function jy(t,e,n){zn[Un++]=Di,zn[Un++]=Ni,zn[Un++]=Zr,Zr=t;var i=Di;t=Ni;var r=32-ii(i)-1;i&=~(1<<r),n+=1;var o=32-ii(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Di=1<<32-ii(e)+r|n<<r|i,Ni=o+t}else Di=1<<o|n<<r|i,Ni=t}function Yp(t){t.return!==null&&(Ir(t,1),jy(t,1,0))}function Zp(t){for(;t===ju;)ju=Ho[--Wo],Ho[Wo]=null,Xu=Ho[--Wo],Ho[Wo]=null;for(;t===Zr;)Zr=zn[--Un],zn[Un]=null,Ni=zn[--Un],zn[Un]=null,Di=zn[--Un],zn[Un]=null}var Ln=null,An=null,vt=!1,ei=null;function Xy(t,e){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,An=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,An=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zr!==null?{id:Di,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,An=null,!0):!1;default:return!1}}function Ph(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dh(t){if(vt){var e=An;if(e){var n=e;if(!Xg(t,e)){if(Ph(t))throw Error(_e(418));e=ar(n.nextSibling);var i=Ln;e&&Xg(t,e)?Xy(i,n):(t.flags=t.flags&-4097|2,vt=!1,Ln=t)}}else{if(Ph(t))throw Error(_e(418));t.flags=t.flags&-4097|2,vt=!1,Ln=t}}}function qg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function Dl(t){if(t!==Ln)return!1;if(!vt)return qg(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ch(t.type,t.memoizedProps)),e&&(e=An)){if(Ph(t))throw qy(),Error(_e(418));for(;e;)Xy(t,e),e=ar(e.nextSibling)}if(qg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){An=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}An=null}}else An=Ln?ar(t.stateNode.nextSibling):null;return!0}function qy(){for(var t=An;t;)t=ar(t.nextSibling)}function fs(){An=Ln=null,vt=!1}function Kp(t){ei===null?ei=[t]:ei.push(t)}var gb=Vi.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qu=xr(null),Yu=null,$o=null,Jp=null;function Qp(){Jp=$o=Yu=null}function em(t){var e=qu.current;pt(qu),t._currentValue=e}function Nh(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function ts(t,e){Yu=t,Jp=$o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(hn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(Jp!==t)if(t={context:t,memoizedValue:e,next:null},$o===null){if(Yu===null)throw Error(_e(308));$o=t,Yu.dependencies={lanes:0,firstContext:t}}else $o=$o.next=t;return e}var Vr=null;function tm(t){Vr===null?Vr=[t]:Vr.push(t)}function Yy(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,tm(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ui(t,i)}function Ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yi=!1;function nm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ki(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(et&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ui(t,n)}return r=i.interleaved,r===null?(e.next=e,tm(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ui(t,n)}function wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Vp(t,n)}}function Yg(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zu(t,e,n,i){var r=t.updateQueue;Yi=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=r.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,p=a.eventTime;if((i&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,h=a;switch(d=e,p=n,h.tag){case 1:if(y=h.payload,typeof y=="function"){f=y.call(p,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=h.payload,d=typeof y=="function"?y.call(p,f,d):y,d==null)break e;f=bt({},f,d);break e;case 2:Yi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=r.effects,d===null?r.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;d=a,a=d.next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}while(1);if(c===null&&(l=f),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Jr|=s,t.lanes=s,t.memoizedState=f}}function Zg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(_e(191,r));r.call(i)}}}var Ky=new Y_.Component().refs;function Ih(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:bt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xc={isMounted:function(t){return(t=t._reactInternals)?uo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=sn(),r=cr(t),o=ki(i,r);o.payload=e,n!=null&&(o.callback=n),e=lr(t,o,r),e!==null&&(ri(e,t,r,i),wu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=sn(),r=cr(t),o=ki(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=lr(t,o,r),e!==null&&(ri(e,t,r,i),wu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),i=cr(t),r=ki(n,i);r.tag=2,e!=null&&(r.callback=e),e=lr(t,r,i),e!==null&&(ri(e,t,i,n),wu(e,t,i))}};function Kg(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ua(n,i)||!Ua(r,o):!0}function Jy(t,e,n){var i=!1,r=vr,o=e.contextType;return typeof o=="object"&&o!==null?o=Wn(o):(r=gn(e)?Yr:Qt.current,i=e.contextTypes,o=(i=i!=null)?cs(t,r):vr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xc,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function Jg(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&xc.enqueueReplaceState(e,e.state,null)}function kh(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=Ky,nm(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=Wn(o):(o=gn(e)?Yr:Qt.current,r.context=cs(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ih(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&xc.enqueueReplaceState(r,r.state,null),Zu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Hs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var i=n.stateNode}if(!i)throw Error(_e(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=r.refs;a===Ky&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,t))}return t}function Nl(t,e){throw t=Object.prototype.toString.call(e),Error(_e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qg(t){var e=t._init;return e(t._payload)}function Qy(t){function e(g,v){if(t){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function i(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function r(g,v){return g=fr(g,v),g.index=0,g.sibling=null,g}function o(g,v,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,x){return v===null||v.tag!==6?(v=td(_,g.mode,x),v.return=g,v):(v=r(v,_),v.return=g,v)}function l(g,v,_,x){var w=_.type;return w===Fo?c(g,v,_.props.children,x,_.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===qi&&Qg(w)===v.type)?(x=r(v,_.props),x.ref=Hs(g,v,_),x.return=g,x):(x=Au(_.type,_.key,_.props,null,g.mode,x),x.ref=Hs(g,v,_),x.return=g,x)}function u(g,v,_,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=nd(_,g.mode,x),v.return=g,v):(v=r(v,_.children||[]),v.return=g,v)}function c(g,v,_,x,w){return v===null||v.tag!==7?(v=$r(_,g.mode,x,w),v.return=g,v):(v=r(v,_),v.return=g,v)}function f(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=td(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wl:return _=Au(v.type,v.key,v.props,null,g.mode,_),_.ref=Hs(g,null,v),_.return=g,_;case Oo:return v=nd(v,g.mode,_),v.return=g,v;case qi:var x=v._init;return f(g,x(v._payload),_)}if(fa(v)||zs(v))return v=$r(v,g.mode,_,null),v.return=g,v;Nl(g,v)}return null}function d(g,v,_,x){var w=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:a(g,v,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:return _.key===w?l(g,v,_,x):null;case Oo:return _.key===w?u(g,v,_,x):null;case qi:return w=_._init,d(g,v,w(_._payload),x)}if(fa(_)||zs(_))return w!==null?null:c(g,v,_,x,null);Nl(g,_)}return null}function p(g,v,_,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,a(v,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case wl:return g=g.get(x.key===null?_:x.key)||null,l(v,g,x,w);case Oo:return g=g.get(x.key===null?_:x.key)||null,u(v,g,x,w);case qi:var T=x._init;return p(g,v,_,T(x._payload),w)}if(fa(x)||zs(x))return g=g.get(_)||null,c(v,g,x,w,null);Nl(v,x)}return null}function y(g,v,_,x){for(var w=null,T=null,L=v,S=v=0,R=null;L!==null&&S<_.length;S++){L.index>S?(R=L,L=null):R=L.sibling;var I=d(g,L,_[S],x);if(I===null){L===null&&(L=R);break}t&&L&&I.alternate===null&&e(g,L),v=o(I,v,S),T===null?w=I:T.sibling=I,T=I,L=R}if(S===_.length)return n(g,L),vt&&Ir(g,S),w;if(L===null){for(;S<_.length;S++)L=f(g,_[S],x),L!==null&&(v=o(L,v,S),T===null?w=L:T.sibling=L,T=L);return vt&&Ir(g,S),w}for(L=i(g,L);S<_.length;S++)R=p(L,g,S,_[S],x),R!==null&&(t&&R.alternate!==null&&L.delete(R.key===null?S:R.key),v=o(R,v,S),T===null?w=R:T.sibling=R,T=R);return t&&L.forEach(function(J){return e(g,J)}),vt&&Ir(g,S),w}function h(g,v,_,x){var w=zs(_);if(typeof w!="function")throw Error(_e(150));if(_=w.call(_),_==null)throw Error(_e(151));for(var T=w=null,L=v,S=v=0,R=null,I=_.next();L!==null&&!I.done;S++,I=_.next()){L.index>S?(R=L,L=null):R=L.sibling;var J=d(g,L,I.value,x);if(J===null){L===null&&(L=R);break}t&&L&&J.alternate===null&&e(g,L),v=o(J,v,S),T===null?w=J:T.sibling=J,T=J,L=R}if(I.done)return n(g,L),vt&&Ir(g,S),w;if(L===null){for(;!I.done;S++,I=_.next())I=f(g,I.value,x),I!==null&&(v=o(I,v,S),T===null?w=I:T.sibling=I,T=I);return vt&&Ir(g,S),w}for(L=i(g,L);!I.done;S++,I=_.next())I=p(L,g,S,I.value,x),I!==null&&(t&&I.alternate!==null&&L.delete(I.key===null?S:I.key),v=o(I,v,S),T===null?w=I:T.sibling=I,T=I);return t&&L.forEach(function(fe){return e(g,fe)}),vt&&Ir(g,S),w}function m(g,v,_,x){if(typeof _=="object"&&_!==null&&_.type===Fo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:e:{for(var w=_.key,T=v;T!==null;){if(T.key===w){if(w=_.type,w===Fo){if(T.tag===7){n(g,T.sibling),v=r(T,_.props.children),v.return=g,g=v;break e}}else if(T.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===qi&&Qg(w)===T.type){n(g,T.sibling),v=r(T,_.props),v.ref=Hs(g,T,_),v.return=g,g=v;break e}n(g,T);break}else e(g,T);T=T.sibling}_.type===Fo?(v=$r(_.props.children,g.mode,x,_.key),v.return=g,g=v):(x=Au(_.type,_.key,_.props,null,g.mode,x),x.ref=Hs(g,v,_),x.return=g,g=x)}return s(g);case Oo:e:{for(T=_.key;v!==null;){if(v.key===T)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=r(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=nd(_,g.mode,x),v.return=g,g=v}return s(g);case qi:return T=_._init,m(g,v,T(_._payload),x)}if(fa(_))return y(g,v,_,x);if(zs(_))return h(g,v,_,x);Nl(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=r(v,_),v.return=g,g=v):(n(g,v),v=td(_,g.mode,x),v.return=g,g=v),s(g)):n(g,v)}return m}var ds=Qy(!0),ex=Qy(!1),ul={},gi=xr(ul),Ha=xr(ul),Wa=xr(ul);function Gr(t){if(t===ul)throw Error(_e(174));return t}function im(t,e){switch(ft(Wa,e),ft(Ha,t),ft(gi,ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hh(e,t)}pt(gi),ft(gi,e)}function hs(){pt(gi),pt(Ha),pt(Wa)}function tx(t){Gr(Wa.current);var e=Gr(gi.current),n=hh(e,t.type);e!==n&&(ft(Ha,t),ft(gi,n))}function rm(t){Ha.current===t&&(pt(gi),pt(Ha))}var St=xr(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yf=[];function om(){for(var t=0;t<Yf.length;t++)Yf[t]._workInProgressVersionPrimary=null;Yf.length=0}var Mu=Vi.ReactCurrentDispatcher,Zf=Vi.ReactCurrentBatchConfig,Kr=0,Mt=null,It=null,Vt=null,Ju=!1,wa=!1,$a=0,vb=0;function qt(){throw Error(_e(321))}function sm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!si(t[n],e[n]))return!1;return!0}function am(t,e,n,i,r,o){if(Kr=o,Mt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Mu.current=t===null||t.memoizedState===null?Sb:wb,t=n(i,r),wa){o=0;do{if(wa=!1,$a=0,25<=o)throw Error(_e(301));o+=1,Vt=It=null,e.updateQueue=null,Mu.current=Mb,t=n(i,r)}while(wa)}if(Mu.current=Qu,e=It!==null&&It.next!==null,Kr=0,Vt=It=Mt=null,Ju=!1,e)throw Error(_e(300));return t}function lm(){var t=$a!==0;return $a=0,t}function ci(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Mt.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function $n(){if(It===null){var t=Mt.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Vt===null?Mt.memoizedState:Vt.next;if(e!==null)Vt=e,It=t;else{if(t===null)throw Error(_e(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Vt===null?Mt.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function ja(t,e){return typeof e=="function"?e(t):e}function Kf(t){var e=$n(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var i=It,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Kr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=i):l=l.next=f,Mt.lanes|=c,Jr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=i:l.next=a,si(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,Mt.lanes|=o,Jr|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jf(t){var e=$n(),n=e.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);si(o,e.memoizedState)||(hn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function nx(){}function ix(t,e){var n=Mt,i=$n(),r=e(),o=!si(i.memoizedState,r);if(o&&(i.memoizedState=r,hn=!0),i=i.queue,um(sx.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,Xa(9,ox.bind(null,n,i,r,e),void 0,null),Ht===null)throw Error(_e(349));(Kr&30)!==0||rx(n,e,r)}return r}function rx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ox(t,e,n,i){e.value=n,e.getSnapshot=i,ax(e)&&lx(t)}function sx(t,e,n){return n(function(){ax(e)&&lx(t)})}function ax(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!si(t,n)}catch{return!0}}function lx(t){var e=Ui(t,1);e!==null&&ri(e,t,1,-1)}function e0(t){var e=ci();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},e.queue=t,t=t.dispatch=xb.bind(null,Mt,t),[e.memoizedState,t]}function Xa(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Mt.updateQueue,e===null?(e={lastEffect:null,stores:null},Mt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function ux(){return $n().memoizedState}function bu(t,e,n,i){var r=ci();Mt.flags|=t,r.memoizedState=Xa(1|e,n,void 0,i===void 0?null:i)}function Sc(t,e,n,i){var r=$n();i=i===void 0?null:i;var o=void 0;if(It!==null){var s=It.memoizedState;if(o=s.destroy,i!==null&&sm(i,s.deps)){r.memoizedState=Xa(e,n,o,i);return}}Mt.flags|=t,r.memoizedState=Xa(1|e,n,o,i)}function t0(t,e){return bu(8390656,8,t,e)}function um(t,e){return Sc(2048,8,t,e)}function cx(t,e){return Sc(4,2,t,e)}function fx(t,e){return Sc(4,4,t,e)}function dx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hx(t,e,n){return n=n!=null?n.concat([t]):null,Sc(4,4,dx.bind(null,e,t),n)}function cm(){}function px(t,e){var n=$n();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&sm(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function mx(t,e){var n=$n();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&sm(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function gx(t,e,n){return(Kr&21)===0?(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n):(si(n,e)||(n=yy(),Mt.lanes|=n,Jr|=n,t.baseState=!0),e)}function _b(t,e){var n=ot;ot=n!==0&&4>n?n:4,t(!0);var i=Zf.transition;Zf.transition={};try{t(!1),e()}finally{ot=n,Zf.transition=i}}function vx(){return $n().memoizedState}function yb(t,e,n){var i=cr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},_x(t))yx(e,n);else if(n=Yy(t,e,n,i),n!==null){var r=sn();ri(n,t,i,r),xx(n,e,i)}}function xb(t,e,n){var i=cr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(_x(t))yx(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,si(a,s)){var l=e.interleaved;l===null?(r.next=r,tm(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=Yy(t,e,r,i),n!==null&&(r=sn(),ri(n,t,i,r),xx(n,e,i))}}function _x(t){var e=t.alternate;return t===Mt||e!==null&&e===Mt}function yx(t,e){wa=Ju=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function xx(t,e,n){if((n&4194240)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Vp(t,n)}}var Qu={readContext:Wn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},Sb={readContext:Wn,useCallback:function(t,e){return ci().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:t0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bu(4194308,4,dx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bu(4194308,4,t,e)},useInsertionEffect:function(t,e){return bu(4,2,t,e)},useMemo:function(t,e){var n=ci();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=ci();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=yb.bind(null,Mt,t),[i.memoizedState,t]},useRef:function(t){var e=ci();return t={current:t},e.memoizedState=t},useState:e0,useDebugValue:cm,useDeferredValue:function(t){return ci().memoizedState=t},useTransition:function(){var t=e0(!1),e=t[0];return t=_b.bind(null,t[1]),ci().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Mt,r=ci();if(vt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=e(),Ht===null)throw Error(_e(349));(Kr&30)!==0||rx(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,t0(sx.bind(null,i,o,t),[t]),i.flags|=2048,Xa(9,ox.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=ci(),e=Ht.identifierPrefix;if(vt){var n=Ni,i=Di;n=(i&~(1<<32-ii(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=$a++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=vb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wb={readContext:Wn,useCallback:px,useContext:Wn,useEffect:um,useImperativeHandle:hx,useInsertionEffect:cx,useLayoutEffect:fx,useMemo:mx,useReducer:Kf,useRef:ux,useState:function(){return Kf(ja)},useDebugValue:cm,useDeferredValue:function(t){var e=$n();return gx(e,It.memoizedState,t)},useTransition:function(){var t=Kf(ja)[0],e=$n().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:ix,useId:vx,unstable_isNewReconciler:!1},Mb={readContext:Wn,useCallback:px,useContext:Wn,useEffect:um,useImperativeHandle:hx,useInsertionEffect:cx,useLayoutEffect:fx,useMemo:mx,useReducer:Jf,useRef:ux,useState:function(){return Jf(ja)},useDebugValue:cm,useDeferredValue:function(t){var e=$n();return It===null?e.memoizedState=t:gx(e,It.memoizedState,t)},useTransition:function(){var t=Jf(ja)[0],e=$n().memoizedState;return[t,e]},useMutableSource:nx,useSyncExternalStore:ix,useId:vx,unstable_isNewReconciler:!1};function ps(t,e){try{var n="",i=e;do n+=Kw(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function Qf(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function Oh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bb=typeof WeakMap=="function"?WeakMap:Map;function Sx(t,e,n){n=ki(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){tc||(tc=!0,jh=i),Oh(t,e)},n}function wx(t,e,n){n=ki(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Oh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Oh(t,e),typeof i!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function n0(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new bb;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=zb.bind(null,t,e,n),e.then(t,t))}function i0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function r0(t,e,n,i,r){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ki(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=r,t)}var Eb=Vi.ReactCurrentOwner,hn=!1;function rn(t,e,n,i){e.child=t===null?ex(e,null,n,i):ds(e,t.child,n,i)}function o0(t,e,n,i,r){n=n.render;var o=e.ref;return ts(e,r),i=am(t,e,n,i,o,r),n=lm(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Bi(t,e,r)):(vt&&n&&Yp(e),e.flags|=1,rn(t,e,i,r),e.child)}function s0(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!_m(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Mx(t,e,o,i,r)):(t=Au(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&r)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ua,n(s,i)&&t.ref===e.ref)return Bi(t,e,r)}return e.flags|=1,t=fr(o,i),t.ref=e.ref,t.return=e,e.child=t}function Mx(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Ua(o,i)&&t.ref===e.ref)if(hn=!1,e.pendingProps=i=o,(t.lanes&r)!==0)(t.flags&131072)!==0&&(hn=!0);else return e.lanes=t.lanes,Bi(t,e,r)}return Fh(t,e,n,i,r)}function bx(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Xo,Tn),Tn|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(Xo,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ft(Xo,Tn),Tn|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,ft(Xo,Tn),Tn|=i;return rn(t,e,r,n),e.child}function Ex(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fh(t,e,n,i,r){var o=gn(n)?Yr:Qt.current;return o=cs(e,o),ts(e,r),n=am(t,e,n,i,o,r),i=lm(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Bi(t,e,r)):(vt&&i&&Yp(e),e.flags|=1,rn(t,e,n,r),e.child)}function a0(t,e,n,i,r){if(gn(n)){var o=!0;$u(e)}else o=!1;if(ts(e,r),e.stateNode===null)Eu(t,e),Jy(e,n,i),kh(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=gn(n)?Yr:Qt.current,u=cs(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==u)&&Jg(e,s,i,u),Yi=!1;var d=e.memoizedState;s.state=d,Zu(e,i,s,r),l=e.memoizedState,a!==i||d!==l||mn.current||Yi?(typeof c=="function"&&(Ih(e,n,c,i),l=e.memoizedState),(a=Yi||Kg(e,n,a,i,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),s.props=i,s.state=l,s.context=u,i=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,Zy(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jn(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=gn(n)?Yr:Qt.current,l=cs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Jg(e,s,i,l),Yi=!1,d=e.memoizedState,s.state=d,Zu(e,i,s,r);var y=e.memoizedState;a!==f||d!==y||mn.current||Yi?(typeof p=="function"&&(Ih(e,n,p,i),y=e.memoizedState),(u=Yi||Kg(e,n,u,i,d,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),s.props=i,s.state=y,s.context=l,i=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return zh(t,e,n,i,o,r)}function zh(t,e,n,i,r,o){Ex(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&jg(e,n,!1),Bi(t,e,o);i=e.stateNode,Eb.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=ds(e,t.child,null,o),e.child=ds(e,null,a,o)):rn(t,e,a,o),e.memoizedState=i.state,r&&jg(e,n,!0),e.child}function Tx(t){var e=t.stateNode;e.pendingContext?$g(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$g(t,e.context,!1),im(t,e.containerInfo)}function l0(t,e,n,i,r){return fs(),Kp(r),e.flags|=256,rn(t,e,n,i),e.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function Bh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Cx(t,e,n){var i=e.pendingProps,r=St.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ft(St,r&1),t===null)return Dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},(i&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=bc(s,i,0,null),t=$r(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Bh(n),e.memoizedState=Uh,t):fm(e,s));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Tb(t,e,s,i,a,r,n);if(o){o=i.fallback,s=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return(s&1)===0&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=fr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=fr(a,o):(o=$r(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?Bh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Uh,i}return o=t.child,t=o.sibling,i=fr(o,{mode:"visible",children:i.children}),(e.mode&1)===0&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function fm(t,e){return e=bc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Il(t,e,n,i){return i!==null&&Kp(i),ds(e,t.child,null,n),t=fm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tb(t,e,n,i,r,o,s){if(n)return e.flags&256?(e.flags&=-257,i=Qf(Error(_e(422))),Il(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=bc({mode:"visible",children:i.children},r,0,null),o=$r(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,(e.mode&1)!==0&&ds(e,t.child,null,s),e.child.memoizedState=Bh(s),e.memoizedState=Uh,o);if((e.mode&1)===0)return Il(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(_e(419)),i=Qf(o,i,void 0),Il(t,e,s,i)}if(a=(s&t.childLanes)!==0,hn||a){if(i=Ht,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=(r&(i.suspendedLanes|s))!==0?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ui(t,r),ri(i,t,r,-1))}return vm(),i=Qf(Error(_e(421))),Il(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=Ub.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,An=ar(r.nextSibling),Ln=e,vt=!0,ei=null,t!==null&&(zn[Un++]=Di,zn[Un++]=Ni,zn[Un++]=Zr,Di=t.id,Ni=t.overflow,Zr=e),e=fm(e,i.children),e.flags|=4096,e)}function u0(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Nh(t.return,e,n)}function ed(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ax(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(rn(t,e,i.children,n),i=St.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u0(t,n,e);else if(t.tag===19)u0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ft(St,i),(e.mode&1)===0)e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Ku(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),ed(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Ku(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}ed(e,!0,n,null,o);break;case"together":ed(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(_e(153));if(e.child!==null){for(t=e.child,n=fr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cb(t,e,n){switch(e.tag){case 3:Tx(e),fs();break;case 5:tx(e);break;case 1:gn(e.type)&&$u(e);break;case 4:im(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ft(qu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ft(St,St.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Cx(t,e,n):(ft(St,St.current&1),t=Bi(t,e,n),t!==null?t.sibling:null);ft(St,St.current&1);break;case 19:if(i=(n&e.childLanes)!==0,(t.flags&128)!==0){if(i)return Ax(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ft(St,St.current),i)break;return null;case 22:case 23:return e.lanes=0,bx(t,e,n)}return Bi(t,e,n)}var Rx,Vh,Lx,Px;Rx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vh=function(){};Lx=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Gr(gi.current);var o=null;switch(n){case"input":r=uh(t,r),i=uh(t,i),o=[];break;case"select":r=bt({},r,{value:void 0}),i=bt({},i,{value:void 0}),o=[];break;case"textarea":r=dh(t,r),i=dh(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Hu)}ph(n,i);var s;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Da.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Da.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ht("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Px=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ws(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Ab(t,e,n){var i=e.pendingProps;switch(Zp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(e),null;case 1:return gn(e.type)&&Wu(),Yt(e),null;case 3:return i=e.stateNode,hs(),pt(mn),pt(Qt),om(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Dl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,ei!==null&&(Yh(ei),ei=null))),Vh(t,e),Yt(e),null;case 5:rm(e);var r=Gr(Wa.current);if(n=e.type,t!==null&&e.stateNode!=null)Lx(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(_e(166));return Yt(e),null}if(t=Gr(gi.current),Dl(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[hi]=e,i[Ga]=o,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(r=0;r<ha.length;r++)ht(ha[r],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":_g(i,o),ht("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},ht("invalid",i);break;case"textarea":xg(i,o),ht("invalid",i)}ph(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&Pl(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Pl(i.textContent,a,t),r=["children",""+a]):Da.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ht("scroll",i)}switch(n){case"input":Ml(i),yg(i,o,!0);break;case"textarea":Ml(i),Sg(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Hu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ry(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[hi]=e,t[Ga]=i,Rx(t,e,!1,!1),e.stateNode=t;e:{switch(s=mh(n,i),n){case"dialog":ht("cancel",t),ht("close",t),r=i;break;case"iframe":case"object":case"embed":ht("load",t),r=i;break;case"video":case"audio":for(r=0;r<ha.length;r++)ht(ha[r],t);r=i;break;case"source":ht("error",t),r=i;break;case"img":case"image":case"link":ht("error",t),ht("load",t),r=i;break;case"details":ht("toggle",t),r=i;break;case"input":_g(t,i),r=uh(t,i),ht("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=bt({},i,{value:void 0}),ht("invalid",t);break;case"textarea":xg(t,i),r=dh(t,i),ht("invalid",t);break;default:r=i}ph(n,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?ay(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&oy(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Na(t,l):typeof l=="number"&&Na(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Da.hasOwnProperty(o)?l!=null&&o==="onScroll"&&ht("scroll",t):l!=null&&kp(t,o,l,s))}switch(n){case"input":Ml(t),yg(t,i,!1);break;case"textarea":Ml(t),Sg(t);break;case"option":i.value!=null&&t.setAttribute("value",""+gr(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Ko(t,!!i.multiple,o,!1):i.defaultValue!=null&&Ko(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Hu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yt(e),null;case 6:if(t&&e.stateNode!=null)Px(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(_e(166));if(n=Gr(Wa.current),Gr(gi.current),Dl(e)){if(i=e.stateNode,n=e.memoizedProps,i[hi]=e,(o=i.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Pl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pl(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[hi]=e,e.stateNode=i}return Yt(e),null;case 13:if(pt(St),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&An!==null&&(e.mode&1)!==0&&(e.flags&128)===0)qy(),fs(),e.flags|=98560,o=!1;else if(o=Dl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(_e(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_e(317));o[hi]=e}else fs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Yt(e),o=!1}else ei!==null&&(Yh(ei),ei=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(St.current&1)!==0?kt===0&&(kt=3):vm())),e.updateQueue!==null&&(e.flags|=4),Yt(e),null);case 4:return hs(),Vh(t,e),t===null&&Ba(e.stateNode.containerInfo),Yt(e),null;case 10:return em(e.type._context),Yt(e),null;case 17:return gn(e.type)&&Wu(),Yt(e),null;case 19:if(pt(St),o=e.memoizedState,o===null)return Yt(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)Ws(o,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Ku(t),s!==null){for(e.flags|=128,Ws(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ft(St,St.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ct()>ms&&(e.flags|=128,i=!0,Ws(o,!1),e.lanes=4194304)}else{if(!i)if(t=Ku(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ws(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!vt)return Yt(e),null}else 2*Ct()-o.renderingStartTime>ms&&n!==1073741824&&(e.flags|=128,i=!0,Ws(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ct(),e.sibling=null,n=St.current,ft(St,i?n&1|2:n&1),e):(Yt(e),null);case 22:case 23:return gm(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&(e.mode&1)!==0?(Tn&1073741824)!==0&&(Yt(e),e.subtreeFlags&6&&(e.flags|=8192)):Yt(e),null;case 24:return null;case 25:return null}throw Error(_e(156,e.tag))}function Rb(t,e){switch(Zp(e),e.tag){case 1:return gn(e.type)&&Wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return hs(),pt(mn),pt(Qt),om(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return rm(e),null;case 13:if(pt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_e(340));fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(St),null;case 4:return hs(),null;case 10:return em(e.type._context),null;case 22:case 23:return gm(),null;case 24:return null;default:return null}}var kl=!1,Kt=!1,Lb=typeof WeakSet=="function"?WeakSet:Set,Le=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Et(t,e,i)}else n.current=null}function Gh(t,e,n){try{n()}catch(i){Et(t,e,i)}}var c0=!1;function Pb(t,e){if(Eh=Bu,t=ky(),qp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||r!==0&&f.nodeType!==3||(a=s+r),f!==o||i!==0&&f.nodeType!==3||(l=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===r&&(a=s),d===o&&++c===i&&(l=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Th={focusedElem:t,selectionRange:n},Bu=!1,Le=e;Le!==null;)if(e=Le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Le=t;else for(;Le!==null;){e=Le;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var h=y.memoizedProps,m=y.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?h:Jn(e.type,h),m);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(x){Et(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Le=t;break}Le=e.return}return y=c0,c0=!1,y}function Ma(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&Gh(e,n,o)}r=r.next}while(r!==i)}}function wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Dx(t){var e=t.alternate;e!==null&&(t.alternate=null,Dx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hi],delete e[Ga],delete e[Rh],delete e[hb],delete e[pb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nx(t){return t.tag===5||t.tag===3||t.tag===4}function f0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hu));else if(i!==4&&(t=t.child,t!==null))for(Wh(t,e,n),t=t.sibling;t!==null;)Wh(t,e,n),t=t.sibling}function $h(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for($h(t,e,n),t=t.sibling;t!==null;)$h(t,e,n),t=t.sibling}var $t=null,Qn=!1;function Hi(t,e,n){for(n=n.child;n!==null;)Ix(t,e,n),n=n.sibling}function Ix(t,e,n){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(pc,n)}catch{}switch(n.tag){case 5:Kt||jo(n,e);case 6:var i=$t,r=Qn;$t=null,Hi(t,e,n),$t=i,Qn=r,$t!==null&&(Qn?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(Qn?(t=$t,n=n.stateNode,t.nodeType===8?Xf(t.parentNode,n):t.nodeType===1&&Xf(t,n),Fa(t)):Xf($t,n.stateNode));break;case 4:i=$t,r=Qn,$t=n.stateNode.containerInfo,Qn=!0,Hi(t,e,n),$t=i,Qn=r;break;case 0:case 11:case 14:case 15:if(!Kt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&Gh(n,e,s),r=r.next}while(r!==i)}Hi(t,e,n);break;case 1:if(!Kt&&(jo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Et(n,e,a)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(Kt=(i=Kt)||n.memoizedState!==null,Hi(t,e,n),Kt=i):Hi(t,e,n);break;default:Hi(t,e,n)}}function d0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Lb),e.forEach(function(i){var r=Bb.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:$t=a.stateNode,Qn=!1;break e;case 3:$t=a.stateNode.containerInfo,Qn=!0;break e;case 4:$t=a.stateNode.containerInfo,Qn=!0;break e}a=a.return}if($t===null)throw Error(_e(160));Ix(o,s,r),$t=null,Qn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Et(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kx(e,t),e=e.sibling}function kx(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),li(t),i&4){try{Ma(3,t,t.return),wc(3,t)}catch(h){Et(t,t.return,h)}try{Ma(5,t,t.return)}catch(h){Et(t,t.return,h)}}break;case 1:Xn(e,t),li(t),i&512&&n!==null&&jo(n,n.return);break;case 5:if(Xn(e,t),li(t),i&512&&n!==null&&jo(n,n.return),t.flags&32){var r=t.stateNode;try{Na(r,"")}catch(h){Et(t,t.return,h)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&ny(r,o),mh(a,s);var u=mh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?ay(r,f):c==="dangerouslySetInnerHTML"?oy(r,f):c==="children"?Na(r,f):kp(r,c,f,u)}switch(a){case"input":ch(r,o);break;case"textarea":iy(r,o);break;case"select":var d=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Ko(r,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Ko(r,!!o.multiple,o.defaultValue,!0):Ko(r,!!o.multiple,o.multiple?[]:"",!1))}r[Ga]=o}catch(h){Et(t,t.return,h)}}break;case 6:if(Xn(e,t),li(t),i&4){if(t.stateNode===null)throw Error(_e(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(h){Et(t,t.return,h)}}break;case 3:if(Xn(e,t),li(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Fa(e.containerInfo)}catch(h){Et(t,t.return,h)}break;case 4:Xn(e,t),li(t);break;case 13:Xn(e,t),li(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(pm=Ct())),i&4&&d0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(u=Kt)||c,Xn(e,t),Kt=u):Xn(e,t),li(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(Le=t,c=t.child;c!==null;){for(f=Le=c;Le!==null;){switch(d=Le,p=d.child,d.tag){case 0:case 11:case 14:case 15:Ma(4,d,d.return);break;case 1:jo(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){i=d,n=d.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(h){Et(i,n,h)}}break;case 5:jo(d,d.return);break;case 22:if(d.memoizedState!==null){p0(f);continue}}p!==null?(p.return=d,Le=p):p0(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{r=f.stateNode,u?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sy("display",s))}catch(h){Et(t,t.return,h)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(h){Et(t,t.return,h)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xn(e,t),li(t),i&4&&d0(t);break;case 21:break;default:Xn(e,t),li(t)}}function li(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nx(n)){var i=n;break e}n=n.return}throw Error(_e(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Na(r,""),i.flags&=-33);var o=f0(t);$h(t,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=f0(t);Wh(t,a,s);break;default:throw Error(_e(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Db(t,e,n){Le=t,Ox(t)}function Ox(t,e,n){for(var i=(t.mode&1)!==0;Le!==null;){var r=Le,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||kl;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=kl;var u=Kt;if(kl=s,(Kt=l)&&!u)for(Le=r;Le!==null;)s=Le,l=s.child,s.tag===22&&s.memoizedState!==null?m0(r):l!==null?(l.return=s,Le=l):m0(r);for(;o!==null;)Le=o,Ox(o),o=o.sibling;Le=r,kl=a,Kt=u}h0(t)}else(r.subtreeFlags&8772)!==0&&o!==null?(o.return=r,Le=o):h0(t)}}function h0(t){for(;Le!==null;){var e=Le;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Kt||wc(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Kt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Zg(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zg(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Fa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Kt||e.flags&512&&Hh(e)}catch(d){Et(e,e.return,d)}}if(e===t){Le=null;break}if(n=e.sibling,n!==null){n.return=e.return,Le=n;break}Le=e.return}}function p0(t){for(;Le!==null;){var e=Le;if(e===t){Le=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Le=n;break}Le=e.return}}function m0(t){for(;Le!==null;){var e=Le;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wc(4,e)}catch(l){Et(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Et(e,r,l)}}var o=e.return;try{Hh(e)}catch(l){Et(e,o,l)}break;case 5:var s=e.return;try{Hh(e)}catch(l){Et(e,s,l)}}}catch(l){Et(e,e.return,l)}if(e===t){Le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Le=a;break}Le=e.return}}var Nb=Math.ceil,ec=Vi.ReactCurrentDispatcher,dm=Vi.ReactCurrentOwner,Hn=Vi.ReactCurrentBatchConfig,et=0,Ht=null,Pt=null,jt=0,Tn=0,Xo=xr(0),kt=0,qa=null,Jr=0,Mc=0,hm=0,ba=null,dn=null,pm=0,ms=1/0,Ri=null,tc=!1,jh=null,ur=null,Ol=!1,er=null,nc=0,Ea=0,Xh=null,Tu=-1,Cu=0;function sn(){return(et&6)!==0?Ct():Tu!==-1?Tu:Tu=Ct()}function cr(t){return(t.mode&1)===0?1:(et&2)!==0&&jt!==0?jt&-jt:gb.transition!==null?(Cu===0&&(Cu=yy()),Cu):(t=ot,t!==0||(t=window.event,t=t===void 0?16:Ty(t.type)),t)}function ri(t,e,n,i){if(50<Ea)throw Ea=0,Xh=null,Error(_e(185));sl(t,n,i),((et&2)===0||t!==Ht)&&(t===Ht&&((et&2)===0&&(Mc|=n),kt===4&&Ji(t,jt)),vn(t,i),n===1&&et===0&&(e.mode&1)===0&&(ms=Ct()+500,yc&&Sr()))}function vn(t,e){var n=t.callbackNode;gM(t,e);var i=Uu(t,t===Ht?jt:0);if(i===0)n!==null&&bg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&bg(n),e===1)t.tag===0?mb(g0.bind(null,t)):$y(g0.bind(null,t)),fb(function(){(et&6)===0&&Sr()}),n=null;else{switch(xy(i)){case 1:n=Bp;break;case 4:n=vy;break;case 16:n=zu;break;case 536870912:n=_y;break;default:n=zu}n=Wx(n,Fx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fx(t,e){if(Tu=-1,Cu=0,(et&6)!==0)throw Error(_e(327));var n=t.callbackNode;if(ns()&&t.callbackNode!==n)return null;var i=Uu(t,t===Ht?jt:0);if(i===0)return null;if((i&30)!==0||(i&t.expiredLanes)!==0||e)e=ic(t,i);else{e=i;var r=et;et|=2;var o=Ux();(Ht!==t||jt!==e)&&(Ri=null,ms=Ct()+500,Wr(t,e));do try{Ob();break}catch(a){zx(t,a)}while(1);Qp(),ec.current=o,et=r,Pt!==null?e=0:(Ht=null,jt=0,e=kt)}if(e!==0){if(e===2&&(r=xh(t),r!==0&&(i=r,e=qh(t,r))),e===1)throw n=qa,Wr(t,0),Ji(t,i),vn(t,Ct()),n;if(e===6)Ji(t,i);else{if(r=t.current.alternate,(i&30)===0&&!Ib(r)&&(e=ic(t,i),e===2&&(o=xh(t),o!==0&&(i=o,e=qh(t,o))),e===1))throw n=qa,Wr(t,0),Ji(t,i),vn(t,Ct()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(_e(345));case 2:kr(t,dn,Ri);break;case 3:if(Ji(t,i),(i&130023424)===i&&(e=pm+500-Ct(),10<e)){if(Uu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){sn(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Ah(kr.bind(null,t,dn,Ri),e);break}kr(t,dn,Ri);break;case 4:if(Ji(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-ii(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=Ct()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Nb(i/1960))-i,10<i){t.timeoutHandle=Ah(kr.bind(null,t,dn,Ri),i);break}kr(t,dn,Ri);break;case 5:kr(t,dn,Ri);break;default:throw Error(_e(329))}}}return vn(t,Ct()),t.callbackNode===n?Fx.bind(null,t):null}function qh(t,e){var n=ba;return t.current.memoizedState.isDehydrated&&(Wr(t,e).flags|=256),t=ic(t,e),t!==2&&(e=dn,dn=n,e!==null&&Yh(e)),t}function Yh(t){dn===null?dn=t:dn.push.apply(dn,t)}function Ib(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ji(t,e){for(e&=~hm,e&=~Mc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ii(e),i=1<<n;t[n]=-1,e&=~i}}function g0(t){if((et&6)!==0)throw Error(_e(327));ns();var e=Uu(t,0);if((e&1)===0)return vn(t,Ct()),null;var n=ic(t,e);if(t.tag!==0&&n===2){var i=xh(t);i!==0&&(e=i,n=qh(t,i))}if(n===1)throw n=qa,Wr(t,0),Ji(t,e),vn(t,Ct()),n;if(n===6)throw Error(_e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,dn,Ri),vn(t,Ct()),null}function mm(t,e){var n=et;et|=1;try{return t(e)}finally{et=n,et===0&&(ms=Ct()+500,yc&&Sr())}}function Qr(t){er!==null&&er.tag===0&&(et&6)===0&&ns();var e=et;et|=1;var n=Hn.transition,i=ot;try{if(Hn.transition=null,ot=1,t)return t()}finally{ot=i,Hn.transition=n,et=e,(et&6)===0&&Sr()}}function gm(){Tn=Xo.current,pt(Xo)}function Wr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cb(n)),Pt!==null)for(n=Pt.return;n!==null;){var i=n;switch(Zp(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wu();break;case 3:hs(),pt(mn),pt(Qt),om();break;case 5:rm(i);break;case 4:hs();break;case 13:pt(St);break;case 19:pt(St);break;case 10:em(i.type._context);break;case 22:case 23:gm()}n=n.return}if(Ht=t,Pt=t=fr(t.current,null),jt=Tn=e,kt=0,qa=null,hm=Mc=Jr=0,dn=ba=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}Vr=null}return t}function zx(t,e){do{var n=Pt;try{if(Qp(),Mu.current=Qu,Ju){for(var i=Mt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ju=!1}if(Kr=0,Vt=It=Mt=null,wa=!1,$a=0,dm.current=null,n===null||n.return===null){kt=1,qa=e,Pt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if((c.mode&1)===0&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=i0(s);if(p!==null){p.flags&=-257,r0(p,s,a,o,e),p.mode&1&&n0(o,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var h=new Set;h.add(l),e.updateQueue=h}else y.add(l);break e}else{if((e&1)===0){n0(o,u,e),vm();break e}l=Error(_e(426))}}else if(vt&&a.mode&1){var m=i0(s);if(m!==null){(m.flags&65536)===0&&(m.flags|=256),r0(m,s,a,o,e),Kp(ps(l,a));break e}}o=l=ps(l,a),kt!==4&&(kt=2),ba===null?ba=[o]:ba.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var g=Sx(o,l,e);Yg(o,g);break e;case 1:a=l;var v=o.type,_=o.stateNode;if((o.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ur===null||!ur.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=wx(o,a,e);Yg(o,x);break e}}o=o.return}while(o!==null)}Vx(n)}catch(w){e=w,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(1)}function Ux(){var t=ec.current;return ec.current=Qu,t===null?Qu:t}function vm(){(kt===0||kt===3||kt===2)&&(kt=4),Ht===null||(Jr&268435455)===0&&(Mc&268435455)===0||Ji(Ht,jt)}function ic(t,e){var n=et;et|=2;var i=Ux();(Ht!==t||jt!==e)&&(Ri=null,Wr(t,e));do try{kb();break}catch(r){zx(t,r)}while(1);if(Qp(),et=n,ec.current=i,Pt!==null)throw Error(_e(261));return Ht=null,jt=0,kt}function kb(){for(;Pt!==null;)Bx(Pt)}function Ob(){for(;Pt!==null&&!aM();)Bx(Pt)}function Bx(t){var e=Hx(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?Vx(t):Pt=e,dm.current=null}function Vx(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=Ab(n,e,Tn),n!==null){Pt=n;return}}else{if(n=Rb(n,e),n!==null){n.flags&=32767,Pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,Pt=null;return}}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);kt===0&&(kt=5)}function kr(t,e,n){var i=ot,r=Hn.transition;try{Hn.transition=null,ot=1,Fb(t,e,n,i)}finally{Hn.transition=r,ot=i}return null}function Fb(t,e,n,i){do ns();while(er!==null);if((et&6)!==0)throw Error(_e(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_e(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(vM(t,o),t===Ht&&(Pt=Ht=null,jt=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ol||(Ol=!0,Wx(zu,function(){return ns(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=Hn.transition,Hn.transition=null;var s=ot;ot=1;var a=et;et|=4,dm.current=null,Pb(t,n),kx(n,t),ib(Th),Bu=!!Eh,Th=Eh=null,t.current=n,Db(n),lM(),et=a,ot=s,Hn.transition=o}else t.current=n;if(Ol&&(Ol=!1,er=t,nc=r),o=t.pendingLanes,o===0&&(ur=null),fM(n.stateNode),vn(t,Ct()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(tc)throw tc=!1,t=jh,jh=null,t;return(nc&1)!==0&&t.tag!==0&&ns(),o=t.pendingLanes,(o&1)!==0?t===Xh?Ea++:(Ea=0,Xh=t):Ea=0,Sr(),null}function ns(){if(er!==null){var t=xy(nc),e=Hn.transition,n=ot;try{if(Hn.transition=null,ot=16>t?16:t,er===null)var i=!1;else{if(t=er,er=null,nc=0,(et&6)!==0)throw Error(_e(331));var r=et;for(et|=4,Le=t.current;Le!==null;){var o=Le,s=o.child;if((Le.flags&16)!==0){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Le=u;Le!==null;){var c=Le;switch(c.tag){case 0:case 11:case 15:Ma(8,c,o)}var f=c.child;if(f!==null)f.return=c,Le=f;else for(;Le!==null;){c=Le;var d=c.sibling,p=c.return;if(Dx(c),c===u){Le=null;break}if(d!==null){d.return=p,Le=d;break}Le=p}}}var y=o.alternate;if(y!==null){var h=y.child;if(h!==null){y.child=null;do{var m=h.sibling;h.sibling=null,h=m}while(h!==null)}}Le=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,Le=s;else e:for(;Le!==null;){if(o=Le,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Ma(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,Le=g;break e}Le=o.return}}var v=t.current;for(Le=v;Le!==null;){s=Le;var _=s.child;if((s.subtreeFlags&2064)!==0&&_!==null)_.return=s,Le=_;else e:for(s=v;Le!==null;){if(a=Le,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:wc(9,a)}}catch(w){Et(a,a.return,w)}if(a===s){Le=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,Le=x;break e}Le=a.return}}if(et=r,Sr(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(pc,t)}catch{}i=!0}return i}finally{ot=n,Hn.transition=e}}return!1}function v0(t,e,n){e=ps(n,e),e=Sx(t,e,1),t=lr(t,e,1),e=sn(),t!==null&&(sl(t,1,e),vn(t,e))}function Et(t,e,n){if(t.tag===3)v0(t,t,n);else for(;e!==null;){if(e.tag===3){v0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ur===null||!ur.has(i))){t=ps(n,t),t=wx(e,t,1),e=lr(e,t,1),t=sn(),e!==null&&(sl(e,1,t),vn(e,t));break}}e=e.return}}function zb(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(jt&n)===n&&(kt===4||kt===3&&(jt&130023424)===jt&&500>Ct()-pm?Wr(t,0):hm|=n),vn(t,e)}function Gx(t,e){e===0&&((t.mode&1)===0?e=1:(e=Tl,Tl<<=1,(Tl&130023424)===0&&(Tl=4194304)));var n=sn();t=Ui(t,e),t!==null&&(sl(t,e,n),vn(t,n))}function Ub(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Gx(t,n)}function Bb(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(_e(314))}i!==null&&i.delete(e),Gx(t,n)}var Hx;Hx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)hn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return hn=!1,Cb(t,e,n);hn=(t.flags&131072)!==0}else hn=!1,vt&&(e.flags&1048576)!==0&&jy(e,Xu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Eu(t,e),t=e.pendingProps;var r=cs(e,Qt.current);ts(e,n),r=am(null,e,i,t,r,n);var o=lm();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(i)?(o=!0,$u(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,nm(e),r.updater=xc,e.stateNode=r,r._reactInternals=e,kh(e,i,t,n),e=zh(null,e,i,!0,o,n)):(e.tag=0,vt&&o&&Yp(e),rn(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Eu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Gb(i),t=Jn(i,t),r){case 0:e=Fh(null,e,i,t,n);break e;case 1:e=a0(null,e,i,t,n);break e;case 11:e=o0(null,e,i,t,n);break e;case 14:e=s0(null,e,i,Jn(i.type,t),n);break e}throw Error(_e(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Jn(i,r),Fh(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Jn(i,r),a0(t,e,i,r,n);case 3:e:{if(Tx(e),t===null)throw Error(_e(387));i=e.pendingProps,o=e.memoizedState,r=o.element,Zy(t,e),Zu(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=ps(Error(_e(423)),e),e=l0(t,e,i,n,r);break e}else if(i!==r){r=ps(Error(_e(424)),e),e=l0(t,e,i,n,r);break e}else for(An=ar(e.stateNode.containerInfo.firstChild),Ln=e,vt=!0,ei=null,n=ex(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fs(),i===r){e=Bi(t,e,n);break e}rn(t,e,i,n)}e=e.child}return e;case 5:return tx(e),t===null&&Dh(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,Ch(i,r)?s=null:o!==null&&Ch(i,o)&&(e.flags|=32),Ex(t,e),rn(t,e,s,n),e.child;case 6:return t===null&&Dh(e),null;case 13:return Cx(t,e,n);case 4:return im(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ds(e,null,i,n):rn(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Jn(i,r),o0(t,e,i,r,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,ft(qu,i._currentValue),i._currentValue=s,o!==null)if(si(o.value,s)){if(o.children===r.children&&!mn.current){e=Bi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=ki(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(_e(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Nh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rn(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ts(e,n),r=Wn(r),i=i(r),e.flags|=1,rn(t,e,i,n),e.child;case 14:return i=e.type,r=Jn(i,e.pendingProps),r=Jn(i.type,r),s0(t,e,i,r,n);case 15:return Mx(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Jn(i,r),Eu(t,e),e.tag=1,gn(i)?(t=!0,$u(e)):t=!1,ts(e,n),Jy(e,i,r),kh(e,i,r,n),zh(null,e,i,!0,t,n);case 19:return Ax(t,e,n);case 22:return bx(t,e,n)}throw Error(_e(156,e.tag))};function Wx(t,e){return gy(t,e)}function Vb(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(t,e,n,i){return new Vb(t,e,n,i)}function _m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gb(t){if(typeof t=="function")return _m(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fp)return 11;if(t===zp)return 14}return 2}function fr(t,e){var n=t.alternate;return n===null?(n=Gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Au(t,e,n,i,r,o){var s=2;if(i=t,typeof t=="function")_m(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Fo:return $r(n.children,r,o,e);case Op:s=8,r|=8;break;case oh:return t=Gn(12,n,e,r|2),t.elementType=oh,t.lanes=o,t;case sh:return t=Gn(13,n,e,r),t.elementType=sh,t.lanes=o,t;case ah:return t=Gn(19,n,e,r),t.elementType=ah,t.lanes=o,t;case Q_:return bc(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K_:s=10;break e;case J_:s=9;break e;case Fp:s=11;break e;case zp:s=14;break e;case qi:s=16,i=null;break e}throw Error(_e(130,t==null?t:typeof t,""))}return e=Gn(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function $r(t,e,n,i){return t=Gn(7,t,i,e),t.lanes=n,t}function bc(t,e,n,i){return t=Gn(22,t,i,e),t.elementType=Q_,t.lanes=n,t.stateNode={isHidden:!1},t}function td(t,e,n){return t=Gn(6,t,null,e),t.lanes=n,t}function nd(t,e,n){return e=Gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hb(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ym(t,e,n,i,r,o,s,a,l){return t=new Hb(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Gn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nm(o),t}function Wb(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function $x(t){if(!t)return vr;t=t._reactInternals;e:{if(uo(t)!==t||t.tag!==1)throw Error(_e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_e(171))}if(t.tag===1){var n=t.type;if(gn(n))return Wy(t,n,e)}return e}function jx(t,e,n,i,r,o,s,a,l){return t=ym(n,i,!0,t,r,o,s,a,l),t.context=$x(null),n=t.current,i=sn(),r=cr(n),o=ki(i,r),o.callback=e!=null?e:null,lr(n,o,r),t.current.lanes=r,sl(t,r,i),vn(t,i),t}function Ec(t,e,n,i){var r=e.current,o=sn(),s=cr(r);return n=$x(n),e.context===null?e.context=n:e.pendingContext=n,e=ki(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=lr(r,e,s),t!==null&&(ri(t,r,s,o),wu(t,r,s)),s}function rc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xm(t,e){_0(t,e),(t=t.alternate)&&_0(t,e)}function $b(){return null}var Xx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}Tc.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_e(409));Ec(t,e,null,null)};Tc.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){Ec(null,t,null,null)}),e[zi]=null}};function Tc(t){this._internalRoot=t}Tc.prototype.unstable_scheduleHydration=function(t){if(t){var e=My();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ki.length&&e!==0&&e<Ki[n].priority;n++);Ki.splice(n,0,t),n===0&&Ey(t)}};function wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function y0(){}function jb(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var u=rc(s);o.call(u)}}var s=jx(e,i,t,0,null,!1,!1,"",y0);return t._reactRootContainer=s,t[zi]=s.current,Ba(t.nodeType===8?t.parentNode:t),Qr(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=rc(l);a.call(u)}}var l=ym(t,0,!1,null,null,!1,!1,"",y0);return t._reactRootContainer=l,t[zi]=l.current,Ba(t.nodeType===8?t.parentNode:t),Qr(function(){Ec(e,l,n,i)}),l}function Ac(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=rc(s);a.call(l)}}Ec(e,s,t,r)}else s=jb(n,e,t,r,i);return rc(s)}Sy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=da(e.pendingLanes);n!==0&&(Vp(e,n|1),vn(e,Ct()),(et&6)===0&&(ms=Ct()+500,Sr()))}break;case 13:Qr(function(){var i=Ui(t,1);if(i!==null){var r=sn();ri(i,t,1,r)}}),xm(t,1)}};Gp=function(t){if(t.tag===13){var e=Ui(t,134217728);if(e!==null){var n=sn();ri(e,t,134217728,n)}xm(t,134217728)}};wy=function(t){if(t.tag===13){var e=cr(t),n=Ui(t,e);if(n!==null){var i=sn();ri(n,t,e,i)}xm(t,e)}};My=function(){return ot};by=function(t,e){var n=ot;try{return ot=t,e()}finally{ot=n}};vh=function(t,e,n){switch(e){case"input":if(ch(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=_c(i);if(!r)throw Error(_e(90));ty(i),ch(i,r)}}}break;case"textarea":iy(t,n);break;case"select":e=n.value,e!=null&&Ko(t,!!n.multiple,e,!1)}};cy=mm;fy=Qr;var Xb={usingClientEntryPoint:!1,Events:[ll,Vo,_c,ly,uy,mm]},$s={findFiberByHostInstance:Br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qb={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=py(t),t===null?null:t.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||$b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{pc=Fl.inject(qb),mi=Fl}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xb;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wm(e))throw Error(_e(200));return Wb(t,e,null,n)};In.createRoot=function(t,e){if(!wm(t))throw Error(_e(299));var n=!1,i="",r=Xx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=ym(t,1,!1,null,null,n,!1,i,r),t[zi]=e.current,Ba(t.nodeType===8?t.parentNode:t),new Sm(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_e(188)):(t=Object.keys(t).join(","),Error(_e(268,t)));return t=py(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return Qr(t)};In.hydrate=function(t,e,n){if(!Cc(e))throw Error(_e(200));return Ac(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!wm(t))throw Error(_e(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=Xx;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=jx(e,null,t,1,n!=null?n:null,r,!1,o,s),t[zi]=e.current,Ba(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Tc(e)};In.render=function(t,e,n){if(!Cc(e))throw Error(_e(200));return Ac(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!Cc(t))throw Error(_e(40));return t._reactRootContainer?(Qr(function(){Ac(null,null,t,!1,function(){t._reactRootContainer=null,t[zi]=null})}),!0):!1};In.unstable_batchedUpdates=mm;In.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Cc(n))throw Error(_e(200));if(t==null||t._reactInternals===void 0)throw Error(_e(38));return Ac(t,e,n,!1,i)};In.version="18.2.0-next-9e3b772b8-20220608";function qx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qx)}catch(t){console.error(t)}}qx(),Dp.exports=In;var Yb=Dp.exports,x0=Dp.exports;ih.createRoot=x0.createRoot,ih.hydrateRoot=x0.hydrateRoot;/**
 * @remix-run/router v1.0.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oc.apply(this,arguments)}var tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tr||(tr={}));const S0="popstate";function Zb(t){t===void 0&&(t={});function e(i,r){let{pathname:o,search:s,hash:a}=i.location;return Zh("",{pathname:o,search:s,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Ya(r)}return Qb(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t=="undefined")throw new Error(e)}function Kb(){return Math.random().toString(36).substr(2,8)}function w0(t){return{usr:t.state,key:t.key}}function Zh(t,e,n,i){return n===void 0&&(n=null),oc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ls(e):e,{state:n,key:e&&e.key||i||Kb()})}function Ya(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function Jb(t){let e=typeof window!="undefined"&&typeof window.location!="undefined"&&window.location.origin!=="null"?window.location.origin:window.location.href,n=typeof t=="string"?t:Ya(t);return Ot(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}function Qb(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,a=tr.Pop,l=null;function u(){a=tr.Pop,l&&l({action:a,location:d.location})}function c(p,y){a=tr.Push;let h=Zh(d.location,p,y);n&&n(h,p);let m=w0(h),g=d.createHref(h);try{s.pushState(m,"",g)}catch{r.location.assign(g)}o&&l&&l({action:a,location:d.location})}function f(p,y){a=tr.Replace;let h=Zh(d.location,p,y);n&&n(h,p);let m=w0(h),g=d.createHref(h);s.replaceState(m,"",g),o&&l&&l({action:a,location:d.location})}let d={get action(){return a},get location(){return t(r,s)},listen(p){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(S0,u),l=p,()=>{r.removeEventListener(S0,u),l=null}},createHref(p){return e(r,p)},encodeLocation(p){let y=Jb(typeof p=="string"?p:Ya(p));return{pathname:y.pathname,search:y.search,hash:y.hash}},push:c,replace:f,go(p){return s.go(p)}};return d}var M0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(M0||(M0={}));function eE(t,e,n){n===void 0&&(n="/");let i=typeof e=="string"?Ls(e):e,r=Zx(i.pathname||"/",n);if(r==null)return null;let o=Yx(t);tE(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=cE(o[a],hE(r));return s}function Yx(t,e,n,i){return e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i=""),t.forEach((r,o)=>{let s={relativePath:r.path||"",caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};s.relativePath.startsWith("/")&&(Ot(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(i.length));let a=dr([i,s.relativePath]),l=n.concat(s);r.children&&r.children.length>0&&(Ot(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),Yx(r.children,e,l,a)),!(r.path==null&&!r.index)&&e.push({path:a,score:lE(a,r.index),routesMeta:l})}),e}function tE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uE(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const nE=/^:\w+$/,iE=3,rE=2,oE=1,sE=10,aE=-2,b0=t=>t==="*";function lE(t,e){let n=t.split("/"),i=n.length;return n.some(b0)&&(i+=aE),e&&(i+=rE),n.filter(r=>!b0(r)).reduce((r,o)=>r+(nE.test(o)?iE:o===""?oE:sE),i)}function uE(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function cE(t,e){let{routesMeta:n}=t,i={},r="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=r==="/"?e:e.slice(r.length)||"/",c=fE({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(i,c.params);let f=a.route;o.push({params:i,pathname:dr([r,c.pathname]),pathnameBase:vE(dr([r,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(r=dr([r,c.pathnameBase]))}return o}function fE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=dE(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,c,f)=>{if(c==="*"){let d=a[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=pE(a[f]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function dE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,a)=>(i.push(a),"([^\\/]+)"));return t.endsWith("*")?(i.push("*"),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function hE(t){try{return decodeURI(t)}catch(e){return Mm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pE(t,e){try{return decodeURIComponent(t)}catch(n){return Mm(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Zx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Mm(t,e){if(!t){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function mE(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Ls(t):t;return{pathname:n?n.startsWith("/")?n:gE(n,e):e,search:_E(i),hash:yE(r)}}function gE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function id(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Kx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jx(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Ls(t):(r=oc({},t),Ot(!r.pathname||!r.pathname.includes("?"),id("?","pathname","search",r)),Ot(!r.pathname||!r.pathname.includes("#"),id("#","pathname","hash",r)),Ot(!r.search||!r.search.includes("#"),id("#","search","hash",r)));let o=t===""||r.pathname==="",s=o?"/":r.pathname,a;if(i||s==null)a=n;else{let f=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;r.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=mE(r,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const dr=t=>t.join("/").replace(/\/\/+/g,"/"),vE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_E=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,yE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class xE{constructor(e,n,i,r){r===void 0&&(r=!1),this.status=e,this.statusText=n||"",this.internal=r,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function SE(t){return t instanceof xE}const wE=["post","put","patch","delete"];[...wE];/**
 * React Router v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kh.apply(this,arguments)}function ME(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const bE=typeof Object.is=="function"?Object.is:ME,{useState:EE,useEffect:TE,useLayoutEffect:CE,useDebugValue:AE}=nh;function RE(t,e,n){const i=e(),[{inst:r},o]=EE({inst:{value:i,getSnapshot:e}});return CE(()=>{r.value=i,r.getSnapshot=e,rd(r)&&o({inst:r})},[t,i,e]),TE(()=>(rd(r)&&o({inst:r}),t(()=>{rd(r)&&o({inst:r})})),[t]),AE(i),i}function rd(t){const e=t.getSnapshot,n=t.value;try{const i=e();return!bE(n,i)}catch{return!0}}function LE(t,e,n){return e()}const PE=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",DE=!PE,NE=DE?LE:RE;"useSyncExternalStore"in nh&&(t=>t.useSyncExternalStore)(nh);const IE=Ee.exports.createContext(null),kE=Ee.exports.createContext(null),Qx=Ee.exports.createContext(null),Rc=Ee.exports.createContext(null),Lc=Ee.exports.createContext(null),Ps=Ee.exports.createContext({outlet:null,matches:[]}),eS=Ee.exports.createContext(null);function OE(t,e){let{relative:n}=e===void 0?{}:e;cl()||Ot(!1);let{basename:i,navigator:r}=Ee.exports.useContext(Rc),{hash:o,pathname:s,search:a}=tS(t,{relative:n}),l=s;return i!=="/"&&(l=s==="/"?i:dr([i,s])),r.createHref({pathname:l,search:a,hash:o})}function cl(){return Ee.exports.useContext(Lc)!=null}function Pc(){return cl()||Ot(!1),Ee.exports.useContext(Lc).location}function FE(){cl()||Ot(!1);let{basename:t,navigator:e}=Ee.exports.useContext(Rc),{matches:n}=Ee.exports.useContext(Ps),{pathname:i}=Pc(),r=JSON.stringify(Kx(n).map(a=>a.pathnameBase)),o=Ee.exports.useRef(!1);return Ee.exports.useEffect(()=>{o.current=!0}),Ee.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=Jx(a,JSON.parse(r),i,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:dr([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,r,i])}const zE=Ee.exports.createContext(null);function UE(t){let e=Ee.exports.useContext(Ps).outlet;return e&&Ee.exports.createElement(zE.Provider,{value:t},e)}function tS(t,e){let{relative:n}=e===void 0?{}:e,{matches:i}=Ee.exports.useContext(Ps),{pathname:r}=Pc(),o=JSON.stringify(Kx(i).map(s=>s.pathnameBase));return Ee.exports.useMemo(()=>Jx(t,JSON.parse(o),r,n==="path"),[t,o,r,n])}function BE(t,e){cl()||Ot(!1);let{navigator:n}=Ee.exports.useContext(Rc),i=Ee.exports.useContext(Qx),{matches:r}=Ee.exports.useContext(Ps),o=r[r.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Pc(),u;if(e){var c;let h=typeof e=="string"?Ls(e):e;a==="/"||((c=h.pathname)==null?void 0:c.startsWith(a))||Ot(!1),u=h}else u=l;let f=u.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",p=eE(t,{pathname:d}),y=WE(p&&p.map(h=>Object.assign({},h,{params:Object.assign({},s,h.params),pathname:dr([a,n.encodeLocation?n.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?a:dr([a,n.encodeLocation?n.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),r,i||void 0);return e&&y?Ee.exports.createElement(Lc.Provider,{value:{location:Kh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tr.Pop}},y):y}function VE(){let t=jE(),e=SE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return Ee.exports.createElement(Ee.exports.Fragment,null,Ee.exports.createElement("h2",null,"Unhandled Thrown Error!"),Ee.exports.createElement("h3",{style:{fontStyle:"italic"}},e),n?Ee.exports.createElement("pre",{style:r},n):null,Ee.exports.createElement("p",null,"\u{1F4BF} Hey developer \u{1F44B}"),Ee.exports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xA0",Ee.exports.createElement("code",{style:o},"errorElement")," props on\xA0",Ee.exports.createElement("code",{style:o},"<Route>")))}class GE extends Ee.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?Ee.exports.createElement(eS.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function HE(t){let{routeContext:e,match:n,children:i}=t,r=Ee.exports.useContext(IE);return r&&n.route.errorElement&&(r._deepestRenderedBoundaryId=n.route.id),Ee.exports.createElement(Ps.Provider,{value:e},i)}function WE(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let i=t,r=n==null?void 0:n.errors;if(r!=null){let o=i.findIndex(s=>s.route.id&&(r==null?void 0:r[s.route.id]));o>=0||Ot(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((o,s,a)=>{let l=s.route.id?r==null?void 0:r[s.route.id]:null,u=n?s.route.errorElement||Ee.exports.createElement(VE,null):null,c=()=>Ee.exports.createElement(HE,{match:s,routeContext:{outlet:o,matches:e.concat(i.slice(0,a+1))}},l?u:s.route.element!==void 0?s.route.element:o);return n&&(s.route.errorElement||a===0)?Ee.exports.createElement(GE,{location:n.location,component:u,error:l,children:c()}):c()},null)}var E0;(function(t){t.UseRevalidator="useRevalidator"})(E0||(E0={}));var Jh;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Jh||(Jh={}));function $E(t){let e=Ee.exports.useContext(Qx);return e||Ot(!1),e}function jE(){var t;let e=Ee.exports.useContext(eS),n=$E(Jh.UseRouteError),i=Ee.exports.useContext(Ps),r=i.matches[i.matches.length-1];return e||(i||Ot(!1),r.route.id||Ot(!1),(t=n.errors)==null?void 0:t[r.route.id])}function XE(t){return UE(t.context)}function No(t){Ot(!1)}function qE(t){let{basename:e="/",children:n=null,location:i,navigationType:r=tr.Pop,navigator:o,static:s=!1}=t;cl()&&Ot(!1);let a=e.replace(/^\/*/,"/"),l=Ee.exports.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof i=="string"&&(i=Ls(i));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:p="default"}=i,y=Ee.exports.useMemo(()=>{let h=Zx(u,a);return h==null?null:{pathname:h,search:c,hash:f,state:d,key:p}},[a,u,c,f,d,p]);return y==null?null:Ee.exports.createElement(Rc.Provider,{value:l},Ee.exports.createElement(Lc.Provider,{children:n,value:{location:y,navigationType:r}}))}function YE(t){let{children:e,location:n}=t,i=Ee.exports.useContext(kE),r=i&&!e?i.router.routes:Qh(e);return BE(r,n)}var T0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(T0||(T0={}));new Promise(()=>{});function Qh(t,e){e===void 0&&(e=[]);let n=[];return Ee.exports.Children.forEach(t,(i,r)=>{if(!Ee.exports.isValidElement(i))return;if(i.type===Ee.exports.Fragment){n.push.apply(n,Qh(i.props.children,e));return}i.type!==No&&Ot(!1),!i.props.index||!i.props.children||Ot(!1);let o=[...e,r],s={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,hasErrorBoundary:i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle};i.props.children&&(s.children=Qh(i.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.4.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ep.apply(this,arguments)}function ZE(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function KE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JE(t,e){return t.button===0&&(!e||e==="_self")&&!KE(t)}const QE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function eT(t){let{basename:e,children:n,window:i}=t,r=Ee.exports.useRef();r.current==null&&(r.current=Zb({window:i,v5Compat:!0}));let o=r.current,[s,a]=Ee.exports.useState({action:o.action,location:o.location});return Ee.exports.useLayoutEffect(()=>o.listen(a),[o]),Ee.exports.createElement(qE,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}const tT=Ee.exports.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c}=e,f=ZE(e,QE),d=OE(u,{relative:r}),p=nT(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:r});function y(h){i&&i(h),h.defaultPrevented||p(h)}return Ee.exports.createElement("a",ep({},f,{href:d,onClick:o?i:y,ref:n,target:l}))});var C0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(C0||(C0={}));var A0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(A0||(A0={}));function nT(t,e){let{target:n,replace:i,state:r,preventScrollReset:o,relative:s}=e===void 0?{}:e,a=FE(),l=Pc(),u=tS(t,{relative:s});return Ee.exports.useCallback(c=>{if(JE(c,n)){c.preventDefault();let f=i!==void 0?i:Ya(l)===Ya(u);a(t,{replace:f,state:r,preventScrollReset:o,relative:s})}},[l,a,u,i,r,n,t,o,s])}var bm={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=Symbol.for("react.element"),Tm=Symbol.for("react.portal"),Dc=Symbol.for("react.fragment"),Nc=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),Oc=Symbol.for("react.context"),iT=Symbol.for("react.server_context"),Fc=Symbol.for("react.forward_ref"),zc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),Bc=Symbol.for("react.memo"),Vc=Symbol.for("react.lazy"),rT=Symbol.for("react.offscreen"),nS;nS=Symbol.for("react.module.reference");function jn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Em:switch(t=t.type,t){case Dc:case Ic:case Nc:case zc:case Uc:return t;default:switch(t=t&&t.$$typeof,t){case iT:case Oc:case Fc:case Vc:case Bc:case kc:return t;default:return e}}case Tm:return e}}}st.ContextConsumer=Oc;st.ContextProvider=kc;st.Element=Em;st.ForwardRef=Fc;st.Fragment=Dc;st.Lazy=Vc;st.Memo=Bc;st.Portal=Tm;st.Profiler=Ic;st.StrictMode=Nc;st.Suspense=zc;st.SuspenseList=Uc;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(t){return jn(t)===Oc};st.isContextProvider=function(t){return jn(t)===kc};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Em};st.isForwardRef=function(t){return jn(t)===Fc};st.isFragment=function(t){return jn(t)===Dc};st.isLazy=function(t){return jn(t)===Vc};st.isMemo=function(t){return jn(t)===Bc};st.isPortal=function(t){return jn(t)===Tm};st.isProfiler=function(t){return jn(t)===Ic};st.isStrictMode=function(t){return jn(t)===Nc};st.isSuspense=function(t){return jn(t)===zc};st.isSuspenseList=function(t){return jn(t)===Uc};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Dc||t===Ic||t===Nc||t===zc||t===Uc||t===rT||typeof t=="object"&&t!==null&&(t.$$typeof===Vc||t.$$typeof===Bc||t.$$typeof===kc||t.$$typeof===Oc||t.$$typeof===Fc||t.$$typeof===nS||t.getModuleId!==void 0)};st.typeOf=jn;bm.exports=st;function oT(t){function e(M,C,N,W,b){for(var ne=0,$=0,ee=0,te=0,we,V,X=0,de=0,ge,he=ge=we=0,xe=0,Te=0,Pe=0,ze=0,Xe=N.length,P=Xe-1,E,H="",le="",Se="",be="",Ne;xe<Xe;){if(V=N.charCodeAt(xe),xe===P&&$+te+ee+ne!==0&&($!==0&&(V=$===47?10:47),te=ee=ne=0,Xe++,P++),$+te+ee+ne===0){if(xe===P&&(0<Te&&(H=H.replace(d,"")),0<H.trim().length)){switch(V){case 32:case 9:case 59:case 13:case 10:break;default:H+=N.charAt(xe)}V=59}switch(V){case 123:for(H=H.trim(),we=H.charCodeAt(0),ge=1,ze=++xe;xe<Xe;){switch(V=N.charCodeAt(xe)){case 123:ge++;break;case 125:ge--;break;case 47:switch(V=N.charCodeAt(xe+1)){case 42:case 47:e:{for(he=xe+1;he<P;++he)switch(N.charCodeAt(he)){case 47:if(V===42&&N.charCodeAt(he-1)===42&&xe+2!==he){xe=he+1;break e}break;case 10:if(V===47){xe=he+1;break e}}xe=he}}break;case 91:V++;case 40:V++;case 34:case 39:for(;xe++<P&&N.charCodeAt(xe)!==V;);}if(ge===0)break;xe++}switch(ge=N.substring(ze,xe),we===0&&(we=(H=H.replace(f,"").trim()).charCodeAt(0)),we){case 64:switch(0<Te&&(H=H.replace(d,"")),V=H.charCodeAt(1),V){case 100:case 109:case 115:case 45:Te=C;break;default:Te=oe}if(ge=e(C,Te,ge,V,b+1),ze=ge.length,0<F&&(Te=n(oe,H,Pe),Ne=a(3,ge,Te,C,U,fe,ze,V,b,W),H=Te.join(""),Ne!==void 0&&(ze=(ge=Ne.trim()).length)===0&&(V=0,ge="")),0<ze)switch(V){case 115:H=H.replace(T,s);case 100:case 109:case 45:ge=H+"{"+ge+"}";break;case 107:H=H.replace(v,"$1 $2"),ge=H+"{"+ge+"}",ge=K===1||K===2&&o("@"+ge,3)?"@-webkit-"+ge+"@"+ge:"@"+ge;break;default:ge=H+ge,W===112&&(ge=(le+=ge,""))}else ge="";break;default:ge=e(C,n(C,H,Pe),ge,W,b+1)}Se+=ge,ge=Pe=Te=he=we=0,H="",V=N.charCodeAt(++xe);break;case 125:case 59:if(H=(0<Te?H.replace(d,""):H).trim(),1<(ze=H.length))switch(he===0&&(we=H.charCodeAt(0),we===45||96<we&&123>we)&&(ze=(H=H.replace(" ",":")).length),0<F&&(Ne=a(1,H,C,M,U,fe,le.length,W,b,W))!==void 0&&(ze=(H=Ne.trim()).length)===0&&(H="\0\0"),we=H.charCodeAt(0),V=H.charCodeAt(1),we){case 0:break;case 64:if(V===105||V===99){be+=H+N.charAt(xe);break}default:H.charCodeAt(ze-1)!==58&&(le+=r(H,we,V,H.charCodeAt(2)))}Pe=Te=he=we=0,H="",V=N.charCodeAt(++xe)}}switch(V){case 13:case 10:$===47?$=0:1+we===0&&W!==107&&0<H.length&&(Te=1,H+="\0"),0<F*Z&&a(0,H,C,M,U,fe,le.length,W,b,W),fe=1,U++;break;case 59:case 125:if($+te+ee+ne===0){fe++;break}default:switch(fe++,E=N.charAt(xe),V){case 9:case 32:if(te+ne+$===0)switch(X){case 44:case 58:case 9:case 32:E="";break;default:V!==32&&(E=" ")}break;case 0:E="\\0";break;case 12:E="\\f";break;case 11:E="\\v";break;case 38:te+$+ne===0&&(Te=Pe=1,E="\f"+E);break;case 108:if(te+$+ne+z===0&&0<he)switch(xe-he){case 2:X===112&&N.charCodeAt(xe-3)===58&&(z=X);case 8:de===111&&(z=de)}break;case 58:te+$+ne===0&&(he=xe);break;case 44:$+ee+te+ne===0&&(Te=1,E+="\r");break;case 34:case 39:$===0&&(te=te===V?0:te===0?V:te);break;case 91:te+$+ee===0&&ne++;break;case 93:te+$+ee===0&&ne--;break;case 41:te+$+ne===0&&ee--;break;case 40:if(te+$+ne===0){if(we===0)switch(2*X+3*de){case 533:break;default:we=1}ee++}break;case 64:$+ee+te+ne+he+ge===0&&(ge=1);break;case 42:case 47:if(!(0<te+ne+ee))switch($){case 0:switch(2*V+3*N.charCodeAt(xe+1)){case 235:$=47;break;case 220:ze=xe,$=42}break;case 42:V===47&&X===42&&ze+2!==xe&&(N.charCodeAt(ze+2)===33&&(le+=N.substring(ze,xe+1)),E="",$=0)}}$===0&&(H+=E)}de=X,X=V,xe++}if(ze=le.length,0<ze){if(Te=C,0<F&&(Ne=a(2,le,Te,M,U,fe,ze,W,b,W),Ne!==void 0&&(le=Ne).length===0))return be+le+Se;if(le=Te.join(",")+"{"+le+"}",K*z!==0){switch(K!==2||o(le,2)||(z=0),z){case 111:le=le.replace(x,":-moz-$1")+le;break;case 112:le=le.replace(_,"::-webkit-input-$1")+le.replace(_,"::-moz-$1")+le.replace(_,":-ms-input-$1")+le}z=0}}return be+le+Se}function n(M,C,N){var W=C.trim().split(m);C=W;var b=W.length,ne=M.length;switch(ne){case 0:case 1:var $=0;for(M=ne===0?"":M[0]+" ";$<b;++$)C[$]=i(M,C[$],N).trim();break;default:var ee=$=0;for(C=[];$<b;++$)for(var te=0;te<ne;++te)C[ee++]=i(M[te]+" ",W[$],N).trim()}return C}function i(M,C,N){var W=C.charCodeAt(0);switch(33>W&&(W=(C=C.trim()).charCodeAt(0)),W){case 38:return C.replace(g,"$1"+M.trim());case 58:return M.trim()+C.replace(g,"$1"+M.trim());default:if(0<1*N&&0<C.indexOf("\f"))return C.replace(g,(M.charCodeAt(0)===58?"":"$1")+M.trim())}return M+C}function r(M,C,N,W){var b=M+";",ne=2*C+3*N+4*W;if(ne===944){M=b.indexOf(":",9)+1;var $=b.substring(M,b.length-1).trim();return $=b.substring(0,M).trim()+$+";",K===1||K===2&&o($,1)?"-webkit-"+$+$:$}if(K===0||K===2&&!o(b,1))return b;switch(ne){case 1015:return b.charCodeAt(10)===97?"-webkit-"+b+b:b;case 951:return b.charCodeAt(3)===116?"-webkit-"+b+b:b;case 963:return b.charCodeAt(5)===110?"-webkit-"+b+b:b;case 1009:if(b.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+b+b;case 978:return"-webkit-"+b+"-moz-"+b+b;case 1019:case 983:return"-webkit-"+b+"-moz-"+b+"-ms-"+b+b;case 883:if(b.charCodeAt(8)===45)return"-webkit-"+b+b;if(0<b.indexOf("image-set(",11))return b.replace(J,"$1-webkit-$2")+b;break;case 932:if(b.charCodeAt(4)===45)switch(b.charCodeAt(5)){case 103:return"-webkit-box-"+b.replace("-grow","")+"-webkit-"+b+"-ms-"+b.replace("grow","positive")+b;case 115:return"-webkit-"+b+"-ms-"+b.replace("shrink","negative")+b;case 98:return"-webkit-"+b+"-ms-"+b.replace("basis","preferred-size")+b}return"-webkit-"+b+"-ms-"+b+b;case 964:return"-webkit-"+b+"-ms-flex-"+b+b;case 1023:if(b.charCodeAt(8)!==99)break;return $=b.substring(b.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+$+"-webkit-"+b+"-ms-flex-pack"+$+b;case 1005:return y.test(b)?b.replace(p,":-webkit-")+b.replace(p,":-moz-")+b:b;case 1e3:switch($=b.substring(13).trim(),C=$.indexOf("-")+1,$.charCodeAt(0)+$.charCodeAt(C)){case 226:$=b.replace(w,"tb");break;case 232:$=b.replace(w,"tb-rl");break;case 220:$=b.replace(w,"lr");break;default:return b}return"-webkit-"+b+"-ms-"+$+b;case 1017:if(b.indexOf("sticky",9)===-1)break;case 975:switch(C=(b=M).length-10,$=(b.charCodeAt(C)===33?b.substring(0,C):b).substring(M.indexOf(":",7)+1).trim(),ne=$.charCodeAt(0)+($.charCodeAt(7)|0)){case 203:if(111>$.charCodeAt(8))break;case 115:b=b.replace($,"-webkit-"+$)+";"+b;break;case 207:case 102:b=b.replace($,"-webkit-"+(102<ne?"inline-":"")+"box")+";"+b.replace($,"-webkit-"+$)+";"+b.replace($,"-ms-"+$+"box")+";"+b}return b+";";case 938:if(b.charCodeAt(5)===45)switch(b.charCodeAt(6)){case 105:return $=b.replace("-items",""),"-webkit-"+b+"-webkit-box-"+$+"-ms-flex-"+$+b;case 115:return"-webkit-"+b+"-ms-flex-item-"+b.replace(S,"")+b;default:return"-webkit-"+b+"-ms-flex-line-pack"+b.replace("align-content","").replace(S,"")+b}break;case 973:case 989:if(b.charCodeAt(3)!==45||b.charCodeAt(4)===122)break;case 931:case 953:if(I.test(M)===!0)return($=M.substring(M.indexOf(":")+1)).charCodeAt(0)===115?r(M.replace("stretch","fill-available"),C,N,W).replace(":fill-available",":stretch"):b.replace($,"-webkit-"+$)+b.replace($,"-moz-"+$.replace("fill-",""))+b;break;case 962:if(b="-webkit-"+b+(b.charCodeAt(5)===102?"-ms-"+b:"")+b,N+W===211&&b.charCodeAt(13)===105&&0<b.indexOf("transform",10))return b.substring(0,b.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+b}return b}function o(M,C){var N=M.indexOf(C===1?":":"{"),W=M.substring(0,C!==3?N:10);return N=M.substring(N+1,M.length-1),Y(C!==2?W:W.replace(R,"$1"),N,C)}function s(M,C){var N=r(C,C.charCodeAt(0),C.charCodeAt(1),C.charCodeAt(2));return N!==C+";"?N.replace(L," or ($1)").substring(4):"("+C+")"}function a(M,C,N,W,b,ne,$,ee,te,we){for(var V=0,X=C,de;V<F;++V)switch(de=ie[V].call(c,M,X,N,W,b,ne,$,ee,te,we)){case void 0:case!1:case!0:case null:break;default:X=de}if(X!==C)return X}function l(M){switch(M){case void 0:case null:F=ie.length=0;break;default:if(typeof M=="function")ie[F++]=M;else if(typeof M=="object")for(var C=0,N=M.length;C<N;++C)l(M[C]);else Z=!!M|0}return l}function u(M){return M=M.prefix,M!==void 0&&(Y=null,M?typeof M!="function"?K=1:(K=2,Y=M):K=0),u}function c(M,C){var N=M;if(33>N.charCodeAt(0)&&(N=N.trim()),me=N,N=[me],0<F){var W=a(-1,C,N,N,U,fe,0,0,0,0);W!==void 0&&typeof W=="string"&&(C=W)}var b=e(oe,N,C,0,0);return 0<F&&(W=a(-2,b,N,N,U,fe,b.length,0,0,0),W!==void 0&&(b=W)),me="",z=0,fe=U=1,b}var f=/^\0+/g,d=/[\0\r\f]/g,p=/: */g,y=/zoo|gra/,h=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,x=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,T=/\(\s*(.*)\s*\)/g,L=/([\s\S]*?);/g,S=/-self|flex-/g,R=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,J=/([^-])(image-set\()/,fe=1,U=1,z=0,K=1,oe=[],ie=[],F=0,Y=null,Z=0,me="";return c.use=l,c.set=u,t!==void 0&&u(t),c}var sT={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function aT(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var lT=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,R0=aT(function(t){return lT.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),iS={exports:{}},at={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=typeof Symbol=="function"&&Symbol.for,Cm=Wt?Symbol.for("react.element"):60103,Am=Wt?Symbol.for("react.portal"):60106,Gc=Wt?Symbol.for("react.fragment"):60107,Hc=Wt?Symbol.for("react.strict_mode"):60108,Wc=Wt?Symbol.for("react.profiler"):60114,$c=Wt?Symbol.for("react.provider"):60109,jc=Wt?Symbol.for("react.context"):60110,Rm=Wt?Symbol.for("react.async_mode"):60111,Xc=Wt?Symbol.for("react.concurrent_mode"):60111,qc=Wt?Symbol.for("react.forward_ref"):60112,Yc=Wt?Symbol.for("react.suspense"):60113,uT=Wt?Symbol.for("react.suspense_list"):60120,Zc=Wt?Symbol.for("react.memo"):60115,Kc=Wt?Symbol.for("react.lazy"):60116,cT=Wt?Symbol.for("react.block"):60121,fT=Wt?Symbol.for("react.fundamental"):60117,dT=Wt?Symbol.for("react.responder"):60118,hT=Wt?Symbol.for("react.scope"):60119;function On(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Cm:switch(t=t.type,t){case Rm:case Xc:case Gc:case Wc:case Hc:case Yc:return t;default:switch(t=t&&t.$$typeof,t){case jc:case qc:case Kc:case Zc:case $c:return t;default:return e}}case Am:return e}}}function rS(t){return On(t)===Xc}at.AsyncMode=Rm;at.ConcurrentMode=Xc;at.ContextConsumer=jc;at.ContextProvider=$c;at.Element=Cm;at.ForwardRef=qc;at.Fragment=Gc;at.Lazy=Kc;at.Memo=Zc;at.Portal=Am;at.Profiler=Wc;at.StrictMode=Hc;at.Suspense=Yc;at.isAsyncMode=function(t){return rS(t)||On(t)===Rm};at.isConcurrentMode=rS;at.isContextConsumer=function(t){return On(t)===jc};at.isContextProvider=function(t){return On(t)===$c};at.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cm};at.isForwardRef=function(t){return On(t)===qc};at.isFragment=function(t){return On(t)===Gc};at.isLazy=function(t){return On(t)===Kc};at.isMemo=function(t){return On(t)===Zc};at.isPortal=function(t){return On(t)===Am};at.isProfiler=function(t){return On(t)===Wc};at.isStrictMode=function(t){return On(t)===Hc};at.isSuspense=function(t){return On(t)===Yc};at.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gc||t===Xc||t===Wc||t===Hc||t===Yc||t===uT||typeof t=="object"&&t!==null&&(t.$$typeof===Kc||t.$$typeof===Zc||t.$$typeof===$c||t.$$typeof===jc||t.$$typeof===qc||t.$$typeof===fT||t.$$typeof===dT||t.$$typeof===hT||t.$$typeof===cT)};at.typeOf=On;iS.exports=at;var Lm=iS.exports,pT={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mT={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},gT={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},oS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Pm={};Pm[Lm.ForwardRef]=gT;Pm[Lm.Memo]=oS;function L0(t){return Lm.isMemo(t)?oS:Pm[t.$$typeof]||pT}var vT=Object.defineProperty,_T=Object.getOwnPropertyNames,P0=Object.getOwnPropertySymbols,yT=Object.getOwnPropertyDescriptor,xT=Object.getPrototypeOf,D0=Object.prototype;function sS(t,e,n){if(typeof e!="string"){if(D0){var i=xT(e);i&&i!==D0&&sS(t,i,n)}var r=_T(e);P0&&(r=r.concat(P0(e)));for(var o=L0(t),s=L0(e),a=0;a<r.length;++a){var l=r[a];if(!mT[l]&&!(n&&n[l])&&!(s&&s[l])&&!(o&&o[l])){var u=yT(e,l);try{vT(t,l,u)}catch{}}}}return t}var ST=sS;function Ii(){return(Ii=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}var N0=function(t,e){for(var n=[t[0]],i=0,r=e.length;i<r;i+=1)n.push(e[i],t[i+1]);return n},tp=function(t){return t!==null&&typeof t=="object"&&(t.toString?t.toString():Object.prototype.toString.call(t))==="[object Object]"&&!bm.exports.typeOf(t)},sc=Object.freeze([]),hr=Object.freeze({});function Za(t){return typeof t=="function"}function I0(t){return t.displayName||t.name||"Component"}function Dm(t){return t&&typeof t.styledComponentId=="string"}var gs=typeof process!="undefined"&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Nm=typeof window!="undefined"&&"HTMLElement"in window,wT=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process!="undefined"&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1);function fl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];throw new Error("An error occurred. See https://git.io/JUIaE#"+t+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var MT=function(){function t(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var e=t.prototype;return e.indexOfGroup=function(n){for(var i=0,r=0;r<n;r++)i+=this.groupSizes[r];return i},e.insertRules=function(n,i){if(n>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,s=o;n>=s;)(s<<=1)<0&&fl(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var a=o;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(n+1),u=0,c=i.length;u<c;u++)this.tag.insertRule(l,i[u])&&(this.groupSizes[n]++,l++)},e.clearGroup=function(n){if(n<this.length){var i=this.groupSizes[n],r=this.indexOfGroup(n),o=r+i;this.groupSizes[n]=0;for(var s=r;s<o;s++)this.tag.deleteRule(r)}},e.getGroup=function(n){var i="";if(n>=this.length||this.groupSizes[n]===0)return i;for(var r=this.groupSizes[n],o=this.indexOfGroup(n),s=o+r,a=o;a<s;a++)i+=this.tag.getRule(a)+`/*!sc*/
`;return i},t}(),Ru=new Map,ac=new Map,Ta=1,zl=function(t){if(Ru.has(t))return Ru.get(t);for(;ac.has(Ta);)Ta++;var e=Ta++;return Ru.set(t,e),ac.set(e,t),e},bT=function(t){return ac.get(t)},ET=function(t,e){e>=Ta&&(Ta=e+1),Ru.set(t,e),ac.set(e,t)},TT="style["+gs+'][data-styled-version="5.3.6"]',CT=new RegExp("^"+gs+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),AT=function(t,e,n){for(var i,r=n.split(","),o=0,s=r.length;o<s;o++)(i=r[o])&&t.registerName(e,i)},RT=function(t,e){for(var n=(e.textContent||"").split(`/*!sc*/
`),i=[],r=0,o=n.length;r<o;r++){var s=n[r].trim();if(s){var a=s.match(CT);if(a){var l=0|parseInt(a[1],10),u=a[2];l!==0&&(ET(u,l),AT(t,u,a[3]),t.getTag().insertRules(l,i)),i.length=0}else i.push(s)}}},LT=function(){return typeof __webpack_nonce__!="undefined"?__webpack_nonce__:null},aS=function(t){var e=document.head,n=t||e,i=document.createElement("style"),r=function(a){for(var l=a.childNodes,u=l.length;u>=0;u--){var c=l[u];if(c&&c.nodeType===1&&c.hasAttribute(gs))return c}}(n),o=r!==void 0?r.nextSibling:null;i.setAttribute(gs,"active"),i.setAttribute("data-styled-version","5.3.6");var s=LT();return s&&i.setAttribute("nonce",s),n.insertBefore(i,o),i},PT=function(){function t(n){var i=this.element=aS(n);i.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var o=document.styleSheets,s=0,a=o.length;s<a;s++){var l=o[s];if(l.ownerNode===r)return l}fl(17)}(i),this.length=0}var e=t.prototype;return e.insertRule=function(n,i){try{return this.sheet.insertRule(i,n),this.length++,!0}catch{return!1}},e.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},e.getRule=function(n){var i=this.sheet.cssRules[n];return i!==void 0&&typeof i.cssText=="string"?i.cssText:""},t}(),DT=function(){function t(n){var i=this.element=aS(n);this.nodes=i.childNodes,this.length=0}var e=t.prototype;return e.insertRule=function(n,i){if(n<=this.length&&n>=0){var r=document.createTextNode(i),o=this.nodes[n];return this.element.insertBefore(r,o||null),this.length++,!0}return!1},e.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},e.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},t}(),NT=function(){function t(n){this.rules=[],this.length=0}var e=t.prototype;return e.insertRule=function(n,i){return n<=this.length&&(this.rules.splice(n,0,i),this.length++,!0)},e.deleteRule=function(n){this.rules.splice(n,1),this.length--},e.getRule=function(n){return n<this.length?this.rules[n]:""},t}(),k0=Nm,IT={isServer:!Nm,useCSSOMInjection:!wT},lS=function(){function t(n,i,r){n===void 0&&(n=hr),i===void 0&&(i={}),this.options=Ii({},IT,{},n),this.gs=i,this.names=new Map(r),this.server=!!n.isServer,!this.server&&Nm&&k0&&(k0=!1,function(o){for(var s=document.querySelectorAll(TT),a=0,l=s.length;a<l;a++){var u=s[a];u&&u.getAttribute(gs)!=="active"&&(RT(o,u),u.parentNode&&u.parentNode.removeChild(u))}}(this))}t.registerId=function(n){return zl(n)};var e=t.prototype;return e.reconstructWithOptions=function(n,i){return i===void 0&&(i=!0),new t(Ii({},this.options,{},n),this.gs,i&&this.names||void 0)},e.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},e.getTag=function(){return this.tag||(this.tag=(r=(i=this.options).isServer,o=i.useCSSOMInjection,s=i.target,n=r?new NT(s):o?new PT(s):new DT(s),new MT(n)));var n,i,r,o,s},e.hasNameForId=function(n,i){return this.names.has(n)&&this.names.get(n).has(i)},e.registerName=function(n,i){if(zl(n),this.names.has(n))this.names.get(n).add(i);else{var r=new Set;r.add(i),this.names.set(n,r)}},e.insertRules=function(n,i,r){this.registerName(n,i),this.getTag().insertRules(zl(n),r)},e.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},e.clearRules=function(n){this.getTag().clearGroup(zl(n)),this.clearNames(n)},e.clearTag=function(){this.tag=void 0},e.toString=function(){return function(n){for(var i=n.getTag(),r=i.length,o="",s=0;s<r;s++){var a=bT(s);if(a!==void 0){var l=n.names.get(a),u=i.getGroup(s);if(l&&u&&l.size){var c=gs+".g"+s+'[id="'+a+'"]',f="";l!==void 0&&l.forEach(function(d){d.length>0&&(f+=d+",")}),o+=""+u+c+'{content:"'+f+`"}/*!sc*/
`}}}return o}(this)},t}(),kT=/(a)(d)/gi,O0=function(t){return String.fromCharCode(t+(t>25?39:97))};function np(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=O0(e%52)+n;return(O0(e%52)+n).replace(kT,"$1-$2")}var qo=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},uS=function(t){return qo(5381,t)};function OT(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Za(n)&&!Dm(n))return!1}return!0}var FT=uS("5.3.6"),zT=function(){function t(e,n,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&OT(e),this.componentId=n,this.baseHash=qo(FT,n),this.baseStyle=i,lS.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,i){var r=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,n,i)),this.isStatic&&!i.hash)if(this.staticRulesId&&n.hasNameForId(r,this.staticRulesId))o.push(this.staticRulesId);else{var s=vs(this.rules,e,n,i).join(""),a=np(qo(this.baseHash,s)>>>0);if(!n.hasNameForId(r,a)){var l=i(s,"."+a,void 0,r);n.insertRules(r,a,l)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=qo(this.baseHash,i.hash),f="",d=0;d<u;d++){var p=this.rules[d];if(typeof p=="string")f+=p;else if(p){var y=vs(p,e,n,i),h=Array.isArray(y)?y.join(""):y;c=qo(c,h+d),f+=h}}if(f){var m=np(c>>>0);if(!n.hasNameForId(r,m)){var g=i(f,"."+m,void 0,r);n.insertRules(r,m,g)}o.push(m)}}return o.join(" ")},t}(),UT=/^\s*\/\/.*$/gm,BT=[":","[",".","#"];function VT(t){var e,n,i,r,o=t===void 0?hr:t,s=o.options,a=s===void 0?hr:s,l=o.plugins,u=l===void 0?sc:l,c=new oT(a),f=[],d=function(h){function m(g){if(g)try{h(g+"}")}catch{}}return function(g,v,_,x,w,T,L,S,R,I){switch(g){case 1:if(R===0&&v.charCodeAt(0)===64)return h(v+";"),"";break;case 2:if(S===0)return v+"/*|*/";break;case 3:switch(S){case 102:case 112:return h(_[0]+v),"";default:return v+(I===0?"/*|*/":"")}case-2:v.split("/*|*/}").forEach(m)}}}(function(h){f.push(h)}),p=function(h,m,g){return m===0&&BT.indexOf(g[n.length])!==-1||g.match(r)?h:"."+e};function y(h,m,g,v){v===void 0&&(v="&");var _=h.replace(UT,""),x=m&&g?g+" "+m+" { "+_+" }":_;return e=v,n=m,i=new RegExp("\\"+n+"\\b","g"),r=new RegExp("(\\"+n+"\\b){2,}"),c(g||!m?"":m,x)}return c.use([].concat(u,[function(h,m,g){h===2&&g.length&&g[0].lastIndexOf(n)>0&&(g[0]=g[0].replace(i,p))},d,function(h){if(h===-2){var m=f;return f=[],m}}])),y.hash=u.length?u.reduce(function(h,m){return m.name||fl(15),qo(h,m.name)},5381).toString():"",y}var cS=He.createContext();cS.Consumer;var fS=He.createContext(),GT=(fS.Consumer,new lS),ip=VT();function HT(){return Ee.exports.useContext(cS)||GT}function WT(){return Ee.exports.useContext(fS)||ip}var dS=function(){function t(e,n){var i=this;this.inject=function(r,o){o===void 0&&(o=ip);var s=i.name+o.hash;r.hasNameForId(i.id,s)||r.insertRules(i.id,s,o(i.rules,s,"@keyframes"))},this.toString=function(){return fl(12,String(i.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=n}return t.prototype.getName=function(e){return e===void 0&&(e=ip),this.name+e.hash},t}(),$T=/([A-Z])/,jT=/([A-Z])/g,XT=/^ms-/,qT=function(t){return"-"+t.toLowerCase()};function F0(t){return $T.test(t)?t.replace(jT,qT).replace(XT,"-ms-"):t}var z0=function(t){return t==null||t===!1||t===""};function vs(t,e,n,i){if(Array.isArray(t)){for(var r,o=[],s=0,a=t.length;s<a;s+=1)(r=vs(t[s],e,n,i))!==""&&(Array.isArray(r)?o.push.apply(o,r):o.push(r));return o}if(z0(t))return"";if(Dm(t))return"."+t.styledComponentId;if(Za(t)){if(typeof(u=t)!="function"||u.prototype&&u.prototype.isReactComponent||!e)return t;var l=t(e);return vs(l,e,n,i)}var u;return t instanceof dS?n?(t.inject(n,i),t.getName(i)):t:tp(t)?function c(f,d){var p,y,h=[];for(var m in f)f.hasOwnProperty(m)&&!z0(f[m])&&(Array.isArray(f[m])&&f[m].isCss||Za(f[m])?h.push(F0(m)+":",f[m],";"):tp(f[m])?h.push.apply(h,c(f[m],m)):h.push(F0(m)+": "+(p=m,(y=f[m])==null||typeof y=="boolean"||y===""?"":typeof y!="number"||y===0||p in sT?String(y).trim():y+"px")+";"));return d?[d+" {"].concat(h,["}"]):h}(t):t.toString()}var U0=function(t){return Array.isArray(t)&&(t.isCss=!0),t};function ln(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Za(t)||tp(t)?U0(vs(N0(sc,[t].concat(n)))):n.length===0&&t.length===1&&typeof t[0]=="string"?t:U0(vs(N0(t,n)))}var YT=function(t,e,n){return n===void 0&&(n=hr),t.theme!==n.theme&&t.theme||e||n.theme},ZT=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,KT=/(^-|-$)/g;function od(t){return t.replace(ZT,"-").replace(KT,"")}var hS=function(t){return np(uS(t)>>>0)};function Ul(t){return typeof t=="string"&&!0}var rp=function(t){return typeof t=="function"||typeof t=="object"&&t!==null&&!Array.isArray(t)},JT=function(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"};function QT(t,e,n){var i=t[n];rp(e)&&rp(i)?pS(i,e):t[n]=e}function pS(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var s=o[r];if(rp(s))for(var a in s)JT(a)&&QT(t,s[a],a)}return t}var mS=He.createContext();mS.Consumer;var sd={};function gS(t,e,n){var i=Dm(t),r=!Ul(t),o=e.attrs,s=o===void 0?sc:o,a=e.componentId,l=a===void 0?function(v,_){var x=typeof v!="string"?"sc":od(v);sd[x]=(sd[x]||0)+1;var w=x+"-"+hS("5.3.6"+x+sd[x]);return _?_+"-"+w:w}(e.displayName,e.parentComponentId):a,u=e.displayName,c=u===void 0?function(v){return Ul(v)?"styled."+v:"Styled("+I0(v)+")"}(t):u,f=e.displayName&&e.componentId?od(e.displayName)+"-"+e.componentId:e.componentId||l,d=i&&t.attrs?Array.prototype.concat(t.attrs,s).filter(Boolean):s,p=e.shouldForwardProp;i&&t.shouldForwardProp&&(p=e.shouldForwardProp?function(v,_,x){return t.shouldForwardProp(v,_,x)&&e.shouldForwardProp(v,_,x)}:t.shouldForwardProp);var y,h=new zT(n,f,i?t.componentStyle:void 0),m=h.isStatic&&s.length===0,g=function(v,_){return function(x,w,T,L){var S=x.attrs,R=x.componentStyle,I=x.defaultProps,J=x.foldedComponentIds,fe=x.shouldForwardProp,U=x.styledComponentId,z=x.target,K=function(W,b,ne){W===void 0&&(W=hr);var $=Ii({},b,{theme:W}),ee={};return ne.forEach(function(te){var we,V,X,de=te;for(we in Za(de)&&(de=de($)),de)$[we]=ee[we]=we==="className"?(V=ee[we],X=de[we],V&&X?V+" "+X:V||X):de[we]}),[$,ee]}(YT(w,Ee.exports.useContext(mS),I)||hr,w,S),oe=K[0],ie=K[1],F=function(W,b,ne,$){var ee=HT(),te=WT(),we=b?W.generateAndInjectStyles(hr,ee,te):W.generateAndInjectStyles(ne,ee,te);return we}(R,L,oe),Y=T,Z=ie.$as||w.$as||ie.as||w.as||z,me=Ul(Z),M=ie!==w?Ii({},w,{},ie):w,C={};for(var N in M)N[0]!=="$"&&N!=="as"&&(N==="forwardedAs"?C.as=M[N]:(fe?fe(N,R0,Z):!me||R0(N))&&(C[N]=M[N]));return w.style&&ie.style!==w.style&&(C.style=Ii({},w.style,{},ie.style)),C.className=Array.prototype.concat(J,U,F!==U?F:null,w.className,ie.className).filter(Boolean).join(" "),C.ref=Y,Ee.exports.createElement(Z,C)}(y,v,_,m)};return g.displayName=c,(y=He.forwardRef(g)).attrs=d,y.componentStyle=h,y.displayName=c,y.shouldForwardProp=p,y.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):sc,y.styledComponentId=f,y.target=i?t.target:t,y.withComponent=function(v){var _=e.componentId,x=function(T,L){if(T==null)return{};var S,R,I={},J=Object.keys(T);for(R=0;R<J.length;R++)S=J[R],L.indexOf(S)>=0||(I[S]=T[S]);return I}(e,["componentId"]),w=_&&_+"-"+(Ul(v)?v:od(I0(v)));return gS(v,Ii({},x,{attrs:d,componentId:w}),n)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=i?pS({},t.defaultProps,v):v}}),y.toString=function(){return"."+y.styledComponentId},r&&ST(y,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var op=function(t){return function e(n,i,r){if(r===void 0&&(r=hr),!bm.exports.isValidElementType(i))return fl(1,String(i));var o=function(){return n(i,r,ln.apply(void 0,arguments))};return o.withConfig=function(s){return e(n,i,Ii({},r,{},s))},o.attrs=function(s){return e(n,i,Ii({},r,{attrs:Array.prototype.concat(r.attrs,s).filter(Boolean)}))},o}(gS,t)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(t){op[t]=op(t)});function co(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=ln.apply(void 0,[t].concat(n)).join(""),o=hS(r);return new dS(o,r)}var yn=op;const vi=(t="768px")=>ln`@media only screen and (min-width: ${{md:"768px",lg:"1024px",xl:"1280px",xxl:"1536px"}[t]||t} )`,e2=co`
  from{
    opacity: 0;
    transform: translateY(-100px);
  }
`,t2=co`
  from{
    opacity: 0;
    transform: translateY(-80px);
  } 
`,n2=co`
  from{
    opacity: 0;
    transform: translateX(-140%);
  }
`,i2=co`
  to{
    opacity: 0;
    transform: translateX(140%);
  }
`,r2=({time:t="1s",type:e="ease-in"}={})=>ln`
  animation: ${t} ${e2} ${e};
`,o2=({time:t="1s",type:e="ease-in"}={})=>ln`
  animation: ${t} ${t2} ${e};
`,s2=({time:t="1s",type:e="ease-in-out"}={})=>ln`
  animation: ${t} ${n2} ${e};
`,a2=({time:t="1s",type:e="ease-in-out"}={})=>ln`
  animation: ${t} ${i2} ${e};
`,l2=yn.header`
  position: absolute;
  z-index: 11;
  width: 100%;
  background: transparent;
  height: 90px;
  display: grid;
  align-items: center;
  ${r2({time:"0.5s"})}
  transition: all 0.3s ease-in-out;
 ${t=>t.showFixed&&ln`
    top:0px;
    position: fixed;
    background: linear-gradient(0deg, rgba(0,0,0,0) 8%, rgba(0,0,0,0.5) 74%, rgba(0,0,0,0.6) 100%);
    ${o2({time:"0.6s"})}
  `}
  
  nav{
    padding: 1em 2em 1em 2em;
  }
  .logo{
    display:none;
  }
  .menu-btn{
    color: white;
    height: 40px;
    width: 40px;
    border-radius:12px;
    background-color: transparent;
    border: 2px solid white;
    p{
      display:none;
    }
    svg{
      width: 30px;
      height: 30px;
      margin: 0 auto;
    }
  }
  ${vi("lg")}{
    nav{
      max-width: 960px;
      margin: 0 auto;
      padding: 0;
    }
    .logo{
      display:block;
    }
    .menu-btn{
      width: 110px;
       p{
        display:block;
      } 
      svg{
        display:none;
      }
    }
  }
  ${vi("xl")}{
    nav{
      max-width: 1024px;
    }
  }
  ${vi("xxl")}{
    nav{
      max-width: 1280px;
    }
  }
`,u2=yn.div`
  color: white;
  display: none;
  transition: all 0.5s ease-in-out;
  .close-btn{
    position: absolute;
    top: 10px;
    right: 10px;
    transition: all 0.3s ease-in-out;
    svg{
      width: 60px;
      height: 60px;
    }
  }
  ${t=>t.isOpen&&ln`
    position: absolute;
    display: grid;
    place-content: center;
    width: 100%;
    height: 100vh;
    background-color: #00000084;
    backdrop-filter: blur(2px);
    top: 0;
    left: 0;
    ul{
      display: grid;
      border-radius: 8px;
      padding: 20px 40px ;
      gap: 20px;
      background-color: #000000;
      ${s2()}
      li{
        display: flex;
        align-items: center;
        justify-content: center;
        width: 120px;
        height: 40px; 
        border-radius: 4px;
        transition: all 0.5s ease-in-out;
        &:hover{
          background-color: #4e4e4e84;
          font-weight: bolder;
        }
      }
    }`} 
    ${t=>t.addCloseAnimation&&ln`
      opacity: 0;
      ul{
        ${a2({time:"0.5s"})}
      }
    `}
  `;var vS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B0=He.createContext&&He.createContext(vS),pr=globalThis&&globalThis.__assign||function(){return pr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},pr.apply(this,arguments)},c2=globalThis&&globalThis.__rest||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};function _S(t){return t&&t.map(function(e,n){return He.createElement(e.tag,pr({key:n},e.attr),_S(e.child))})}function wr(t){return function(e){return He.createElement(f2,pr({attr:pr({},t.attr)},e),_S(t.child))}}function f2(t){var e=function(n){var i=t.attr,r=t.size,o=t.title,s=c2(t,["attr","size","title"]),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),He.createElement("svg",pr({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,s,{className:l,style:pr(pr({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&He.createElement("title",null,o),t.children)};return B0!==void 0?He.createElement(B0.Consumer,null,function(n){return e(n)}):e(vS)}function d2(t){return wr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"}}]})(t)}function h2(t){return wr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368L144 144m224 0L144 368"}}]})(t)}function p2(t){return wr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.33 69.33a93.62 93.62 0 0193.34 93.34v186.66a93.62 93.62 0 01-93.34 93.34H162.67a93.62 93.62 0 01-93.34-93.34V162.67a93.62 93.62 0 0193.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32z"}},{tag:"path",attr:{d:"M377.33 162.67a28 28 0 1128-28 27.94 27.94 0 01-28 28zM256 181.33A74.67 74.67 0 11181.33 256 74.75 74.75 0 01256 181.33m0-37.33a112 112 0 10112 112 112 112 0 00-112-112z"}}]})(t)}function m2(t){return wr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M412.19 118.66a109.27 109.27 0 01-9.45-5.5 132.87 132.87 0 01-24.27-20.62c-18.1-20.71-24.86-41.72-27.35-56.43h.1C349.14 23.9 350 16 350.13 16h-82.44v318.78c0 4.28 0 8.51-.18 12.69 0 .52-.05 1-.08 1.56 0 .23 0 .47-.05.71v.18a70 70 0 01-35.22 55.56 68.8 68.8 0 01-34.11 9c-38.41 0-69.54-31.32-69.54-70s31.13-70 69.54-70a68.9 68.9 0 0121.41 3.39l.1-83.94a153.14 153.14 0 00-118 34.52 161.79 161.79 0 00-35.3 43.53c-3.48 6-16.61 30.11-18.2 69.24-1 22.21 5.67 45.22 8.85 54.73v.2c2 5.6 9.75 24.71 22.38 40.82A167.53 167.53 0 00115 470.66v-.2l.2.2c39.91 27.12 84.16 25.34 84.16 25.34 7.66-.31 33.32 0 62.46-13.81 32.32-15.31 50.72-38.12 50.72-38.12a158.46 158.46 0 0027.64-45.93c7.46-19.61 9.95-43.13 9.95-52.53V176.49c1 .6 14.32 9.41 14.32 9.41s19.19 12.3 49.13 20.31c21.48 5.7 50.42 6.9 50.42 6.9v-81.84c-10.14 1.1-30.73-2.1-51.81-12.61z"}}]})(t)}function g2(t){return wr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 109.5a201.8 201.8 0 01-56.55 15.3 97.51 97.51 0 0043.33-53.6 197.74 197.74 0 01-62.56 23.5A99.14 99.14 0 00348.31 64c-54.42 0-98.46 43.4-98.46 96.9a93.21 93.21 0 002.54 22.1 280.7 280.7 0 01-203-101.3A95.69 95.69 0 0036 130.4c0 33.6 17.53 63.3 44 80.7A97.5 97.5 0 0135.22 199v1.2c0 47 34 86.1 79 95a100.76 100.76 0 01-25.94 3.4 94.38 94.38 0 01-18.51-1.8c12.51 38.5 48.92 66.5 92.05 67.3A199.59 199.59 0 0139.5 405.6a203 203 0 01-23.5-1.4A278.68 278.68 0 00166.74 448c181.36 0 280.44-147.7 280.44-275.8 0-4.2-.11-8.4-.31-12.5A198.48 198.48 0 00496 109.5z"}}]})(t)}var Jc={exports:{}},Qc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v2=Ee.exports,_2=Symbol.for("react.element"),y2=Symbol.for("react.fragment"),x2=Object.prototype.hasOwnProperty,S2=v2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w2={key:!0,ref:!0,__self:!0,__source:!0};function yS(t,e,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)x2.call(e,i)&&!w2.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:_2,type:t,key:o,ref:s,props:r,_owner:S2.current}}Qc.Fragment=y2;Qc.jsx=yS;Qc.jsxs=yS;Jc.exports=Qc;const ve=Jc.exports.jsx,it=Jc.exports.jsxs,M2=Jc.exports.Fragment,b2=[{label:"Home",path:"/"},{label:"About",path:"/about"},{label:"Events",path:"/events"}];function E2(){const[t,e]=Ee.exports.useState(!1),[n,i]=Ee.exports.useState(!1),[r,o]=Ee.exports.useState(!1);return Ee.exports.useEffect(()=>{const s=a=>{o(window.scrollY>80)};document.addEventListener("scroll",s)},[]),Ee.exports.useEffect(()=>{document.getElementById("id-menu").addEventListener("animationend",s=>{s.animationName==="ehRXfe"&&(e(!1),i(!1))})},[]),ve(l2,{isOpen:t,showFixed:r,children:it("nav",{className:"flex w-full flex-cols justify-between",children:[ve("figure",{className:"logo",children:ve("h2",{children:"LOGO"})}),it("button",{className:"menu-btn",onClick:()=>e(!t),children:[ve("p",{children:"Menu"}),ve(d2,{color:"white"})]}),it(u2,{isOpen:t,addCloseAnimation:n,children:[ve("button",{className:"close-btn",onClick:()=>{i(!0)},children:ve(h2,{color:"white"})}),ve("ul",{id:"id-menu",children:b2.map((s,a)=>ve("li",{children:ve(tT,{to:s.path,onClick:()=>e(!1),children:s.label})},a))})]})]})})}const T2=yn.footer`
  width: 100vw;
  padding: 37px 0;
  position: absolute;
  bottom: 0;
  .custom-container {
    padding: 0;
  }
  .footer{
    place-content: center;
  }
  .text{
    display: grid;
    gap: 12px;
    ul{
      display: flex;
      flex-direction: row;
      gap: 20px;
      li{
        cursor: pointer;
        transition: all 0.3s ease-in-out;
        &:hover{
          transform: scale(1.1);
        }
      }
    }
    p{
      text-align: center;
    }
  }
  ${vi("lg")}{
    z-index: 11;
  }
`,C2=yn.div`
  display: flex;
  flex-direction: row;
  gap: 20px;
  margin: 20px auto;
  svg{
    cursor: pointer;
    width: 20px;
    height: 20px;
    transition: all 0.3s ease-in-out;
    &:hover{
      transform: scale(1.1);
    }
  }
`;function A2(){const t=new Date().getFullYear();return ve(T2,{children:it("div",{className:"custom-container footer",children:[it(C2,{children:[ve(p2,{color:"white"}),ve(g2,{color:"white"}),ve(m2,{color:"white"})]}),it("div",{className:"text",children:[it("ul",{children:[ve("li",{children:"Support"}),ve("li",{children:"Info"}),ve("li",{children:"Contacts"})]}),ve("div",{children:it("p",{children:["\xA9",t," Our Company"]})})]})]})})}function R2(){return it("div",{className:"fixed w-full h-[100vh]",children:[ve(E2,{}),ve(XE,{}),ve(A2,{})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Im="149",L2=0,V0=1,P2=2,xS=1,D2=2,pa=3,_r=0,Pn=1,nr=2,mr=0,is=1,G0=2,H0=3,W0=4,N2=5,Io=100,I2=101,k2=102,$0=103,j0=104,O2=200,F2=201,z2=202,U2=203,SS=204,wS=205,B2=206,V2=207,G2=208,H2=209,W2=210,$2=0,j2=1,X2=2,sp=3,q2=4,Y2=5,Z2=6,K2=7,km=0,J2=1,Q2=2,Oi=0,eC=1,tC=2,nC=3,iC=4,rC=5,MS=300,_s=301,ys=302,ap=303,lp=304,ef=306,eo=1e3,ti=1001,up=1002,Gt=1003,X0=1004,ad=1005,Bn=1006,oC=1007,Ka=1008,to=1009,sC=1010,aC=1011,bS=1012,lC=1013,Hr=1014,ir=1015,Ja=1016,uC=1017,cC=1018,rs=1020,fC=1021,Vn=1023,dC=1024,hC=1025,jr=1026,xs=1027,pC=1028,mC=1029,gC=1030,vC=1031,_C=1033,ld=33776,ud=33777,cd=33778,fd=33779,q0=35840,Y0=35841,Z0=35842,K0=35843,yC=36196,J0=37492,Q0=37496,ev=37808,tv=37809,nv=37810,iv=37811,rv=37812,ov=37813,sv=37814,av=37815,lv=37816,uv=37817,cv=37818,fv=37819,dv=37820,hv=37821,dd=36492,xC=36283,pv=36284,mv=36285,gv=36286,no=3e3,ct=3001,SC=3200,wC=3201,Om=0,MC=1,fi="srgb",Qa="srgb-linear",hd=7680,bC=519,vv=35044,_v="300 es",cp=1035;class Ds{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let o=0,s=r.length;o<s;o++)r[o].call(this,e);e.target=null}}}const Zt=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],pd=Math.PI/180,yv=180/Math.PI;function Ns(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Zt[t&255]+Zt[t>>8&255]+Zt[t>>16&255]+Zt[t>>24&255]+"-"+Zt[e&255]+Zt[e>>8&255]+"-"+Zt[e>>16&15|64]+Zt[e>>24&255]+"-"+Zt[n&63|128]+Zt[n>>8&255]+"-"+Zt[n>>16&255]+Zt[n>>24&255]+Zt[i&255]+Zt[i>>8&255]+Zt[i>>16&255]+Zt[i>>24&255]).toLowerCase()}function on(t,e,n){return Math.max(e,Math.min(n,t))}function EC(t,e){return(t%e+e)%e}function md(t,e,n){return(1-n)*t+n*e}function xv(t){return(t&t-1)===0&&t!==0}function fp(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Bl(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Mn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class Ce{constructor(e=0,n=0){Ce.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*i-s*r+e.x,this.y=o*r+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Rn{constructor(){Rn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,i,r,o,s,a,l,u){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=n,c[4]=o,c[5]=l,c[6]=i,c[7]=s,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,o=this.elements,s=i[0],a=i[3],l=i[6],u=i[1],c=i[4],f=i[7],d=i[2],p=i[5],y=i[8],h=r[0],m=r[3],g=r[6],v=r[1],_=r[4],x=r[7],w=r[2],T=r[5],L=r[8];return o[0]=s*h+a*v+l*w,o[3]=s*m+a*_+l*T,o[6]=s*g+a*x+l*L,o[1]=u*h+c*v+f*w,o[4]=u*m+c*_+f*T,o[7]=u*g+c*x+f*L,o[2]=d*h+p*v+y*w,o[5]=d*m+p*_+y*T,o[8]=d*g+p*x+y*L,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8];return n*s*c-n*a*u-i*o*c+i*a*l+r*o*u-r*s*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=c*s-a*u,d=a*l-c*o,p=u*o-s*l,y=n*f+i*d+r*p;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const h=1/y;return e[0]=f*h,e[1]=(r*u-c*i)*h,e[2]=(a*i-r*s)*h,e[3]=d*h,e[4]=(c*n-r*l)*h,e[5]=(r*o-a*n)*h,e[6]=p*h,e[7]=(i*l-u*n)*h,e[8]=(s*n-i*o)*h,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,o,s,a){const l=Math.cos(o),u=Math.sin(o);return this.set(i*l,i*u,-i*(l*s+u*a)+s+e,-r*u,r*l,-r*(-u*s+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(gd.makeScale(e,n)),this}rotate(e){return this.premultiply(gd.makeRotation(-e)),this}translate(e,n){return this.premultiply(gd.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const gd=new Rn;function ES(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function el(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Xr(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Lu(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const vd={[fi]:{[Qa]:Xr},[Qa]:{[fi]:Lu}},tn={legacyMode:!0,get workingColorSpace(){return Qa},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.legacyMode||e===n||!e||!n)return t;if(vd[e]&&vd[e][n]!==void 0){const i=vd[e][n];return t.r=i(t.r),t.g=i(t.g),t.b=i(t.b),t}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}},TS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Nt={r:0,g:0,b:0},qn={h:0,s:0,l:0},Vl={h:0,s:0,l:0};function _d(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}function Gl(t,e){return e.r=t.r,e.g=t.g,e.b=t.b,e}class rt{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=fi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,tn.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=tn.workingColorSpace){return this.r=e,this.g=n,this.b=i,tn.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=tn.workingColorSpace){if(e=EC(e,1),n=on(n,0,1),i=on(i,0,1),n===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;this.r=_d(s,o,e+1/3),this.g=_d(s,o,e),this.b=_d(s,o,e-1/3)}return tn.toWorkingColorSpace(this,r),this}setStyle(e,n=fi){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const s=r[1],a=r[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,tn.toWorkingColorSpace(this,n),i(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,tn.toWorkingColorSpace(this,n),i(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a)){const l=parseFloat(o[1])/360,u=parseFloat(o[2])/100,c=parseFloat(o[3])/100;return i(o[4]),this.setHSL(l,u,c,n)}break}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],s=o.length;if(s===3)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,tn.toWorkingColorSpace(this,n),this;if(s===6)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,tn.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=fi){const i=TS[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Xr(e.r),this.g=Xr(e.g),this.b=Xr(e.b),this}copyLinearToSRGB(e){return this.r=Lu(e.r),this.g=Lu(e.g),this.b=Lu(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fi){return tn.fromWorkingColorSpace(Gl(this,Nt),e),on(Nt.r*255,0,255)<<16^on(Nt.g*255,0,255)<<8^on(Nt.b*255,0,255)<<0}getHexString(e=fi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=tn.workingColorSpace){tn.fromWorkingColorSpace(Gl(this,Nt),n);const i=Nt.r,r=Nt.g,o=Nt.b,s=Math.max(i,r,o),a=Math.min(i,r,o);let l,u;const c=(a+s)/2;if(a===s)l=0,u=0;else{const f=s-a;switch(u=c<=.5?f/(s+a):f/(2-s-a),s){case i:l=(r-o)/f+(r<o?6:0);break;case r:l=(o-i)/f+2;break;case o:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=tn.workingColorSpace){return tn.fromWorkingColorSpace(Gl(this,Nt),n),e.r=Nt.r,e.g=Nt.g,e.b=Nt.b,e}getStyle(e=fi){return tn.fromWorkingColorSpace(Gl(this,Nt),e),e!==fi?`color(${e} ${Nt.r} ${Nt.g} ${Nt.b})`:`rgb(${Nt.r*255|0},${Nt.g*255|0},${Nt.b*255|0})`}offsetHSL(e,n,i){return this.getHSL(qn),qn.h+=e,qn.s+=n,qn.l+=i,this.setHSL(qn.h,qn.s,qn.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(qn),e.getHSL(Vl);const i=md(qn.h,Vl.h,n),r=md(qn.s,Vl.s,n),o=md(qn.l,Vl.l,n);return this.setHSL(i,r,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}rt.NAMES=TS;let go;class CS{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{go===void 0&&(go=el("canvas")),go.width=e.width,go.height=e.height;const i=go.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=go}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const n=el("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),o=r.data;for(let s=0;s<o.length;s++)o[s]=Xr(o[s]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Xr(n[i]/255)*255):n[i]=Xr(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class AS{constructor(e=null){this.isSource=!0,this.uuid=Ns(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let o;if(Array.isArray(r)){o=[];for(let s=0,a=r.length;s<a;s++)r[s].isDataTexture?o.push(yd(r[s].image)):o.push(yd(r[s]))}else o=yd(r);i.url=o}return n||(e.images[this.uuid]=i),i}}function yd(t){return typeof HTMLImageElement!="undefined"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&t instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&t instanceof ImageBitmap?CS.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let TC=0;class Jt extends Ds{constructor(e=Jt.DEFAULT_IMAGE,n=Jt.DEFAULT_MAPPING,i=ti,r=ti,o=Bn,s=Ka,a=Vn,l=to,u=Jt.DEFAULT_ANISOTROPY,c=no){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:TC++}),this.uuid=Ns(),this.name="",this.source=new AS(e),this.mipmaps=[],this.mapping=n,this.wrapS=i,this.wrapT=r,this.magFilter=o,this.minFilter=s,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ce(0,0),this.repeat=new Ce(1,1),this.center=new Ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Rn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==MS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case eo:e.x=e.x-Math.floor(e.x);break;case ti:e.x=e.x<0?0:1;break;case up:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case eo:e.y=e.y-Math.floor(e.y);break;case ti:e.y=e.y<0?0:1;break;case up:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}}Jt.DEFAULT_IMAGE=null;Jt.DEFAULT_MAPPING=MS;Jt.DEFAULT_ANISOTROPY=1;class _t{constructor(e=0,n=0,i=0,r=1){_t.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r+s[12]*o,this.y=s[1]*n+s[5]*i+s[9]*r+s[13]*o,this.z=s[2]*n+s[6]*i+s[10]*r+s[14]*o,this.w=s[3]*n+s[7]*i+s[11]*r+s[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,o;const l=e.elements,u=l[0],c=l[4],f=l[8],d=l[1],p=l[5],y=l[9],h=l[2],m=l[6],g=l[10];if(Math.abs(c-d)<.01&&Math.abs(f-h)<.01&&Math.abs(y-m)<.01){if(Math.abs(c+d)<.1&&Math.abs(f+h)<.1&&Math.abs(y+m)<.1&&Math.abs(u+p+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,x=(p+1)/2,w=(g+1)/2,T=(c+d)/4,L=(f+h)/4,S=(y+m)/4;return _>x&&_>w?_<.01?(i=0,r=.707106781,o=.707106781):(i=Math.sqrt(_),r=T/i,o=L/i):x>w?x<.01?(i=.707106781,r=0,o=.707106781):(r=Math.sqrt(x),i=T/r,o=S/r):w<.01?(i=.707106781,r=.707106781,o=0):(o=Math.sqrt(w),i=L/o,r=S/o),this.set(i,r,o,n),this}let v=Math.sqrt((m-y)*(m-y)+(f-h)*(f-h)+(d-c)*(d-c));return Math.abs(v)<.001&&(v=1),this.x=(m-y)/v,this.y=(f-h)/v,this.z=(d-c)/v,this.w=Math.acos((u+p+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class io extends Ds{constructor(e=1,n=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new _t(0,0,e,n),this.scissorTest=!1,this.viewport=new _t(0,0,e,n);const r={width:e,height:n,depth:1};this.texture=new Jt(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:Bn,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new AS(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class RS extends Jt{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Gt,this.minFilter=Gt,this.wrapR=ti,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class CC extends Jt{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=Gt,this.minFilter=Gt,this.wrapR=ti,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class dl{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,o,s,a){let l=i[r+0],u=i[r+1],c=i[r+2],f=i[r+3];const d=o[s+0],p=o[s+1],y=o[s+2],h=o[s+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(a===1){e[n+0]=d,e[n+1]=p,e[n+2]=y,e[n+3]=h;return}if(f!==h||l!==d||u!==p||c!==y){let m=1-a;const g=l*d+u*p+c*y+f*h,v=g>=0?1:-1,_=1-g*g;if(_>Number.EPSILON){const w=Math.sqrt(_),T=Math.atan2(w,g*v);m=Math.sin(m*T)/w,a=Math.sin(a*T)/w}const x=a*v;if(l=l*m+d*x,u=u*m+p*x,c=c*m+y*x,f=f*m+h*x,m===1-a){const w=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=w,u*=w,c*=w,f*=w}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,i,r,o,s){const a=i[r],l=i[r+1],u=i[r+2],c=i[r+3],f=o[s],d=o[s+1],p=o[s+2],y=o[s+3];return e[n]=a*y+c*f+l*p-u*d,e[n+1]=l*y+c*d+u*f-a*p,e[n+2]=u*y+c*p+a*d-l*f,e[n+3]=c*y-a*f-l*d-u*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const i=e._x,r=e._y,o=e._z,s=e._order,a=Math.cos,l=Math.sin,u=a(i/2),c=a(r/2),f=a(o/2),d=l(i/2),p=l(r/2),y=l(o/2);switch(s){case"XYZ":this._x=d*c*f+u*p*y,this._y=u*p*f-d*c*y,this._z=u*c*y+d*p*f,this._w=u*c*f-d*p*y;break;case"YXZ":this._x=d*c*f+u*p*y,this._y=u*p*f-d*c*y,this._z=u*c*y-d*p*f,this._w=u*c*f+d*p*y;break;case"ZXY":this._x=d*c*f-u*p*y,this._y=u*p*f+d*c*y,this._z=u*c*y+d*p*f,this._w=u*c*f-d*p*y;break;case"ZYX":this._x=d*c*f-u*p*y,this._y=u*p*f+d*c*y,this._z=u*c*y-d*p*f,this._w=u*c*f+d*p*y;break;case"YZX":this._x=d*c*f+u*p*y,this._y=u*p*f+d*c*y,this._z=u*c*y-d*p*f,this._w=u*c*f-d*p*y;break;case"XZY":this._x=d*c*f-u*p*y,this._y=u*p*f-d*c*y,this._z=u*c*y+d*p*f,this._w=u*c*f+d*p*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],o=n[8],s=n[1],a=n[5],l=n[9],u=n[2],c=n[6],f=n[10],d=i+a+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(c-l)*p,this._y=(o-u)*p,this._z=(s-r)*p}else if(i>a&&i>f){const p=2*Math.sqrt(1+i-a-f);this._w=(c-l)/p,this._x=.25*p,this._y=(r+s)/p,this._z=(o+u)/p}else if(a>f){const p=2*Math.sqrt(1+a-i-f);this._w=(o-u)/p,this._x=(r+s)/p,this._y=.25*p,this._z=(l+c)/p}else{const p=2*Math.sqrt(1+f-i-a);this._w=(s-r)/p,this._x=(o+u)/p,this._y=(l+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(on(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,o=e._z,s=e._w,a=n._x,l=n._y,u=n._z,c=n._w;return this._x=i*c+s*a+r*u-o*l,this._y=r*c+s*l+o*a-i*u,this._z=o*c+s*u+i*l-r*a,this._w=s*c-i*a-r*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,o=this._z,s=this._w;let a=s*e._w+i*e._x+r*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=i,this._y=r,this._z=o,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-n;return this._w=p*s+n*this._w,this._x=p*i+n*this._x,this._y=p*r+n*this._y,this._z=p*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),c=Math.atan2(u,a),f=Math.sin((1-n)*c)/u,d=Math.sin(n*c)/u;return this._w=s*f+this._w*d,this._x=i*f+this._x*d,this._y=r*f+this._y*d,this._z=o*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),o=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(o),i*Math.cos(o),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,i=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Sv.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Sv.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[3]*i+o[6]*r,this.y=o[1]*n+o[4]*i+o[7]*r,this.z=o[2]*n+o[5]*i+o[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,o=e.elements,s=1/(o[3]*n+o[7]*i+o[11]*r+o[15]);return this.x=(o[0]*n+o[4]*i+o[8]*r+o[12])*s,this.y=(o[1]*n+o[5]*i+o[9]*r+o[13])*s,this.z=(o[2]*n+o[6]*i+o[10]*r+o[14])*s,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,o=e.x,s=e.y,a=e.z,l=e.w,u=l*n+s*r-a*i,c=l*i+a*n-o*r,f=l*r+o*i-s*n,d=-o*n-s*i-a*r;return this.x=u*l+d*-o+c*-a-f*-s,this.y=c*l+d*-s+f*-o-u*-a,this.z=f*l+d*-a+u*-s-c*-o,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r,this.y=o[1]*n+o[5]*i+o[9]*r,this.z=o[2]*n+o[6]*i+o[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,o=e.z,s=n.x,a=n.y,l=n.z;return this.x=r*l-o*a,this.y=o*s-i*l,this.z=i*a-r*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return xd.copy(this).projectOnVector(e),this.sub(xd)}reflect(e){return this.sub(xd.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(on(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xd=new G,Sv=new dl;class hl{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){let n=1/0,i=1/0,r=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.length;l<u;l+=3){const c=e[l],f=e[l+1],d=e[l+2];c<n&&(n=c),f<i&&(i=f),d<r&&(r=d),c>o&&(o=c),f>s&&(s=f),d>a&&(a=d)}return this.min.set(n,i,r),this.max.set(o,s,a),this}setFromBufferAttribute(e){let n=1/0,i=1/0,r=1/0,o=-1/0,s=-1/0,a=-1/0;for(let l=0,u=e.count;l<u;l++){const c=e.getX(l),f=e.getY(l),d=e.getZ(l);c<n&&(n=c),f<i&&(i=f),d<r&&(r=d),c>o&&(o=c),f>s&&(s=f),d>a&&(a=d)}return this.min.set(n,i,r),this.max.set(o,s,a),this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Pr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0)if(n&&i.attributes!=null&&i.attributes.position!==void 0){const o=i.attributes.position;for(let s=0,a=o.count;s<a;s++)Pr.fromBufferAttribute(o,s).applyMatrix4(e.matrixWorld),this.expandByPoint(Pr)}else i.boundingBox===null&&i.computeBoundingBox(),Sd.copy(i.boundingBox),Sd.applyMatrix4(e.matrixWorld),this.union(Sd);const r=e.children;for(let o=0,s=r.length;o<s;o++)this.expandByObject(r[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Pr),Pr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(js),Hl.subVectors(this.max,js),vo.subVectors(e.a,js),_o.subVectors(e.b,js),yo.subVectors(e.c,js),Wi.subVectors(_o,vo),$i.subVectors(yo,_o),Dr.subVectors(vo,yo);let n=[0,-Wi.z,Wi.y,0,-$i.z,$i.y,0,-Dr.z,Dr.y,Wi.z,0,-Wi.x,$i.z,0,-$i.x,Dr.z,0,-Dr.x,-Wi.y,Wi.x,0,-$i.y,$i.x,0,-Dr.y,Dr.x,0];return!wd(n,vo,_o,yo,Hl)||(n=[1,0,0,0,1,0,0,0,1],!wd(n,vo,_o,yo,Hl))?!1:(Wl.crossVectors(Wi,$i),n=[Wl.x,Wl.y,Wl.z],wd(n,vo,_o,yo,Hl))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Pr.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Pr).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(wi[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),wi[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),wi[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),wi[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),wi[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),wi[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),wi[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),wi[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(wi),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const wi=[new G,new G,new G,new G,new G,new G,new G,new G],Pr=new G,Sd=new hl,vo=new G,_o=new G,yo=new G,Wi=new G,$i=new G,Dr=new G,js=new G,Hl=new G,Wl=new G,Nr=new G;function wd(t,e,n,i,r){for(let o=0,s=t.length-3;o<=s;o+=3){Nr.fromArray(t,o);const a=r.x*Math.abs(Nr.x)+r.y*Math.abs(Nr.y)+r.z*Math.abs(Nr.z),l=e.dot(Nr),u=n.dot(Nr),c=i.dot(Nr);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>a)return!1}return!0}const AC=new hl,Xs=new G,Md=new G;class tf{constructor(e=new G,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):AC.setFromPoints(e).getCenter(i);let r=0;for(let o=0,s=e.length;o<s;o++)r=Math.max(r,i.distanceToSquared(e[o]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Xs.subVectors(e,this.center);const n=Xs.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Xs,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Md.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Xs.copy(e.center).add(Md)),this.expandByPoint(Xs.copy(e.center).sub(Md))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Mi=new G,bd=new G,$l=new G,ji=new G,Ed=new G,jl=new G,Td=new G;class LS{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Mi)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Mi.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Mi.copy(this.direction).multiplyScalar(n).add(this.origin),Mi.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){bd.copy(e).add(n).multiplyScalar(.5),$l.copy(n).sub(e).normalize(),ji.copy(this.origin).sub(bd);const o=e.distanceTo(n)*.5,s=-this.direction.dot($l),a=ji.dot(this.direction),l=-ji.dot($l),u=ji.lengthSq(),c=Math.abs(1-s*s);let f,d,p,y;if(c>0)if(f=s*l-a,d=s*a-l,y=o*c,f>=0)if(d>=-y)if(d<=y){const h=1/c;f*=h,d*=h,p=f*(f+s*d+2*a)+d*(s*f+d+2*l)+u}else d=o,f=Math.max(0,-(s*d+a)),p=-f*f+d*(d+2*l)+u;else d=-o,f=Math.max(0,-(s*d+a)),p=-f*f+d*(d+2*l)+u;else d<=-y?(f=Math.max(0,-(-s*o+a)),d=f>0?-o:Math.min(Math.max(-o,-l),o),p=-f*f+d*(d+2*l)+u):d<=y?(f=0,d=Math.min(Math.max(-o,-l),o),p=d*(d+2*l)+u):(f=Math.max(0,-(s*o+a)),d=f>0?o:Math.min(Math.max(-o,-l),o),p=-f*f+d*(d+2*l)+u);else d=s>0?-o:o,f=Math.max(0,-(s*d+a)),p=-f*f+d*(d+2*l)+u;return i&&i.copy(this.direction).multiplyScalar(f).add(this.origin),r&&r.copy($l).multiplyScalar(d).add(bd),p}intersectSphere(e,n){Mi.subVectors(e.center,this.origin);const i=Mi.dot(this.direction),r=Mi.dot(Mi)-i*i,o=e.radius*e.radius;if(r>o)return null;const s=Math.sqrt(o-r),a=i-s,l=i+s;return a<0&&l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,o,s,a,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,d=this.origin;return u>=0?(i=(e.min.x-d.x)*u,r=(e.max.x-d.x)*u):(i=(e.max.x-d.x)*u,r=(e.min.x-d.x)*u),c>=0?(o=(e.min.y-d.y)*c,s=(e.max.y-d.y)*c):(o=(e.max.y-d.y)*c,s=(e.min.y-d.y)*c),i>s||o>r||((o>i||isNaN(i))&&(i=o),(s<r||isNaN(r))&&(r=s),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,Mi)!==null}intersectTriangle(e,n,i,r,o){Ed.subVectors(n,e),jl.subVectors(i,e),Td.crossVectors(Ed,jl);let s=this.direction.dot(Td),a;if(s>0){if(r)return null;a=1}else if(s<0)a=-1,s=-s;else return null;ji.subVectors(this.origin,e);const l=a*this.direction.dot(jl.crossVectors(ji,jl));if(l<0)return null;const u=a*this.direction.dot(Ed.cross(ji));if(u<0||l+u>s)return null;const c=-a*ji.dot(Td);return c<0?null:this.at(c/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dt{constructor(){dt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,i,r,o,s,a,l,u,c,f,d,p,y,h,m){const g=this.elements;return g[0]=e,g[4]=n,g[8]=i,g[12]=r,g[1]=o,g[5]=s,g[9]=a,g[13]=l,g[2]=u,g[6]=c,g[10]=f,g[14]=d,g[3]=p,g[7]=y,g[11]=h,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/xo.setFromMatrixColumn(e,0).length(),o=1/xo.setFromMatrixColumn(e,1).length(),s=1/xo.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*o,n[5]=i[5]*o,n[6]=i[6]*o,n[7]=0,n[8]=i[8]*s,n[9]=i[9]*s,n[10]=i[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,o=e.z,s=Math.cos(i),a=Math.sin(i),l=Math.cos(r),u=Math.sin(r),c=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const d=s*c,p=s*f,y=a*c,h=a*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=p+y*u,n[5]=d-h*u,n[9]=-a*l,n[2]=h-d*u,n[6]=y+p*u,n[10]=s*l}else if(e.order==="YXZ"){const d=l*c,p=l*f,y=u*c,h=u*f;n[0]=d+h*a,n[4]=y*a-p,n[8]=s*u,n[1]=s*f,n[5]=s*c,n[9]=-a,n[2]=p*a-y,n[6]=h+d*a,n[10]=s*l}else if(e.order==="ZXY"){const d=l*c,p=l*f,y=u*c,h=u*f;n[0]=d-h*a,n[4]=-s*f,n[8]=y+p*a,n[1]=p+y*a,n[5]=s*c,n[9]=h-d*a,n[2]=-s*u,n[6]=a,n[10]=s*l}else if(e.order==="ZYX"){const d=s*c,p=s*f,y=a*c,h=a*f;n[0]=l*c,n[4]=y*u-p,n[8]=d*u+h,n[1]=l*f,n[5]=h*u+d,n[9]=p*u-y,n[2]=-u,n[6]=a*l,n[10]=s*l}else if(e.order==="YZX"){const d=s*l,p=s*u,y=a*l,h=a*u;n[0]=l*c,n[4]=h-d*f,n[8]=y*f+p,n[1]=f,n[5]=s*c,n[9]=-a*c,n[2]=-u*c,n[6]=p*f+y,n[10]=d-h*f}else if(e.order==="XZY"){const d=s*l,p=s*u,y=a*l,h=a*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=d*f+h,n[5]=s*c,n[9]=p*f-y,n[2]=y*f-p,n[6]=a*c,n[10]=h*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(RC,e,LC)}lookAt(e,n,i){const r=this.elements;return bn.subVectors(e,n),bn.lengthSq()===0&&(bn.z=1),bn.normalize(),Xi.crossVectors(i,bn),Xi.lengthSq()===0&&(Math.abs(i.z)===1?bn.x+=1e-4:bn.z+=1e-4,bn.normalize(),Xi.crossVectors(i,bn)),Xi.normalize(),Xl.crossVectors(bn,Xi),r[0]=Xi.x,r[4]=Xl.x,r[8]=bn.x,r[1]=Xi.y,r[5]=Xl.y,r[9]=bn.y,r[2]=Xi.z,r[6]=Xl.z,r[10]=bn.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,o=this.elements,s=i[0],a=i[4],l=i[8],u=i[12],c=i[1],f=i[5],d=i[9],p=i[13],y=i[2],h=i[6],m=i[10],g=i[14],v=i[3],_=i[7],x=i[11],w=i[15],T=r[0],L=r[4],S=r[8],R=r[12],I=r[1],J=r[5],fe=r[9],U=r[13],z=r[2],K=r[6],oe=r[10],ie=r[14],F=r[3],Y=r[7],Z=r[11],me=r[15];return o[0]=s*T+a*I+l*z+u*F,o[4]=s*L+a*J+l*K+u*Y,o[8]=s*S+a*fe+l*oe+u*Z,o[12]=s*R+a*U+l*ie+u*me,o[1]=c*T+f*I+d*z+p*F,o[5]=c*L+f*J+d*K+p*Y,o[9]=c*S+f*fe+d*oe+p*Z,o[13]=c*R+f*U+d*ie+p*me,o[2]=y*T+h*I+m*z+g*F,o[6]=y*L+h*J+m*K+g*Y,o[10]=y*S+h*fe+m*oe+g*Z,o[14]=y*R+h*U+m*ie+g*me,o[3]=v*T+_*I+x*z+w*F,o[7]=v*L+_*J+x*K+w*Y,o[11]=v*S+_*fe+x*oe+w*Z,o[15]=v*R+_*U+x*ie+w*me,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],o=e[12],s=e[1],a=e[5],l=e[9],u=e[13],c=e[2],f=e[6],d=e[10],p=e[14],y=e[3],h=e[7],m=e[11],g=e[15];return y*(+o*l*f-r*u*f-o*a*d+i*u*d+r*a*p-i*l*p)+h*(+n*l*p-n*u*d+o*s*d-r*s*p+r*u*c-o*l*c)+m*(+n*u*f-n*a*p-o*s*f+i*s*p+o*a*c-i*u*c)+g*(-r*a*c-n*l*f+n*a*d+r*s*f-i*s*d+i*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],u=e[7],c=e[8],f=e[9],d=e[10],p=e[11],y=e[12],h=e[13],m=e[14],g=e[15],v=f*m*u-h*d*u+h*l*p-a*m*p-f*l*g+a*d*g,_=y*d*u-c*m*u-y*l*p+s*m*p+c*l*g-s*d*g,x=c*h*u-y*f*u+y*a*p-s*h*p-c*a*g+s*f*g,w=y*f*l-c*h*l-y*a*d+s*h*d+c*a*m-s*f*m,T=n*v+i*_+r*x+o*w;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/T;return e[0]=v*L,e[1]=(h*d*o-f*m*o-h*r*p+i*m*p+f*r*g-i*d*g)*L,e[2]=(a*m*o-h*l*o+h*r*u-i*m*u-a*r*g+i*l*g)*L,e[3]=(f*l*o-a*d*o-f*r*u+i*d*u+a*r*p-i*l*p)*L,e[4]=_*L,e[5]=(c*m*o-y*d*o+y*r*p-n*m*p-c*r*g+n*d*g)*L,e[6]=(y*l*o-s*m*o-y*r*u+n*m*u+s*r*g-n*l*g)*L,e[7]=(s*d*o-c*l*o+c*r*u-n*d*u-s*r*p+n*l*p)*L,e[8]=x*L,e[9]=(y*f*o-c*h*o-y*i*p+n*h*p+c*i*g-n*f*g)*L,e[10]=(s*h*o-y*a*o+y*i*u-n*h*u-s*i*g+n*a*g)*L,e[11]=(c*a*o-s*f*o-c*i*u+n*f*u+s*i*p-n*a*p)*L,e[12]=w*L,e[13]=(c*h*r-y*f*r+y*i*d-n*h*d-c*i*m+n*f*m)*L,e[14]=(y*a*r-s*h*r-y*i*l+n*h*l+s*i*m-n*a*m)*L,e[15]=(s*f*r-c*a*r+c*i*l-n*f*l-s*i*d+n*a*d)*L,this}scale(e){const n=this.elements,i=e.x,r=e.y,o=e.z;return n[0]*=i,n[4]*=r,n[8]*=o,n[1]*=i,n[5]*=r,n[9]*=o,n[2]*=i,n[6]*=r,n[10]*=o,n[3]*=i,n[7]*=r,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),o=1-i,s=e.x,a=e.y,l=e.z,u=o*s,c=o*a;return this.set(u*s+i,u*a-r*l,u*l+r*a,0,u*a+r*l,c*a+i,c*l-r*s,0,u*l-r*a,c*l+r*s,o*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,o,s){return this.set(1,i,o,0,e,1,s,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,o=n._x,s=n._y,a=n._z,l=n._w,u=o+o,c=s+s,f=a+a,d=o*u,p=o*c,y=o*f,h=s*c,m=s*f,g=a*f,v=l*u,_=l*c,x=l*f,w=i.x,T=i.y,L=i.z;return r[0]=(1-(h+g))*w,r[1]=(p+x)*w,r[2]=(y-_)*w,r[3]=0,r[4]=(p-x)*T,r[5]=(1-(d+g))*T,r[6]=(m+v)*T,r[7]=0,r[8]=(y+_)*L,r[9]=(m-v)*L,r[10]=(1-(d+h))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let o=xo.set(r[0],r[1],r[2]).length();const s=xo.set(r[4],r[5],r[6]).length(),a=xo.set(r[8],r[9],r[10]).length();this.determinant()<0&&(o=-o),e.x=r[12],e.y=r[13],e.z=r[14],Yn.copy(this);const u=1/o,c=1/s,f=1/a;return Yn.elements[0]*=u,Yn.elements[1]*=u,Yn.elements[2]*=u,Yn.elements[4]*=c,Yn.elements[5]*=c,Yn.elements[6]*=c,Yn.elements[8]*=f,Yn.elements[9]*=f,Yn.elements[10]*=f,n.setFromRotationMatrix(Yn),i.x=o,i.y=s,i.z=a,this}makePerspective(e,n,i,r,o,s){const a=this.elements,l=2*o/(n-e),u=2*o/(i-r),c=(n+e)/(n-e),f=(i+r)/(i-r),d=-(s+o)/(s-o),p=-2*s*o/(s-o);return a[0]=l,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=f,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,n,i,r,o,s){const a=this.elements,l=1/(n-e),u=1/(i-r),c=1/(s-o),f=(n+e)*l,d=(i+r)*u,p=(s+o)*c;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-f,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const xo=new G,Yn=new dt,RC=new G(0,0,0),LC=new G(1,1,1),Xi=new G,Xl=new G,bn=new G,wv=new dt,Mv=new dl;class nf{constructor(e=0,n=0,i=0,r=nf.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,o=r[0],s=r[4],a=r[8],l=r[1],u=r[5],c=r[9],f=r[2],d=r[6],p=r[10];switch(n){case"XYZ":this._y=Math.asin(on(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,p),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-on(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(on(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-s,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-on(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,u));break;case"YZX":this._z=Math.asin(on(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-on(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-c,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return wv.makeRotationFromQuaternion(e),this.setFromRotationMatrix(wv,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Mv.setFromEuler(this),this.setFromQuaternion(Mv,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}nf.DEFAULT_ORDER="XYZ";class PS{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let PC=0;const bv=new G,So=new dl,bi=new dt,ql=new G,qs=new G,DC=new G,NC=new dl,Ev=new G(1,0,0),Tv=new G(0,1,0),Cv=new G(0,0,1),IC={type:"added"},Av={type:"removed"};class an extends Ds{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:PC++}),this.uuid=Ns(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=an.DEFAULT_UP.clone();const e=new G,n=new nf,i=new dl,r=new G(1,1,1);function o(){i.setFromEuler(n,!1)}function s(){n.setFromQuaternion(i,void 0,!1)}n._onChange(o),i._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new dt},normalMatrix:{value:new Rn}}),this.matrix=new dt,this.matrixWorld=new dt,this.matrixAutoUpdate=an.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=an.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new PS,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return So.setFromAxisAngle(e,n),this.quaternion.multiply(So),this}rotateOnWorldAxis(e,n){return So.setFromAxisAngle(e,n),this.quaternion.premultiply(So),this}rotateX(e){return this.rotateOnAxis(Ev,e)}rotateY(e){return this.rotateOnAxis(Tv,e)}rotateZ(e){return this.rotateOnAxis(Cv,e)}translateOnAxis(e,n){return bv.copy(e).applyQuaternion(this.quaternion),this.position.add(bv.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Ev,e)}translateY(e){return this.translateOnAxis(Tv,e)}translateZ(e){return this.translateOnAxis(Cv,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(bi.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?ql.copy(e):ql.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),qs.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bi.lookAt(qs,ql,this.up):bi.lookAt(ql,qs,this.up),this.quaternion.setFromRotationMatrix(bi),r&&(bi.extractRotation(r.matrixWorld),So.setFromRotationMatrix(bi),this.quaternion.premultiply(So.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(IC)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Av)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(Av)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),bi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),bi.multiply(e.parent.matrixWorld)),e.applyMatrix4(bi),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const s=this.children[i].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n){let i=[];this[e]===n&&i.push(this);for(let r=0,o=this.children.length;r<o;r++){const s=this.children[r].getObjectsByProperty(e,n);s.length>0&&(i=i.concat(s))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qs,e,DC),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qs,NC,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const o=n[i];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let o=0,s=r.length;o<s;o++){const a=r[o];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function o(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(o(e.materials,this.material[l]));r.material=a}else r.material=o(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(o(e.animations,l))}}if(n){const a=s(e.geometries),l=s(e.materials),u=s(e.textures),c=s(e.images),f=s(e.shapes),d=s(e.skeletons),p=s(e.animations),y=s(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),c.length>0&&(i.images=c),f.length>0&&(i.shapes=f),d.length>0&&(i.skeletons=d),p.length>0&&(i.animations=p),y.length>0&&(i.nodes=y)}return i.object=r,i;function s(a){const l=[];for(const u in a){const c=a[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}an.DEFAULT_UP=new G(0,1,0);an.DEFAULT_MATRIX_AUTO_UPDATE=!0;an.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Zn=new G,Ei=new G,Cd=new G,Ti=new G,wo=new G,Mo=new G,Rv=new G,Ad=new G,Rd=new G,Ld=new G;class Pi{constructor(e=new G,n=new G,i=new G){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Zn.subVectors(e,n),r.cross(Zn);const o=r.lengthSq();return o>0?r.multiplyScalar(1/Math.sqrt(o)):r.set(0,0,0)}static getBarycoord(e,n,i,r,o){Zn.subVectors(r,n),Ei.subVectors(i,n),Cd.subVectors(e,n);const s=Zn.dot(Zn),a=Zn.dot(Ei),l=Zn.dot(Cd),u=Ei.dot(Ei),c=Ei.dot(Cd),f=s*u-a*a;if(f===0)return o.set(-2,-1,-1);const d=1/f,p=(u*l-a*c)*d,y=(s*c-a*l)*d;return o.set(1-p-y,y,p)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Ti),Ti.x>=0&&Ti.y>=0&&Ti.x+Ti.y<=1}static getUV(e,n,i,r,o,s,a,l){return this.getBarycoord(e,n,i,r,Ti),l.set(0,0),l.addScaledVector(o,Ti.x),l.addScaledVector(s,Ti.y),l.addScaledVector(a,Ti.z),l}static isFrontFacing(e,n,i,r){return Zn.subVectors(i,n),Ei.subVectors(e,n),Zn.cross(Ei).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Zn.subVectors(this.c,this.b),Ei.subVectors(this.a,this.b),Zn.cross(Ei).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Pi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Pi.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,o){return Pi.getUV(e,this.a,this.b,this.c,n,i,r,o)}containsPoint(e){return Pi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Pi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,o=this.c;let s,a;wo.subVectors(r,i),Mo.subVectors(o,i),Ad.subVectors(e,i);const l=wo.dot(Ad),u=Mo.dot(Ad);if(l<=0&&u<=0)return n.copy(i);Rd.subVectors(e,r);const c=wo.dot(Rd),f=Mo.dot(Rd);if(c>=0&&f<=c)return n.copy(r);const d=l*f-c*u;if(d<=0&&l>=0&&c<=0)return s=l/(l-c),n.copy(i).addScaledVector(wo,s);Ld.subVectors(e,o);const p=wo.dot(Ld),y=Mo.dot(Ld);if(y>=0&&p<=y)return n.copy(o);const h=p*u-l*y;if(h<=0&&u>=0&&y<=0)return a=u/(u-y),n.copy(i).addScaledVector(Mo,a);const m=c*y-p*f;if(m<=0&&f-c>=0&&p-y>=0)return Rv.subVectors(o,r),a=(f-c)/(f-c+(p-y)),n.copy(r).addScaledVector(Rv,a);const g=1/(m+h+d);return s=h*g,a=d*g,n.copy(i).addScaledVector(wo,s).addScaledVector(Mo,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let kC=0;class fo extends Ds{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kC++}),this.uuid=Ns(),this.name="",this.type="Material",this.blending=is,this.side=_r,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SS,this.blendDst=wS,this.blendEquation=Io,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=sp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hd,this.stencilZFail=hd,this.stencilZPass=hd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}const r=this[n];if(r===void 0){console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.");continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==is&&(i.blending=this.blending),this.side!==_r&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(o){const s=[];for(const a in o){const l=o[a];delete l.metadata,s.push(l)}return s}if(n){const o=r(e.textures),s=r(e.images);o.length>0&&(i.textures=o),s.length>0&&(i.images=s)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let o=0;o!==r;++o)i[o]=n[o].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Fm extends fo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Lt=new G,Yl=new Ce;class oi{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=vv,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,o=this.itemSize;r<o;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Yl.fromBufferAttribute(this,n),Yl.applyMatrix3(e),this.setXY(n,Yl.x,Yl.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Lt.fromBufferAttribute(this,n),Lt.applyMatrix3(e),this.setXYZ(n,Lt.x,Lt.y,Lt.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Lt.fromBufferAttribute(this,n),Lt.applyMatrix4(e),this.setXYZ(n,Lt.x,Lt.y,Lt.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Lt.fromBufferAttribute(this,n),Lt.applyNormalMatrix(e),this.setXYZ(n,Lt.x,Lt.y,Lt.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Lt.fromBufferAttribute(this,n),Lt.transformDirection(e),this.setXYZ(n,Lt.x,Lt.y,Lt.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Bl(n,this.array)),n}setX(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Bl(n,this.array)),n}setY(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Bl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Bl(n,this.array)),n}setW(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),i=Mn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),i=Mn(i,this.array),r=Mn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,o){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),i=Mn(i,this.array),r=Mn(r,this.array),o=Mn(o,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==vv&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class DS extends oi{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class NS extends oi{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class Dn extends oi{constructor(e,n,i){super(new Float32Array(e),n,i)}}let OC=0;const Fn=new dt,Pd=new an,bo=new G,En=new hl,Ys=new hl,Bt=new G;class ai extends Ds{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:OC++}),this.uuid=Ns(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(ES(e)?NS:DS)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new Rn().getNormalMatrix(e);i.applyNormalMatrix(o),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Fn.makeRotationFromQuaternion(e),this.applyMatrix4(Fn),this}rotateX(e){return Fn.makeRotationX(e),this.applyMatrix4(Fn),this}rotateY(e){return Fn.makeRotationY(e),this.applyMatrix4(Fn),this}rotateZ(e){return Fn.makeRotationZ(e),this.applyMatrix4(Fn),this}translate(e,n,i){return Fn.makeTranslation(e,n,i),this.applyMatrix4(Fn),this}scale(e,n,i){return Fn.makeScale(e,n,i),this.applyMatrix4(Fn),this}lookAt(e){return Pd.lookAt(e),Pd.updateMatrix(),this.applyMatrix4(Pd.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bo).negate(),this.translate(bo.x,bo.y,bo.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const o=e[i];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Dn(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new hl);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const o=n[i];En.setFromBufferAttribute(o),this.morphTargetsRelative?(Bt.addVectors(this.boundingBox.min,En.min),this.boundingBox.expandByPoint(Bt),Bt.addVectors(this.boundingBox.max,En.max),this.boundingBox.expandByPoint(Bt)):(this.boundingBox.expandByPoint(En.min),this.boundingBox.expandByPoint(En.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new tf);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const i=this.boundingSphere.center;if(En.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];Ys.setFromBufferAttribute(a),this.morphTargetsRelative?(Bt.addVectors(En.min,Ys.min),En.expandByPoint(Bt),Bt.addVectors(En.max,Ys.max),En.expandByPoint(Bt)):(En.expandByPoint(Ys.min),En.expandByPoint(Ys.max))}En.getCenter(i);let r=0;for(let o=0,s=e.count;o<s;o++)Bt.fromBufferAttribute(e,o),r=Math.max(r,i.distanceToSquared(Bt));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],l=this.morphTargetsRelative;for(let u=0,c=a.count;u<c;u++)Bt.fromBufferAttribute(a,u),l&&(bo.fromBufferAttribute(e,u),Bt.add(bo)),r=Math.max(r,i.distanceToSquared(Bt))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,o=n.normal.array,s=n.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new oi(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],c=[];for(let I=0;I<a;I++)u[I]=new G,c[I]=new G;const f=new G,d=new G,p=new G,y=new Ce,h=new Ce,m=new Ce,g=new G,v=new G;function _(I,J,fe){f.fromArray(r,I*3),d.fromArray(r,J*3),p.fromArray(r,fe*3),y.fromArray(s,I*2),h.fromArray(s,J*2),m.fromArray(s,fe*2),d.sub(f),p.sub(f),h.sub(y),m.sub(y);const U=1/(h.x*m.y-m.x*h.y);!isFinite(U)||(g.copy(d).multiplyScalar(m.y).addScaledVector(p,-h.y).multiplyScalar(U),v.copy(p).multiplyScalar(h.x).addScaledVector(d,-m.x).multiplyScalar(U),u[I].add(g),u[J].add(g),u[fe].add(g),c[I].add(v),c[J].add(v),c[fe].add(v))}let x=this.groups;x.length===0&&(x=[{start:0,count:i.length}]);for(let I=0,J=x.length;I<J;++I){const fe=x[I],U=fe.start,z=fe.count;for(let K=U,oe=U+z;K<oe;K+=3)_(i[K+0],i[K+1],i[K+2])}const w=new G,T=new G,L=new G,S=new G;function R(I){L.fromArray(o,I*3),S.copy(L);const J=u[I];w.copy(J),w.sub(L.multiplyScalar(L.dot(J))).normalize(),T.crossVectors(S,J);const U=T.dot(c[I])<0?-1:1;l[I*4]=w.x,l[I*4+1]=w.y,l[I*4+2]=w.z,l[I*4+3]=U}for(let I=0,J=x.length;I<J;++I){const fe=x[I],U=fe.start,z=fe.count;for(let K=U,oe=U+z;K<oe;K+=3)R(i[K+0]),R(i[K+1]),R(i[K+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new oi(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let d=0,p=i.count;d<p;d++)i.setXYZ(d,0,0,0);const r=new G,o=new G,s=new G,a=new G,l=new G,u=new G,c=new G,f=new G;if(e)for(let d=0,p=e.count;d<p;d+=3){const y=e.getX(d+0),h=e.getX(d+1),m=e.getX(d+2);r.fromBufferAttribute(n,y),o.fromBufferAttribute(n,h),s.fromBufferAttribute(n,m),c.subVectors(s,o),f.subVectors(r,o),c.cross(f),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,h),u.fromBufferAttribute(i,m),a.add(c),l.add(c),u.add(c),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(h,l.x,l.y,l.z),i.setXYZ(m,u.x,u.y,u.z)}else for(let d=0,p=n.count;d<p;d+=3)r.fromBufferAttribute(n,d+0),o.fromBufferAttribute(n,d+1),s.fromBufferAttribute(n,d+2),c.subVectors(s,o),f.subVectors(r,o),c.cross(f),i.setXYZ(d+0,c.x,c.y,c.z),i.setXYZ(d+1,c.x,c.y,c.z),i.setXYZ(d+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Bt.fromBufferAttribute(e,n),Bt.normalize(),e.setXYZ(n,Bt.x,Bt.y,Bt.z)}toNonIndexed(){function e(a,l){const u=a.array,c=a.itemSize,f=a.normalized,d=new u.constructor(l.length*c);let p=0,y=0;for(let h=0,m=l.length;h<m;h++){a.isInterleavedBufferAttribute?p=l[h]*a.data.stride+a.offset:p=l[h]*c;for(let g=0;g<c;g++)d[y++]=u[p++]}return new oi(d,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new ai,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],u=e(l,i);n.setAttribute(a,u)}const o=this.morphAttributes;for(const a in o){const l=[],u=o[a];for(let c=0,f=u.length;c<f;c++){const d=u[c],p=e(d,i);l.push(p)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,l=s.length;a<l;a++){const u=s[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,d=u.length;f<d;f++){const p=u[f];c.push(p.toJSON(e.data))}c.length>0&&(r[l]=c,o=!0)}o&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const u in r){const c=r[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],f=o[u];for(let d=0,p=f.length;d<p;d++)c.push(f[d].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let u=0,c=s.length;u<c;u++){const f=s[u];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const Lv=new dt,Eo=new LS,Dd=new tf,Zs=new G,Ks=new G,Js=new G,Nd=new G,Zl=new G,Kl=new Ce,Jl=new Ce,Ql=new Ce,Id=new G,eu=new G;class pn extends an{constructor(e=new ai,n=new Fm){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,o=i.morphAttributes.position,s=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(o&&a){Zl.set(0,0,0);for(let l=0,u=o.length;l<u;l++){const c=a[l],f=o[l];c!==0&&(Nd.fromBufferAttribute(f,e),s?Zl.addScaledVector(Nd,c):Zl.addScaledVector(Nd.sub(n),c))}n.add(Zl)}return this.isSkinnedMesh&&this.boneTransform(e,n),n}raycast(e,n){const i=this.geometry,r=this.material,o=this.matrixWorld;if(r===void 0||(i.boundingSphere===null&&i.computeBoundingSphere(),Dd.copy(i.boundingSphere),Dd.applyMatrix4(o),e.ray.intersectsSphere(Dd)===!1)||(Lv.copy(o).invert(),Eo.copy(e.ray).applyMatrix4(Lv),i.boundingBox!==null&&Eo.intersectsBox(i.boundingBox)===!1))return;let s;const a=i.index,l=i.attributes.position,u=i.attributes.uv,c=i.attributes.uv2,f=i.groups,d=i.drawRange;if(a!==null)if(Array.isArray(r))for(let p=0,y=f.length;p<y;p++){const h=f[p],m=r[h.materialIndex],g=Math.max(h.start,d.start),v=Math.min(a.count,Math.min(h.start+h.count,d.start+d.count));for(let _=g,x=v;_<x;_+=3){const w=a.getX(_),T=a.getX(_+1),L=a.getX(_+2);s=tu(this,m,e,Eo,u,c,w,T,L),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=h.materialIndex,n.push(s))}}else{const p=Math.max(0,d.start),y=Math.min(a.count,d.start+d.count);for(let h=p,m=y;h<m;h+=3){const g=a.getX(h),v=a.getX(h+1),_=a.getX(h+2);s=tu(this,r,e,Eo,u,c,g,v,_),s&&(s.faceIndex=Math.floor(h/3),n.push(s))}}else if(l!==void 0)if(Array.isArray(r))for(let p=0,y=f.length;p<y;p++){const h=f[p],m=r[h.materialIndex],g=Math.max(h.start,d.start),v=Math.min(l.count,Math.min(h.start+h.count,d.start+d.count));for(let _=g,x=v;_<x;_+=3){const w=_,T=_+1,L=_+2;s=tu(this,m,e,Eo,u,c,w,T,L),s&&(s.faceIndex=Math.floor(_/3),s.face.materialIndex=h.materialIndex,n.push(s))}}else{const p=Math.max(0,d.start),y=Math.min(l.count,d.start+d.count);for(let h=p,m=y;h<m;h+=3){const g=h,v=h+1,_=h+2;s=tu(this,r,e,Eo,u,c,g,v,_),s&&(s.faceIndex=Math.floor(h/3),n.push(s))}}}}function FC(t,e,n,i,r,o,s,a){let l;if(e.side===Pn?l=i.intersectTriangle(s,o,r,!0,a):l=i.intersectTriangle(r,o,s,e.side===_r,a),l===null)return null;eu.copy(a),eu.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(eu);return u<n.near||u>n.far?null:{distance:u,point:eu.clone(),object:t}}function tu(t,e,n,i,r,o,s,a,l){t.getVertexPosition(s,Zs),t.getVertexPosition(a,Ks),t.getVertexPosition(l,Js);const u=FC(t,e,n,i,Zs,Ks,Js,Id);if(u){r&&(Kl.fromBufferAttribute(r,s),Jl.fromBufferAttribute(r,a),Ql.fromBufferAttribute(r,l),u.uv=Pi.getUV(Id,Zs,Ks,Js,Kl,Jl,Ql,new Ce)),o&&(Kl.fromBufferAttribute(o,s),Jl.fromBufferAttribute(o,a),Ql.fromBufferAttribute(o,l),u.uv2=Pi.getUV(Id,Zs,Ks,Js,Kl,Jl,Ql,new Ce));const c={a:s,b:a,c:l,normal:new G,materialIndex:0};Pi.getNormal(Zs,Ks,Js,c.normal),u.face=c}return u}class Is extends ai{constructor(e=1,n=1,i=1,r=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:s};const a=this;r=Math.floor(r),o=Math.floor(o),s=Math.floor(s);const l=[],u=[],c=[],f=[];let d=0,p=0;y("z","y","x",-1,-1,i,n,e,s,o,0),y("z","y","x",1,-1,i,n,-e,s,o,1),y("x","z","y",1,1,e,i,n,r,s,2),y("x","z","y",1,-1,e,i,-n,r,s,3),y("x","y","z",1,-1,e,n,i,r,o,4),y("x","y","z",-1,-1,e,n,-i,r,o,5),this.setIndex(l),this.setAttribute("position",new Dn(u,3)),this.setAttribute("normal",new Dn(c,3)),this.setAttribute("uv",new Dn(f,2));function y(h,m,g,v,_,x,w,T,L,S,R){const I=x/L,J=w/S,fe=x/2,U=w/2,z=T/2,K=L+1,oe=S+1;let ie=0,F=0;const Y=new G;for(let Z=0;Z<oe;Z++){const me=Z*J-U;for(let M=0;M<K;M++){const C=M*I-fe;Y[h]=C*v,Y[m]=me*_,Y[g]=z,u.push(Y.x,Y.y,Y.z),Y[h]=0,Y[m]=0,Y[g]=T>0?1:-1,c.push(Y.x,Y.y,Y.z),f.push(M/L),f.push(1-Z/S),ie+=1}}for(let Z=0;Z<S;Z++)for(let me=0;me<L;me++){const M=d+me+K*Z,C=d+me+K*(Z+1),N=d+(me+1)+K*(Z+1),W=d+(me+1)+K*Z;l.push(M,C,W),l.push(C,N,W),F+=6}a.addGroup(p,F,R),p+=F,d+=ie}}static fromJSON(e){return new Is(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ss(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function nn(t){const e={};for(let n=0;n<t.length;n++){const i=Ss(t[n]);for(const r in i)e[r]=i[r]}return e}function zC(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function IS(t){return t.getRenderTarget()===null&&t.outputEncoding===ct?fi:Qa}const UC={clone:Ss,merge:nn};var BC=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,VC=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ro extends fo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=BC,this.fragmentShader=VC,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ss(e.uniforms),this.uniformsGroups=zC(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const s=this.uniforms[r].value;s&&s.isTexture?n.uniforms[r]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[r]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[r]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[r]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[r]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[r]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[r]={type:"m4",value:s.toArray()}:n.uniforms[r]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class kS extends an{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dt,this.projectionMatrix=new dt,this.projectionMatrixInverse=new dt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Cn extends kS{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=yv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return yv*2*Math.atan(Math.tan(pd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(pd*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,o=-.5*r;const s=this.view;if(this.view!==null&&this.view.enabled){const l=s.fullWidth,u=s.fullHeight;o+=s.offsetX*r/l,n-=s.offsetY*i/u,r*=s.width/l,i*=s.height/u}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+r,n,n-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const To=-90,Co=1;class GC extends an{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new Cn(To,Co,e,n);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const o=new Cn(To,Co,e,n);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(-1,0,0),this.add(o);const s=new Cn(To,Co,e,n);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(0,1,0),this.add(s);const a=new Cn(To,Co,e,n);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(0,-1,0),this.add(a);const l=new Cn(To,Co,e,n);l.layers=this.layers,l.up.set(0,1,0),l.lookAt(0,0,1),this.add(l);const u=new Cn(To,Co,e,n);u.layers=this.layers,u.up.set(0,1,0),u.lookAt(0,0,-1),this.add(u)}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,o,s,a,l,u]=this.children,c=e.getRenderTarget(),f=e.toneMapping,d=e.xr.enabled;e.toneMapping=Oi,e.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,r),e.setRenderTarget(i,1),e.render(n,o),e.setRenderTarget(i,2),e.render(n,s),e.setRenderTarget(i,3),e.render(n,a),e.setRenderTarget(i,4),e.render(n,l),i.texture.generateMipmaps=p,e.setRenderTarget(i,5),e.render(n,u),e.setRenderTarget(c),e.toneMapping=f,e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class OS extends Jt{constructor(e,n,i,r,o,s,a,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:_s,super(e,n,i,r,o,s,a,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class HC extends io{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new OS(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Bn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Is(5,5,5),o=new ro({name:"CubemapFromEquirect",uniforms:Ss(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Pn,blending:mr});o.uniforms.tEquirect.value=n;const s=new pn(r,o),a=n.minFilter;return n.minFilter===Ka&&(n.minFilter=Bn),new GC(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n,i,r){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,i,r);e.setRenderTarget(o)}}const kd=new G,WC=new G,$C=new Rn;class Or{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=kd.subVectors(i,n).cross(WC.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,n){const i=e.delta(kd),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/r;return o<0||o>1?null:n.copy(i).multiplyScalar(o).add(e.start)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||$C.getNormalMatrix(e),r=this.coplanarPoint(kd).applyMatrix4(e),o=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Ao=new tf,nu=new G;class zm{constructor(e=new Or,n=new Or,i=new Or,r=new Or,o=new Or,s=new Or){this.planes=[e,n,i,r,o,s]}set(e,n,i,r,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=i[4],u=i[5],c=i[6],f=i[7],d=i[8],p=i[9],y=i[10],h=i[11],m=i[12],g=i[13],v=i[14],_=i[15];return n[0].setComponents(a-r,f-l,h-d,_-m).normalize(),n[1].setComponents(a+r,f+l,h+d,_+m).normalize(),n[2].setComponents(a+o,f+u,h+p,_+g).normalize(),n[3].setComponents(a-o,f-u,h-p,_-g).normalize(),n[4].setComponents(a-s,f-c,h-y,_-v).normalize(),n[5].setComponents(a+s,f+c,h+y,_+v).normalize(),this}intersectsObject(e){const n=e.geometry;return n.boundingSphere===null&&n.computeBoundingSphere(),Ao.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Ao)}intersectsSprite(e){return Ao.center.set(0,0,0),Ao.radius=.7071067811865476,Ao.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ao)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(nu.x=r.normal.x>0?e.max.x:e.min.x,nu.y=r.normal.y>0?e.max.y:e.min.y,nu.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(nu)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function FS(){let t=null,e=!1,n=null,i=null;function r(o,s){n(o,s),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function jC(t,e){const n=e.isWebGL2,i=new WeakMap;function r(u,c){const f=u.array,d=u.usage,p=t.createBuffer();t.bindBuffer(c,p),t.bufferData(c,f,d),u.onUploadCallback();let y;if(f instanceof Float32Array)y=5126;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)y=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=5123;else if(f instanceof Int16Array)y=5122;else if(f instanceof Uint32Array)y=5125;else if(f instanceof Int32Array)y=5124;else if(f instanceof Int8Array)y=5120;else if(f instanceof Uint8Array)y=5121;else if(f instanceof Uint8ClampedArray)y=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version}}function o(u,c,f){const d=c.array,p=c.updateRange;t.bindBuffer(f,u),p.count===-1?t.bufferSubData(f,0,d):(n?t.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):t.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1),c.onUploadCallback()}function s(u){return u.isInterleavedBufferAttribute&&(u=u.data),i.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const c=i.get(u);c&&(t.deleteBuffer(c.buffer),i.delete(u))}function l(u,c){if(u.isGLBufferAttribute){const d=i.get(u);(!d||d.version<u.version)&&i.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=i.get(u);f===void 0?i.set(u,r(u,c)):f.version<u.version&&(o(f.buffer,u,c),f.version=u.version)}return{get:s,remove:a,update:l}}class Um extends ai{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const o=e/2,s=n/2,a=Math.floor(i),l=Math.floor(r),u=a+1,c=l+1,f=e/a,d=n/l,p=[],y=[],h=[],m=[];for(let g=0;g<c;g++){const v=g*d-s;for(let _=0;_<u;_++){const x=_*f-o;y.push(x,-v,0),h.push(0,0,1),m.push(_/a),m.push(1-g/l)}}for(let g=0;g<l;g++)for(let v=0;v<a;v++){const _=v+u*g,x=v+u*(g+1),w=v+1+u*(g+1),T=v+1+u*g;p.push(_,x,T),p.push(x,w,T)}this.setIndex(p),this.setAttribute("position",new Dn(y,3)),this.setAttribute("normal",new Dn(h,3)),this.setAttribute("uv",new Dn(m,2))}static fromJSON(e){return new Um(e.width,e.height,e.widthSegments,e.heightSegments)}}var XC=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,qC=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YC=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,ZC=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,KC=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,JC=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,QC="vec3 transformed = vec3( position );",e3=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,t3=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,n3=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,i3=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,r3=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,o3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,s3=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,a3=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,l3=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,u3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,c3=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,f3=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,d3=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,h3=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,p3=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,m3=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,g3=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,v3=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_3=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,y3="gl_FragColor = linearToOutputTexel( gl_FragColor );",x3=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,S3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,w3=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,M3=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,b3=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,E3=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,T3=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,C3=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,A3=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,R3=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,L3=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,P3=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,D3=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,N3=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,I3=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,k3=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,O3=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,F3=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,z3=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,U3=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,B3=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,V3=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,G3=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,H3=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,W3=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,$3=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,j3=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,X3=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,q3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Y3=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Z3=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,K3=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,J3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Q3=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eA=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,tA=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,nA=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,iA=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,rA=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,oA=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,sA=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,aA=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,lA=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,uA=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,cA=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,fA=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,dA=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,hA=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,pA=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,mA=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,gA=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,vA=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,_A=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,yA=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,xA=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,SA=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,wA=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,MA=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,bA=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,EA=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,TA=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,CA=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,AA=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,RA=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,LA=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,PA=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,DA=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,NA=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,IA=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,kA=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,OA=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,FA=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,zA=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,UA=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,BA=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,VA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,GA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,HA=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,WA=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $A=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,jA=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,XA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qA=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,YA=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ZA=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,KA=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,JA=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,QA=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,eR=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,tR=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,nR=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,iR=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rR=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oR=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sR=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aR=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lR=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uR=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,cR=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fR=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dR=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,hR=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pR=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mR=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,gR=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vR=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_R=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yR=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,xR=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,SR=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wR=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,MR=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,bR=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,$e={alphamap_fragment:XC,alphamap_pars_fragment:qC,alphatest_fragment:YC,alphatest_pars_fragment:ZC,aomap_fragment:KC,aomap_pars_fragment:JC,begin_vertex:QC,beginnormal_vertex:e3,bsdfs:t3,iridescence_fragment:n3,bumpmap_pars_fragment:i3,clipping_planes_fragment:r3,clipping_planes_pars_fragment:o3,clipping_planes_pars_vertex:s3,clipping_planes_vertex:a3,color_fragment:l3,color_pars_fragment:u3,color_pars_vertex:c3,color_vertex:f3,common:d3,cube_uv_reflection_fragment:h3,defaultnormal_vertex:p3,displacementmap_pars_vertex:m3,displacementmap_vertex:g3,emissivemap_fragment:v3,emissivemap_pars_fragment:_3,encodings_fragment:y3,encodings_pars_fragment:x3,envmap_fragment:S3,envmap_common_pars_fragment:w3,envmap_pars_fragment:M3,envmap_pars_vertex:b3,envmap_physical_pars_fragment:O3,envmap_vertex:E3,fog_vertex:T3,fog_pars_vertex:C3,fog_fragment:A3,fog_pars_fragment:R3,gradientmap_pars_fragment:L3,lightmap_fragment:P3,lightmap_pars_fragment:D3,lights_lambert_fragment:N3,lights_lambert_pars_fragment:I3,lights_pars_begin:k3,lights_toon_fragment:F3,lights_toon_pars_fragment:z3,lights_phong_fragment:U3,lights_phong_pars_fragment:B3,lights_physical_fragment:V3,lights_physical_pars_fragment:G3,lights_fragment_begin:H3,lights_fragment_maps:W3,lights_fragment_end:$3,logdepthbuf_fragment:j3,logdepthbuf_pars_fragment:X3,logdepthbuf_pars_vertex:q3,logdepthbuf_vertex:Y3,map_fragment:Z3,map_pars_fragment:K3,map_particle_fragment:J3,map_particle_pars_fragment:Q3,metalnessmap_fragment:eA,metalnessmap_pars_fragment:tA,morphcolor_vertex:nA,morphnormal_vertex:iA,morphtarget_pars_vertex:rA,morphtarget_vertex:oA,normal_fragment_begin:sA,normal_fragment_maps:aA,normal_pars_fragment:lA,normal_pars_vertex:uA,normal_vertex:cA,normalmap_pars_fragment:fA,clearcoat_normal_fragment_begin:dA,clearcoat_normal_fragment_maps:hA,clearcoat_pars_fragment:pA,iridescence_pars_fragment:mA,output_fragment:gA,packing:vA,premultiplied_alpha_fragment:_A,project_vertex:yA,dithering_fragment:xA,dithering_pars_fragment:SA,roughnessmap_fragment:wA,roughnessmap_pars_fragment:MA,shadowmap_pars_fragment:bA,shadowmap_pars_vertex:EA,shadowmap_vertex:TA,shadowmask_pars_fragment:CA,skinbase_vertex:AA,skinning_pars_vertex:RA,skinning_vertex:LA,skinnormal_vertex:PA,specularmap_fragment:DA,specularmap_pars_fragment:NA,tonemapping_fragment:IA,tonemapping_pars_fragment:kA,transmission_fragment:OA,transmission_pars_fragment:FA,uv_pars_fragment:zA,uv_pars_vertex:UA,uv_vertex:BA,uv2_pars_fragment:VA,uv2_pars_vertex:GA,uv2_vertex:HA,worldpos_vertex:WA,background_vert:$A,background_frag:jA,backgroundCube_vert:XA,backgroundCube_frag:qA,cube_vert:YA,cube_frag:ZA,depth_vert:KA,depth_frag:JA,distanceRGBA_vert:QA,distanceRGBA_frag:eR,equirect_vert:tR,equirect_frag:nR,linedashed_vert:iR,linedashed_frag:rR,meshbasic_vert:oR,meshbasic_frag:sR,meshlambert_vert:aR,meshlambert_frag:lR,meshmatcap_vert:uR,meshmatcap_frag:cR,meshnormal_vert:fR,meshnormal_frag:dR,meshphong_vert:hR,meshphong_frag:pR,meshphysical_vert:mR,meshphysical_frag:gR,meshtoon_vert:vR,meshtoon_frag:_R,points_vert:yR,points_frag:xR,shadow_vert:SR,shadow_frag:wR,sprite_vert:MR,sprite_frag:bR},Me={common:{diffuse:{value:new rt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Rn},uv2Transform:{value:new Rn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rn}},sprite:{diffuse:{value:new rt(16777215)},opacity:{value:1},center:{value:new Ce(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Rn}}},di={basic:{uniforms:nn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.fog]),vertexShader:$e.meshbasic_vert,fragmentShader:$e.meshbasic_frag},lambert:{uniforms:nn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,Me.lights,{emissive:{value:new rt(0)}}]),vertexShader:$e.meshlambert_vert,fragmentShader:$e.meshlambert_frag},phong:{uniforms:nn([Me.common,Me.specularmap,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,Me.lights,{emissive:{value:new rt(0)},specular:{value:new rt(1118481)},shininess:{value:30}}]),vertexShader:$e.meshphong_vert,fragmentShader:$e.meshphong_frag},standard:{uniforms:nn([Me.common,Me.envmap,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.roughnessmap,Me.metalnessmap,Me.fog,Me.lights,{emissive:{value:new rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$e.meshphysical_vert,fragmentShader:$e.meshphysical_frag},toon:{uniforms:nn([Me.common,Me.aomap,Me.lightmap,Me.emissivemap,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.gradientmap,Me.fog,Me.lights,{emissive:{value:new rt(0)}}]),vertexShader:$e.meshtoon_vert,fragmentShader:$e.meshtoon_frag},matcap:{uniforms:nn([Me.common,Me.bumpmap,Me.normalmap,Me.displacementmap,Me.fog,{matcap:{value:null}}]),vertexShader:$e.meshmatcap_vert,fragmentShader:$e.meshmatcap_frag},points:{uniforms:nn([Me.points,Me.fog]),vertexShader:$e.points_vert,fragmentShader:$e.points_frag},dashed:{uniforms:nn([Me.common,Me.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$e.linedashed_vert,fragmentShader:$e.linedashed_frag},depth:{uniforms:nn([Me.common,Me.displacementmap]),vertexShader:$e.depth_vert,fragmentShader:$e.depth_frag},normal:{uniforms:nn([Me.common,Me.bumpmap,Me.normalmap,Me.displacementmap,{opacity:{value:1}}]),vertexShader:$e.meshnormal_vert,fragmentShader:$e.meshnormal_frag},sprite:{uniforms:nn([Me.sprite,Me.fog]),vertexShader:$e.sprite_vert,fragmentShader:$e.sprite_frag},background:{uniforms:{uvTransform:{value:new Rn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:$e.background_vert,fragmentShader:$e.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:$e.backgroundCube_vert,fragmentShader:$e.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:$e.cube_vert,fragmentShader:$e.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$e.equirect_vert,fragmentShader:$e.equirect_frag},distanceRGBA:{uniforms:nn([Me.common,Me.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$e.distanceRGBA_vert,fragmentShader:$e.distanceRGBA_frag},shadow:{uniforms:nn([Me.lights,Me.fog,{color:{value:new rt(0)},opacity:{value:1}}]),vertexShader:$e.shadow_vert,fragmentShader:$e.shadow_frag}};di.physical={uniforms:nn([di.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Ce(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new rt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Ce},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new rt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new rt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:$e.meshphysical_vert,fragmentShader:$e.meshphysical_frag};const iu={r:0,b:0,g:0};function ER(t,e,n,i,r,o,s){const a=new rt(0);let l=o===!0?0:1,u,c,f=null,d=0,p=null;function y(m,g){let v=!1,_=g.isScene===!0?g.background:null;_&&_.isTexture&&(_=(g.backgroundBlurriness>0?n:e).get(_));const x=t.xr,w=x.getSession&&x.getSession();w&&w.environmentBlendMode==="additive"&&(_=null),_===null?h(a,l):_&&_.isColor&&(h(_,1),v=!0),(t.autoClear||v)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===ef)?(c===void 0&&(c=new pn(new Is(1,1,1),new ro({name:"BackgroundCubeMaterial",uniforms:Ss(di.backgroundCube.uniforms),vertexShader:di.backgroundCube.vertexShader,fragmentShader:di.backgroundCube.fragmentShader,side:Pn,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,L,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=_,c.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=_.encoding!==ct,(f!==_||d!==_.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,f=_,d=_.version,p=t.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null)):_&&_.isTexture&&(u===void 0&&(u=new pn(new Um(2,2),new ro({name:"BackgroundMaterial",uniforms:Ss(di.background.uniforms),vertexShader:di.background.vertexShader,fragmentShader:di.background.fragmentShader,side:_r,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=_,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=_.encoding!==ct,_.matrixAutoUpdate===!0&&_.updateMatrix(),u.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||d!==_.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=_,d=_.version,p=t.toneMapping),u.layers.enableAll(),m.unshift(u,u.geometry,u.material,0,0,null))}function h(m,g){m.getRGB(iu,IS(t)),i.buffers.color.setClear(iu.r,iu.g,iu.b,g,s)}return{getClearColor:function(){return a},setClearColor:function(m,g=1){a.set(m),l=g,h(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(m){l=m,h(a,l)},render:y}}function TR(t,e,n,i){const r=t.getParameter(34921),o=i.isWebGL2?null:e.get("OES_vertex_array_object"),s=i.isWebGL2||o!==null,a={},l=m(null);let u=l,c=!1;function f(z,K,oe,ie,F){let Y=!1;if(s){const Z=h(ie,oe,K);u!==Z&&(u=Z,p(u.object)),Y=g(z,ie,oe,F),Y&&v(z,ie,oe,F)}else{const Z=K.wireframe===!0;(u.geometry!==ie.id||u.program!==oe.id||u.wireframe!==Z)&&(u.geometry=ie.id,u.program=oe.id,u.wireframe=Z,Y=!0)}F!==null&&n.update(F,34963),(Y||c)&&(c=!1,S(z,K,oe,ie),F!==null&&t.bindBuffer(34963,n.get(F).buffer))}function d(){return i.isWebGL2?t.createVertexArray():o.createVertexArrayOES()}function p(z){return i.isWebGL2?t.bindVertexArray(z):o.bindVertexArrayOES(z)}function y(z){return i.isWebGL2?t.deleteVertexArray(z):o.deleteVertexArrayOES(z)}function h(z,K,oe){const ie=oe.wireframe===!0;let F=a[z.id];F===void 0&&(F={},a[z.id]=F);let Y=F[K.id];Y===void 0&&(Y={},F[K.id]=Y);let Z=Y[ie];return Z===void 0&&(Z=m(d()),Y[ie]=Z),Z}function m(z){const K=[],oe=[],ie=[];for(let F=0;F<r;F++)K[F]=0,oe[F]=0,ie[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:oe,attributeDivisors:ie,object:z,attributes:{},index:null}}function g(z,K,oe,ie){const F=u.attributes,Y=K.attributes;let Z=0;const me=oe.getAttributes();for(const M in me)if(me[M].location>=0){const N=F[M];let W=Y[M];if(W===void 0&&(M==="instanceMatrix"&&z.instanceMatrix&&(W=z.instanceMatrix),M==="instanceColor"&&z.instanceColor&&(W=z.instanceColor)),N===void 0||N.attribute!==W||W&&N.data!==W.data)return!0;Z++}return u.attributesNum!==Z||u.index!==ie}function v(z,K,oe,ie){const F={},Y=K.attributes;let Z=0;const me=oe.getAttributes();for(const M in me)if(me[M].location>=0){let N=Y[M];N===void 0&&(M==="instanceMatrix"&&z.instanceMatrix&&(N=z.instanceMatrix),M==="instanceColor"&&z.instanceColor&&(N=z.instanceColor));const W={};W.attribute=N,N&&N.data&&(W.data=N.data),F[M]=W,Z++}u.attributes=F,u.attributesNum=Z,u.index=ie}function _(){const z=u.newAttributes;for(let K=0,oe=z.length;K<oe;K++)z[K]=0}function x(z){w(z,0)}function w(z,K){const oe=u.newAttributes,ie=u.enabledAttributes,F=u.attributeDivisors;oe[z]=1,ie[z]===0&&(t.enableVertexAttribArray(z),ie[z]=1),F[z]!==K&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,K),F[z]=K)}function T(){const z=u.newAttributes,K=u.enabledAttributes;for(let oe=0,ie=K.length;oe<ie;oe++)K[oe]!==z[oe]&&(t.disableVertexAttribArray(oe),K[oe]=0)}function L(z,K,oe,ie,F,Y){i.isWebGL2===!0&&(oe===5124||oe===5125)?t.vertexAttribIPointer(z,K,oe,F,Y):t.vertexAttribPointer(z,K,oe,ie,F,Y)}function S(z,K,oe,ie){if(i.isWebGL2===!1&&(z.isInstancedMesh||ie.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const F=ie.attributes,Y=oe.getAttributes(),Z=K.defaultAttributeValues;for(const me in Y){const M=Y[me];if(M.location>=0){let C=F[me];if(C===void 0&&(me==="instanceMatrix"&&z.instanceMatrix&&(C=z.instanceMatrix),me==="instanceColor"&&z.instanceColor&&(C=z.instanceColor)),C!==void 0){const N=C.normalized,W=C.itemSize,b=n.get(C);if(b===void 0)continue;const ne=b.buffer,$=b.type,ee=b.bytesPerElement;if(C.isInterleavedBufferAttribute){const te=C.data,we=te.stride,V=C.offset;if(te.isInstancedInterleavedBuffer){for(let X=0;X<M.locationSize;X++)w(M.location+X,te.meshPerAttribute);z.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=te.meshPerAttribute*te.count)}else for(let X=0;X<M.locationSize;X++)x(M.location+X);t.bindBuffer(34962,ne);for(let X=0;X<M.locationSize;X++)L(M.location+X,W/M.locationSize,$,N,we*ee,(V+W/M.locationSize*X)*ee)}else{if(C.isInstancedBufferAttribute){for(let te=0;te<M.locationSize;te++)w(M.location+te,C.meshPerAttribute);z.isInstancedMesh!==!0&&ie._maxInstanceCount===void 0&&(ie._maxInstanceCount=C.meshPerAttribute*C.count)}else for(let te=0;te<M.locationSize;te++)x(M.location+te);t.bindBuffer(34962,ne);for(let te=0;te<M.locationSize;te++)L(M.location+te,W/M.locationSize,$,N,W*ee,W/M.locationSize*te*ee)}}else if(Z!==void 0){const N=Z[me];if(N!==void 0)switch(N.length){case 2:t.vertexAttrib2fv(M.location,N);break;case 3:t.vertexAttrib3fv(M.location,N);break;case 4:t.vertexAttrib4fv(M.location,N);break;default:t.vertexAttrib1fv(M.location,N)}}}}T()}function R(){fe();for(const z in a){const K=a[z];for(const oe in K){const ie=K[oe];for(const F in ie)y(ie[F].object),delete ie[F];delete K[oe]}delete a[z]}}function I(z){if(a[z.id]===void 0)return;const K=a[z.id];for(const oe in K){const ie=K[oe];for(const F in ie)y(ie[F].object),delete ie[F];delete K[oe]}delete a[z.id]}function J(z){for(const K in a){const oe=a[K];if(oe[z.id]===void 0)continue;const ie=oe[z.id];for(const F in ie)y(ie[F].object),delete ie[F];delete oe[z.id]}}function fe(){U(),c=!0,u!==l&&(u=l,p(u.object))}function U(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:fe,resetDefaultState:U,dispose:R,releaseStatesOfGeometry:I,releaseStatesOfProgram:J,initAttributes:_,enableAttribute:x,disableUnusedAttributes:T}}function CR(t,e,n,i){const r=i.isWebGL2;let o;function s(u){o=u}function a(u,c){t.drawArrays(o,u,c),n.update(c,o,1)}function l(u,c,f){if(f===0)return;let d,p;if(r)d=t,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](o,u,c,f),n.update(c,o,f)}this.setMode=s,this.render=a,this.renderInstances=l}function AR(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(L){if(L==="highp"){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";L="mediump"}return L==="mediump"&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext!="undefined"&&t instanceof WebGL2RenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=s||e.has("WEBGL_draw_buffers"),c=n.logarithmicDepthBuffer===!0,f=t.getParameter(34930),d=t.getParameter(35660),p=t.getParameter(3379),y=t.getParameter(34076),h=t.getParameter(34921),m=t.getParameter(36347),g=t.getParameter(36348),v=t.getParameter(36349),_=d>0,x=s||e.has("OES_texture_float"),w=_&&x,T=s?t.getParameter(36183):0;return{isWebGL2:s,drawBuffers:u,getMaxAnisotropy:r,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:y,maxAttributes:h,maxVertexUniforms:m,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:_,floatFragmentTextures:x,floatVertexTextures:w,maxSamples:T}}function RR(t){const e=this;let n=null,i=0,r=!1,o=!1;const s=new Or,a=new Rn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const p=f.length!==0||d||i!==0||r;return r=d,i=f.length,p},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,d){n=c(f,d,0)},this.setState=function(f,d,p){const y=f.clippingPlanes,h=f.clipIntersection,m=f.clipShadows,g=t.get(f);if(!r||y===null||y.length===0||o&&!m)o?c(null):u();else{const v=o?0:i,_=v*4;let x=g.clippingState||null;l.value=x,x=c(y,d,_,p);for(let w=0;w!==_;++w)x[w]=n[w];g.clippingState=x,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=v}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(f,d,p,y){const h=f!==null?f.length:0;let m=null;if(h!==0){if(m=l.value,y!==!0||m===null){const g=p+h*4,v=d.matrixWorldInverse;a.getNormalMatrix(v),(m===null||m.length<g)&&(m=new Float32Array(g));for(let _=0,x=p;_!==h;++_,x+=4)s.copy(f[_]).applyMatrix4(v,a),s.normal.toArray(m,x),m[x+3]=s.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=h,e.numIntersection=0,m}}function LR(t){let e=new WeakMap;function n(s,a){return a===ap?s.mapping=_s:a===lp&&(s.mapping=ys),s}function i(s){if(s&&s.isTexture&&s.isRenderTargetTexture===!1){const a=s.mapping;if(a===ap||a===lp)if(e.has(s)){const l=e.get(s).texture;return n(l,s.mapping)}else{const l=s.image;if(l&&l.height>0){const u=new HC(l.height/2);return u.fromEquirectangularTexture(t,s),e.set(s,u),s.addEventListener("dispose",r),n(u.texture,s.mapping)}else return null}}return s}function r(s){const a=s.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function o(){e=new WeakMap}return{get:i,dispose:o}}class PR extends kS{constructor(e=-1,n=1,i=1,r=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let o=i-e,s=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,s=o+u*this.view.width,a-=c*this.view.offsetY,l=a-c*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Yo=4,Pv=[.125,.215,.35,.446,.526,.582],zr=20,Od=new PR,Dv=new rt;let Fd=null;const Fr=(1+Math.sqrt(5))/2,Ro=1/Fr,Nv=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Fr,Ro),new G(0,Fr,-Ro),new G(Ro,0,Fr),new G(-Ro,0,Fr),new G(Fr,Ro,0),new G(-Fr,Ro,0)];class Iv{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){Fd=this._renderer.getRenderTarget(),this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,i,r,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Fv(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Ov(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Fd),e.scissorTest=!1,ru(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===_s||e.mapping===ys?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Fd=this._renderer.getRenderTarget();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Bn,minFilter:Bn,generateMipmaps:!1,type:Ja,format:Vn,encoding:no,depthBuffer:!1},r=kv(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kv(e,n,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=DR(o)),this._blurMaterial=NR(o,e,n)}return r}_compileMaterial(e){const n=new pn(this._lodPlanes[0],e);this._renderer.compile(n,Od)}_sceneToCubeUV(e,n,i,r){const a=new Cn(90,1,n,i),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,d=c.toneMapping;c.getClearColor(Dv),c.toneMapping=Oi,c.autoClear=!1;const p=new Fm({name:"PMREM.Background",side:Pn,depthWrite:!1,depthTest:!1}),y=new pn(new Is,p);let h=!1;const m=e.background;m?m.isColor&&(p.color.copy(m),e.background=null,h=!0):(p.color.copy(Dv),h=!0);for(let g=0;g<6;g++){const v=g%3;v===0?(a.up.set(0,l[g],0),a.lookAt(u[g],0,0)):v===1?(a.up.set(0,0,l[g]),a.lookAt(0,u[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,u[g]));const _=this._cubeSize;ru(r,v*_,g>2?_:0,_,_),c.setRenderTarget(r),h&&c.render(y,a),c.render(e,a)}y.geometry.dispose(),y.material.dispose(),c.toneMapping=d,c.autoClear=f,e.background=m}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===_s||e.mapping===ys;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Fv()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Ov());const o=r?this._cubemapMaterial:this._equirectMaterial,s=new pn(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const l=this._cubeSize;ru(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(s,Od)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const o=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),s=Nv[(r-1)%Nv.length];this._blur(e,r-1,r,o,s)}n.autoClear=i}_blur(e,n,i,r,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,i,r,"latitudinal",o),this._halfBlur(s,e,i,i,r,"longitudinal",o)}_halfBlur(e,n,i,r,o,s,a){const l=this._renderer,u=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new pn(this._lodPlanes[r],u),d=u.uniforms,p=this._sizeLods[i]-1,y=isFinite(o)?Math.PI/(2*p):2*Math.PI/(2*zr-1),h=o/y,m=isFinite(o)?1+Math.floor(c*h):zr;m>zr&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${zr}`);const g=[];let v=0;for(let L=0;L<zr;++L){const S=L/h,R=Math.exp(-S*S/2);g.push(R),L===0?v+=R:L<m&&(v+=2*R)}for(let L=0;L<g.length;L++)g[L]=g[L]/v;d.envMap.value=e.texture,d.samples.value=m,d.weights.value=g,d.latitudinal.value=s==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:_}=this;d.dTheta.value=y,d.mipInt.value=_-i;const x=this._sizeLods[r],w=3*x*(r>_-Yo?r-_+Yo:0),T=4*(this._cubeSize-x);ru(n,w,T,3*x,2*x),l.setRenderTarget(n),l.render(f,Od)}}function DR(t){const e=[],n=[],i=[];let r=t;const o=t-Yo+1+Pv.length;for(let s=0;s<o;s++){const a=Math.pow(2,r);n.push(a);let l=1/a;s>t-Yo?l=Pv[s-t+Yo-1]:s===0&&(l=0),i.push(l);const u=1/(a-2),c=-u,f=1+u,d=[c,c,f,c,f,f,c,c,f,f,c,f],p=6,y=6,h=3,m=2,g=1,v=new Float32Array(h*y*p),_=new Float32Array(m*y*p),x=new Float32Array(g*y*p);for(let T=0;T<p;T++){const L=T%3*2/3-1,S=T>2?0:-1,R=[L,S,0,L+2/3,S,0,L+2/3,S+1,0,L,S,0,L+2/3,S+1,0,L,S+1,0];v.set(R,h*y*T),_.set(d,m*y*T);const I=[T,T,T,T,T,T];x.set(I,g*y*T)}const w=new ai;w.setAttribute("position",new oi(v,h)),w.setAttribute("uv",new oi(_,m)),w.setAttribute("faceIndex",new oi(x,g)),e.push(w),r>Yo&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function kv(t,e,n){const i=new io(t,e,n);return i.texture.mapping=ef,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ru(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function NR(t,e,n){const i=new Float32Array(zr),r=new G(0,1,0);return new ro({name:"SphericalGaussianBlur",defines:{n:zr,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Bm(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:mr,depthTest:!1,depthWrite:!1})}function Ov(){return new ro({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Bm(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:mr,depthTest:!1,depthWrite:!1})}function Fv(){return new ro({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Bm(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:mr,depthTest:!1,depthWrite:!1})}function Bm(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function IR(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,u=l===ap||l===lp,c=l===_s||l===ys;if(u||c)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new Iv(t)),f=u?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(u&&f&&f.height>0||c&&f&&r(f)){n===null&&(n=new Iv(t));const d=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",o),d.texture}else return null}}}return a}function r(a){let l=0;const u=6;for(let c=0;c<u;c++)a[c]!==void 0&&l++;return l===u}function o(a){const l=a.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:s}}function kR(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function OR(t,e,n,i){const r={},o=new WeakMap;function s(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const y in d.attributes)e.remove(d.attributes[y]);d.removeEventListener("dispose",s),delete r[d.id];const p=o.get(d);p&&(e.remove(p),o.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(f,d){return r[d.id]===!0||(d.addEventListener("dispose",s),r[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const y in d)e.update(d[y],34962);const p=f.morphAttributes;for(const y in p){const h=p[y];for(let m=0,g=h.length;m<g;m++)e.update(h[m],34962)}}function u(f){const d=[],p=f.index,y=f.attributes.position;let h=0;if(p!==null){const v=p.array;h=p.version;for(let _=0,x=v.length;_<x;_+=3){const w=v[_+0],T=v[_+1],L=v[_+2];d.push(w,T,T,L,L,w)}}else{const v=y.array;h=y.version;for(let _=0,x=v.length/3-1;_<x;_+=3){const w=_+0,T=_+1,L=_+2;d.push(w,T,T,L,L,w)}}const m=new(ES(d)?NS:DS)(d,1);m.version=h;const g=o.get(f);g&&e.remove(g),o.set(f,m)}function c(f){const d=o.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&u(f)}else u(f);return o.get(f)}return{get:a,update:l,getWireframeAttribute:c}}function FR(t,e,n,i){const r=i.isWebGL2;let o;function s(d){o=d}let a,l;function u(d){a=d.type,l=d.bytesPerElement}function c(d,p){t.drawElements(o,p,a,d*l),n.update(p,o,1)}function f(d,p,y){if(y===0)return;let h,m;if(r)h=t,m="drawElementsInstanced";else if(h=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",h===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[m](o,p,a,d*l,y),n.update(p,o,y)}this.setMode=s,this.setIndex=u,this.render=c,this.renderInstances=f}function zR(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,s,a){switch(n.calls++,s){case 4:n.triangles+=a*(o/3);break;case 1:n.lines+=a*(o/2);break;case 3:n.lines+=a*(o-1);break;case 2:n.lines+=a*o;break;case 0:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function UR(t,e){return t[0]-e[0]}function BR(t,e){return Math.abs(e[1])-Math.abs(t[1])}function VR(t,e,n){const i={},r=new Float32Array(8),o=new WeakMap,s=new _t,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,c,f,d){const p=u.morphTargetInfluences;if(e.isWebGL2===!0){const h=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,m=h!==void 0?h.length:0;let g=o.get(c);if(g===void 0||g.count!==m){let oe=function(){z.dispose(),o.delete(c),c.removeEventListener("dispose",oe)};var y=oe;g!==void 0&&g.texture.dispose();const x=c.morphAttributes.position!==void 0,w=c.morphAttributes.normal!==void 0,T=c.morphAttributes.color!==void 0,L=c.morphAttributes.position||[],S=c.morphAttributes.normal||[],R=c.morphAttributes.color||[];let I=0;x===!0&&(I=1),w===!0&&(I=2),T===!0&&(I=3);let J=c.attributes.position.count*I,fe=1;J>e.maxTextureSize&&(fe=Math.ceil(J/e.maxTextureSize),J=e.maxTextureSize);const U=new Float32Array(J*fe*4*m),z=new RS(U,J,fe,m);z.type=ir,z.needsUpdate=!0;const K=I*4;for(let ie=0;ie<m;ie++){const F=L[ie],Y=S[ie],Z=R[ie],me=J*fe*4*ie;for(let M=0;M<F.count;M++){const C=M*K;x===!0&&(s.fromBufferAttribute(F,M),U[me+C+0]=s.x,U[me+C+1]=s.y,U[me+C+2]=s.z,U[me+C+3]=0),w===!0&&(s.fromBufferAttribute(Y,M),U[me+C+4]=s.x,U[me+C+5]=s.y,U[me+C+6]=s.z,U[me+C+7]=0),T===!0&&(s.fromBufferAttribute(Z,M),U[me+C+8]=s.x,U[me+C+9]=s.y,U[me+C+10]=s.z,U[me+C+11]=Z.itemSize===4?s.w:1)}}g={count:m,texture:z,size:new Ce(J,fe)},o.set(c,g),c.addEventListener("dispose",oe)}let v=0;for(let x=0;x<p.length;x++)v+=p[x];const _=c.morphTargetsRelative?1:1-v;d.getUniforms().setValue(t,"morphTargetBaseInfluence",_),d.getUniforms().setValue(t,"morphTargetInfluences",p),d.getUniforms().setValue(t,"morphTargetsTexture",g.texture,n),d.getUniforms().setValue(t,"morphTargetsTextureSize",g.size)}else{const h=p===void 0?0:p.length;let m=i[c.id];if(m===void 0||m.length!==h){m=[];for(let w=0;w<h;w++)m[w]=[w,0];i[c.id]=m}for(let w=0;w<h;w++){const T=m[w];T[0]=w,T[1]=p[w]}m.sort(BR);for(let w=0;w<8;w++)w<h&&m[w][1]?(a[w][0]=m[w][0],a[w][1]=m[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(UR);const g=c.morphAttributes.position,v=c.morphAttributes.normal;let _=0;for(let w=0;w<8;w++){const T=a[w],L=T[0],S=T[1];L!==Number.MAX_SAFE_INTEGER&&S?(g&&c.getAttribute("morphTarget"+w)!==g[L]&&c.setAttribute("morphTarget"+w,g[L]),v&&c.getAttribute("morphNormal"+w)!==v[L]&&c.setAttribute("morphNormal"+w,v[L]),r[w]=S,_+=S):(g&&c.hasAttribute("morphTarget"+w)===!0&&c.deleteAttribute("morphTarget"+w),v&&c.hasAttribute("morphNormal"+w)===!0&&c.deleteAttribute("morphNormal"+w),r[w]=0)}const x=c.morphTargetsRelative?1:1-_;d.getUniforms().setValue(t,"morphTargetBaseInfluence",x),d.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:l}}function GR(t,e,n,i){let r=new WeakMap;function o(l){const u=i.render.frame,c=l.geometry,f=e.get(l,c);return r.get(f)!==u&&(e.update(f),r.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,34962),l.instanceColor!==null&&n.update(l.instanceColor,34962)),f}function s(){r=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:s}}const zS=new Jt,US=new RS,BS=new CC,VS=new OS,zv=[],Uv=[],Bv=new Float32Array(16),Vv=new Float32Array(9),Gv=new Float32Array(4);function ks(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=zv[r];if(o===void 0&&(o=new Float32Array(r),zv[r]=o),e!==0){i.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function Ft(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function zt(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function rf(t,e){let n=Uv[e];n===void 0&&(n=new Int32Array(e),Uv[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function HR(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function WR(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ft(n,e))return;t.uniform2fv(this.addr,e),zt(n,e)}}function $R(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ft(n,e))return;t.uniform3fv(this.addr,e),zt(n,e)}}function jR(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ft(n,e))return;t.uniform4fv(this.addr,e),zt(n,e)}}function XR(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ft(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),zt(n,e)}else{if(Ft(n,i))return;Gv.set(i),t.uniformMatrix2fv(this.addr,!1,Gv),zt(n,i)}}function qR(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ft(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),zt(n,e)}else{if(Ft(n,i))return;Vv.set(i),t.uniformMatrix3fv(this.addr,!1,Vv),zt(n,i)}}function YR(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Ft(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),zt(n,e)}else{if(Ft(n,i))return;Bv.set(i),t.uniformMatrix4fv(this.addr,!1,Bv),zt(n,i)}}function ZR(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function KR(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ft(n,e))return;t.uniform2iv(this.addr,e),zt(n,e)}}function JR(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ft(n,e))return;t.uniform3iv(this.addr,e),zt(n,e)}}function QR(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ft(n,e))return;t.uniform4iv(this.addr,e),zt(n,e)}}function eL(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function tL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ft(n,e))return;t.uniform2uiv(this.addr,e),zt(n,e)}}function nL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ft(n,e))return;t.uniform3uiv(this.addr,e),zt(n,e)}}function iL(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ft(n,e))return;t.uniform4uiv(this.addr,e),zt(n,e)}}function rL(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||zS,r)}function oL(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||BS,r)}function sL(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||VS,r)}function aL(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||US,r)}function lL(t){switch(t){case 5126:return HR;case 35664:return WR;case 35665:return $R;case 35666:return jR;case 35674:return XR;case 35675:return qR;case 35676:return YR;case 5124:case 35670:return ZR;case 35667:case 35671:return KR;case 35668:case 35672:return JR;case 35669:case 35673:return QR;case 5125:return eL;case 36294:return tL;case 36295:return nL;case 36296:return iL;case 35678:case 36198:case 36298:case 36306:case 35682:return rL;case 35679:case 36299:case 36307:return oL;case 35680:case 36300:case 36308:case 36293:return sL;case 36289:case 36303:case 36311:case 36292:return aL}}function uL(t,e){t.uniform1fv(this.addr,e)}function cL(t,e){const n=ks(e,this.size,2);t.uniform2fv(this.addr,n)}function fL(t,e){const n=ks(e,this.size,3);t.uniform3fv(this.addr,n)}function dL(t,e){const n=ks(e,this.size,4);t.uniform4fv(this.addr,n)}function hL(t,e){const n=ks(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function pL(t,e){const n=ks(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function mL(t,e){const n=ks(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function gL(t,e){t.uniform1iv(this.addr,e)}function vL(t,e){t.uniform2iv(this.addr,e)}function _L(t,e){t.uniform3iv(this.addr,e)}function yL(t,e){t.uniform4iv(this.addr,e)}function xL(t,e){t.uniform1uiv(this.addr,e)}function SL(t,e){t.uniform2uiv(this.addr,e)}function wL(t,e){t.uniform3uiv(this.addr,e)}function ML(t,e){t.uniform4uiv(this.addr,e)}function bL(t,e,n){const i=this.cache,r=e.length,o=rf(n,r);Ft(i,o)||(t.uniform1iv(this.addr,o),zt(i,o));for(let s=0;s!==r;++s)n.setTexture2D(e[s]||zS,o[s])}function EL(t,e,n){const i=this.cache,r=e.length,o=rf(n,r);Ft(i,o)||(t.uniform1iv(this.addr,o),zt(i,o));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||BS,o[s])}function TL(t,e,n){const i=this.cache,r=e.length,o=rf(n,r);Ft(i,o)||(t.uniform1iv(this.addr,o),zt(i,o));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||VS,o[s])}function CL(t,e,n){const i=this.cache,r=e.length,o=rf(n,r);Ft(i,o)||(t.uniform1iv(this.addr,o),zt(i,o));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||US,o[s])}function AL(t){switch(t){case 5126:return uL;case 35664:return cL;case 35665:return fL;case 35666:return dL;case 35674:return hL;case 35675:return pL;case 35676:return mL;case 5124:case 35670:return gL;case 35667:case 35671:return vL;case 35668:case 35672:return _L;case 35669:case 35673:return yL;case 5125:return xL;case 36294:return SL;case 36295:return wL;case 36296:return ML;case 35678:case 36198:case 36298:case 36306:case 35682:return bL;case 35679:case 36299:case 36307:return EL;case 35680:case 36300:case 36308:case 36293:return TL;case 36289:case 36303:case 36311:case 36292:return CL}}class RL{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.setValue=lL(n.type)}}class LL{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.size=n.size,this.setValue=AL(n.type)}}class PL{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let o=0,s=r.length;o!==s;++o){const a=r[o];a.setValue(e,n[a.id],i)}}}const zd=/(\w+)(\])?(\[|\.)?/g;function Hv(t,e){t.seq.push(e),t.map[e.id]=e}function DL(t,e,n){const i=t.name,r=i.length;for(zd.lastIndex=0;;){const o=zd.exec(i),s=zd.lastIndex;let a=o[1];const l=o[2]==="]",u=o[3];if(l&&(a=a|0),u===void 0||u==="["&&s+2===r){Hv(n,u===void 0?new RL(a,t,e):new LL(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new PL(a),Hv(n,f)),n=f}}}class Pu{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,35718);for(let r=0;r<i;++r){const o=e.getActiveUniform(n,r),s=e.getUniformLocation(n,o.name);DL(o,s,this)}}setValue(e,n,i,r){const o=this.map[n];o!==void 0&&o.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let o=0,s=n.length;o!==s;++o){const a=n[o],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,o=e.length;r!==o;++r){const s=e[r];s.id in n&&i.push(s)}return i}}function Wv(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let NL=0;function IL(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=r;s<o;s++){const a=s+1;i.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return i.join(`
`)}function kL(t){switch(t){case no:return["Linear","( value )"];case ct:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function $v(t,e,n){const i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+r+`

`+IL(t.getShaderSource(e),s)}else return r}function OL(t,e){const n=kL(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function FL(t,e){let n;switch(e){case eC:n="Linear";break;case tC:n="Reinhard";break;case nC:n="OptimizedCineon";break;case iC:n="ACESFilmic";break;case rC:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function zL(t){return[t.extensionDerivatives||!!t.envMapCubeUVHeight||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ma).join(`
`)}function UL(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function BL(t,e){const n={},i=t.getProgramParameter(e,35721);for(let r=0;r<i;r++){const o=t.getActiveAttrib(e,r),s=o.name;let a=1;o.type===35674&&(a=2),o.type===35675&&(a=3),o.type===35676&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function ma(t){return t!==""}function jv(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Xv(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const VL=/^[ \t]*#include +<([\w\d./]+)>/gm;function dp(t){return t.replace(VL,GL)}function GL(t,e){const n=$e[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return dp(n)}const HL=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function qv(t){return t.replace(HL,WL)}function WL(t,e,n,i){let r="";for(let o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function Yv(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $L(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===xS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===D2?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===pa&&(e="SHADOWMAP_TYPE_VSM"),e}function jL(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case _s:case ys:e="ENVMAP_TYPE_CUBE";break;case ef:e="ENVMAP_TYPE_CUBE_UV";break}return e}function XL(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case ys:e="ENVMAP_MODE_REFRACTION";break}return e}function qL(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case km:e="ENVMAP_BLENDING_MULTIPLY";break;case J2:e="ENVMAP_BLENDING_MIX";break;case Q2:e="ENVMAP_BLENDING_ADD";break}return e}function YL(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function ZL(t,e,n,i){const r=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=$L(n),u=jL(n),c=XL(n),f=qL(n),d=YL(n),p=n.isWebGL2?"":zL(n),y=UL(o),h=r.createProgram();let m,g,v=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=[y].filter(ma).join(`
`),m.length>0&&(m+=`
`),g=[p,y].filter(ma).join(`
`),g.length>0&&(g+=`
`)):(m=[Yv(n),"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ma).join(`
`),g=[p,Yv(n),"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Oi?"#define TONE_MAPPING":"",n.toneMapping!==Oi?$e.tonemapping_pars_fragment:"",n.toneMapping!==Oi?FL("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",$e.encodings_pars_fragment,OL("linearToOutputTexel",n.outputEncoding),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(ma).join(`
`)),s=dp(s),s=jv(s,n),s=Xv(s,n),a=dp(a),a=jv(a,n),a=Xv(a,n),s=qv(s),a=qv(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(v=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,g=["#define varying in",n.glslVersion===_v?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===_v?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+g);const _=v+m+s,x=v+g+a,w=Wv(r,35633,_),T=Wv(r,35632,x);if(r.attachShader(h,w),r.attachShader(h,T),n.index0AttributeName!==void 0?r.bindAttribLocation(h,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(h,0,"position"),r.linkProgram(h),t.debug.checkShaderErrors){const R=r.getProgramInfoLog(h).trim(),I=r.getShaderInfoLog(w).trim(),J=r.getShaderInfoLog(T).trim();let fe=!0,U=!0;if(r.getProgramParameter(h,35714)===!1){fe=!1;const z=$v(r,w,"vertex"),K=$v(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(h,35715)+`

Program Info Log: `+R+`
`+z+`
`+K)}else R!==""?console.warn("THREE.WebGLProgram: Program Info Log:",R):(I===""||J==="")&&(U=!1);U&&(this.diagnostics={runnable:fe,programLog:R,vertexShader:{log:I,prefix:m},fragmentShader:{log:J,prefix:g}})}r.deleteShader(w),r.deleteShader(T);let L;this.getUniforms=function(){return L===void 0&&(L=new Pu(r,h)),L};let S;return this.getAttributes=function(){return S===void 0&&(S=BL(r,h)),S},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(h),this.program=void 0},this.name=n.shaderName,this.id=NL++,this.cacheKey=e,this.usedTimes=1,this.program=h,this.vertexShader=w,this.fragmentShader=T,this}let KL=0;class JL{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),o=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return s.has(r)===!1&&(s.add(r),r.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new QL(e),n.set(e,i)),i}}class QL{constructor(e){this.id=KL++,this.code=e,this.usedTimes=0}}function eP(t,e,n,i,r,o,s){const a=new PS,l=new JL,u=[],c=r.isWebGL2,f=r.logarithmicDepthBuffer,d=r.vertexTextures;let p=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function h(S,R,I,J,fe){const U=J.fog,z=fe.geometry,K=S.isMeshStandardMaterial?J.environment:null,oe=(S.isMeshStandardMaterial?n:e).get(S.envMap||K),ie=!!oe&&oe.mapping===ef?oe.image.height:null,F=y[S.type];S.precision!==null&&(p=r.getMaxPrecision(S.precision),p!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",p,"instead."));const Y=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,Z=Y!==void 0?Y.length:0;let me=0;z.morphAttributes.position!==void 0&&(me=1),z.morphAttributes.normal!==void 0&&(me=2),z.morphAttributes.color!==void 0&&(me=3);let M,C,N,W;if(F){const we=di[F];M=we.vertexShader,C=we.fragmentShader}else M=S.vertexShader,C=S.fragmentShader,l.update(S),N=l.getVertexShaderID(S),W=l.getFragmentShaderID(S);const b=t.getRenderTarget(),ne=S.alphaTest>0,$=S.clearcoat>0,ee=S.iridescence>0;return{isWebGL2:c,shaderID:F,shaderName:S.type,vertexShader:M,fragmentShader:C,defines:S.defines,customVertexShaderID:N,customFragmentShaderID:W,isRawShaderMaterial:S.isRawShaderMaterial===!0,glslVersion:S.glslVersion,precision:p,instancing:fe.isInstancedMesh===!0,instancingColor:fe.isInstancedMesh===!0&&fe.instanceColor!==null,supportsVertexTextures:d,outputEncoding:b===null?t.outputEncoding:b.isXRRenderTarget===!0?b.texture.encoding:no,map:!!S.map,matcap:!!S.matcap,envMap:!!oe,envMapMode:oe&&oe.mapping,envMapCubeUVHeight:ie,lightMap:!!S.lightMap,aoMap:!!S.aoMap,emissiveMap:!!S.emissiveMap,bumpMap:!!S.bumpMap,normalMap:!!S.normalMap,objectSpaceNormalMap:S.normalMapType===MC,tangentSpaceNormalMap:S.normalMapType===Om,decodeVideoTexture:!!S.map&&S.map.isVideoTexture===!0&&S.map.encoding===ct,clearcoat:$,clearcoatMap:$&&!!S.clearcoatMap,clearcoatRoughnessMap:$&&!!S.clearcoatRoughnessMap,clearcoatNormalMap:$&&!!S.clearcoatNormalMap,iridescence:ee,iridescenceMap:ee&&!!S.iridescenceMap,iridescenceThicknessMap:ee&&!!S.iridescenceThicknessMap,displacementMap:!!S.displacementMap,roughnessMap:!!S.roughnessMap,metalnessMap:!!S.metalnessMap,specularMap:!!S.specularMap,specularIntensityMap:!!S.specularIntensityMap,specularColorMap:!!S.specularColorMap,opaque:S.transparent===!1&&S.blending===is,alphaMap:!!S.alphaMap,alphaTest:ne,gradientMap:!!S.gradientMap,sheen:S.sheen>0,sheenColorMap:!!S.sheenColorMap,sheenRoughnessMap:!!S.sheenRoughnessMap,transmission:S.transmission>0,transmissionMap:!!S.transmissionMap,thicknessMap:!!S.thicknessMap,combine:S.combine,vertexTangents:!!S.normalMap&&!!z.attributes.tangent,vertexColors:S.vertexColors,vertexAlphas:S.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUvs:!!S.map||!!S.bumpMap||!!S.normalMap||!!S.specularMap||!!S.alphaMap||!!S.emissiveMap||!!S.roughnessMap||!!S.metalnessMap||!!S.clearcoatMap||!!S.clearcoatRoughnessMap||!!S.clearcoatNormalMap||!!S.iridescenceMap||!!S.iridescenceThicknessMap||!!S.displacementMap||!!S.transmissionMap||!!S.thicknessMap||!!S.specularIntensityMap||!!S.specularColorMap||!!S.sheenColorMap||!!S.sheenRoughnessMap,uvsVertexOnly:!(!!S.map||!!S.bumpMap||!!S.normalMap||!!S.specularMap||!!S.alphaMap||!!S.emissiveMap||!!S.roughnessMap||!!S.metalnessMap||!!S.clearcoatNormalMap||!!S.iridescenceMap||!!S.iridescenceThicknessMap||S.transmission>0||!!S.transmissionMap||!!S.thicknessMap||!!S.specularIntensityMap||!!S.specularColorMap||S.sheen>0||!!S.sheenColorMap||!!S.sheenRoughnessMap)&&!!S.displacementMap,fog:!!U,useFog:S.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:!!S.flatShading,sizeAttenuation:S.sizeAttenuation,logarithmicDepthBuffer:f,skinning:fe.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:me,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:S.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:S.toneMapped?t.toneMapping:Oi,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:S.premultipliedAlpha,doubleSided:S.side===nr,flipSided:S.side===Pn,useDepthPacking:!!S.depthPacking,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:S.extensions&&S.extensions.derivatives,extensionFragDepth:S.extensions&&S.extensions.fragDepth,extensionDrawBuffers:S.extensions&&S.extensions.drawBuffers,extensionShaderTextureLOD:S.extensions&&S.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}}function m(S){const R=[];if(S.shaderID?R.push(S.shaderID):(R.push(S.customVertexShaderID),R.push(S.customFragmentShaderID)),S.defines!==void 0)for(const I in S.defines)R.push(I),R.push(S.defines[I]);return S.isRawShaderMaterial===!1&&(g(R,S),v(R,S),R.push(t.outputEncoding)),R.push(S.customProgramCacheKey),R.join()}function g(S,R){S.push(R.precision),S.push(R.outputEncoding),S.push(R.envMapMode),S.push(R.envMapCubeUVHeight),S.push(R.combine),S.push(R.vertexUvs),S.push(R.fogExp2),S.push(R.sizeAttenuation),S.push(R.morphTargetsCount),S.push(R.morphAttributeCount),S.push(R.numDirLights),S.push(R.numPointLights),S.push(R.numSpotLights),S.push(R.numSpotLightMaps),S.push(R.numHemiLights),S.push(R.numRectAreaLights),S.push(R.numDirLightShadows),S.push(R.numPointLightShadows),S.push(R.numSpotLightShadows),S.push(R.numSpotLightShadowsWithMaps),S.push(R.shadowMapType),S.push(R.toneMapping),S.push(R.numClippingPlanes),S.push(R.numClipIntersection),S.push(R.depthPacking)}function v(S,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.map&&a.enable(4),R.matcap&&a.enable(5),R.envMap&&a.enable(6),R.lightMap&&a.enable(7),R.aoMap&&a.enable(8),R.emissiveMap&&a.enable(9),R.bumpMap&&a.enable(10),R.normalMap&&a.enable(11),R.objectSpaceNormalMap&&a.enable(12),R.tangentSpaceNormalMap&&a.enable(13),R.clearcoat&&a.enable(14),R.clearcoatMap&&a.enable(15),R.clearcoatRoughnessMap&&a.enable(16),R.clearcoatNormalMap&&a.enable(17),R.iridescence&&a.enable(18),R.iridescenceMap&&a.enable(19),R.iridescenceThicknessMap&&a.enable(20),R.displacementMap&&a.enable(21),R.specularMap&&a.enable(22),R.roughnessMap&&a.enable(23),R.metalnessMap&&a.enable(24),R.gradientMap&&a.enable(25),R.alphaMap&&a.enable(26),R.alphaTest&&a.enable(27),R.vertexColors&&a.enable(28),R.vertexAlphas&&a.enable(29),R.vertexUvs&&a.enable(30),R.vertexTangents&&a.enable(31),R.uvsVertexOnly&&a.enable(32),S.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.physicallyCorrectLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.specularIntensityMap&&a.enable(15),R.specularColorMap&&a.enable(16),R.transmission&&a.enable(17),R.transmissionMap&&a.enable(18),R.thicknessMap&&a.enable(19),R.sheen&&a.enable(20),R.sheenColorMap&&a.enable(21),R.sheenRoughnessMap&&a.enable(22),R.decodeVideoTexture&&a.enable(23),R.opaque&&a.enable(24),S.push(a.mask)}function _(S){const R=y[S.type];let I;if(R){const J=di[R];I=UC.clone(J.uniforms)}else I=S.uniforms;return I}function x(S,R){let I;for(let J=0,fe=u.length;J<fe;J++){const U=u[J];if(U.cacheKey===R){I=U,++I.usedTimes;break}}return I===void 0&&(I=new ZL(t,R,S,o),u.push(I)),I}function w(S){if(--S.usedTimes===0){const R=u.indexOf(S);u[R]=u[u.length-1],u.pop(),S.destroy()}}function T(S){l.remove(S)}function L(){l.dispose()}return{getParameters:h,getProgramCacheKey:m,getUniforms:_,acquireProgram:x,releaseProgram:w,releaseShaderCache:T,programs:u,dispose:L}}function tP(){let t=new WeakMap;function e(o){let s=t.get(o);return s===void 0&&(s={},t.set(o,s)),s}function n(o){t.delete(o)}function i(o,s,a){t.get(o)[s]=a}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function nP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Zv(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Kv(){const t=[];let e=0;const n=[],i=[],r=[];function o(){e=0,n.length=0,i.length=0,r.length=0}function s(f,d,p,y,h,m){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:d,material:p,groupOrder:y,renderOrder:f.renderOrder,z:h,group:m},t[e]=g):(g.id=f.id,g.object=f,g.geometry=d,g.material=p,g.groupOrder=y,g.renderOrder=f.renderOrder,g.z=h,g.group=m),e++,g}function a(f,d,p,y,h,m){const g=s(f,d,p,y,h,m);p.transmission>0?i.push(g):p.transparent===!0?r.push(g):n.push(g)}function l(f,d,p,y,h,m){const g=s(f,d,p,y,h,m);p.transmission>0?i.unshift(g):p.transparent===!0?r.unshift(g):n.unshift(g)}function u(f,d){n.length>1&&n.sort(f||nP),i.length>1&&i.sort(d||Zv),r.length>1&&r.sort(d||Zv)}function c(){for(let f=e,d=t.length;f<d;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:i,transparent:r,init:o,push:a,unshift:l,finish:c,sort:u}}function iP(){let t=new WeakMap;function e(i,r){const o=t.get(i);let s;return o===void 0?(s=new Kv,t.set(i,[s])):r>=o.length?(s=new Kv,o.push(s)):s=o[r],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function rP(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new rt};break;case"SpotLight":n={position:new G,direction:new G,color:new rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new rt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new rt,groundColor:new rt};break;case"RectAreaLight":n={color:new rt,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function oP(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ce,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let sP=0;function aP(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function lP(t,e){const n=new rP,i=oP(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let c=0;c<9;c++)r.probe.push(new G);const o=new G,s=new dt,a=new dt;function l(c,f){let d=0,p=0,y=0;for(let J=0;J<9;J++)r.probe[J].set(0,0,0);let h=0,m=0,g=0,v=0,_=0,x=0,w=0,T=0,L=0,S=0;c.sort(aP);const R=f!==!0?Math.PI:1;for(let J=0,fe=c.length;J<fe;J++){const U=c[J],z=U.color,K=U.intensity,oe=U.distance,ie=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)d+=z.r*K*R,p+=z.g*K*R,y+=z.b*K*R;else if(U.isLightProbe)for(let F=0;F<9;F++)r.probe[F].addScaledVector(U.sh.coefficients[F],K);else if(U.isDirectionalLight){const F=n.get(U);if(F.color.copy(U.color).multiplyScalar(U.intensity*R),U.castShadow){const Y=U.shadow,Z=i.get(U);Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,r.directionalShadow[h]=Z,r.directionalShadowMap[h]=ie,r.directionalShadowMatrix[h]=U.shadow.matrix,x++}r.directional[h]=F,h++}else if(U.isSpotLight){const F=n.get(U);F.position.setFromMatrixPosition(U.matrixWorld),F.color.copy(z).multiplyScalar(K*R),F.distance=oe,F.coneCos=Math.cos(U.angle),F.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),F.decay=U.decay,r.spot[g]=F;const Y=U.shadow;if(U.map&&(r.spotLightMap[L]=U.map,L++,Y.updateMatrices(U),U.castShadow&&S++),r.spotLightMatrix[g]=Y.matrix,U.castShadow){const Z=i.get(U);Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,r.spotShadow[g]=Z,r.spotShadowMap[g]=ie,T++}g++}else if(U.isRectAreaLight){const F=n.get(U);F.color.copy(z).multiplyScalar(K),F.halfWidth.set(U.width*.5,0,0),F.halfHeight.set(0,U.height*.5,0),r.rectArea[v]=F,v++}else if(U.isPointLight){const F=n.get(U);if(F.color.copy(U.color).multiplyScalar(U.intensity*R),F.distance=U.distance,F.decay=U.decay,U.castShadow){const Y=U.shadow,Z=i.get(U);Z.shadowBias=Y.bias,Z.shadowNormalBias=Y.normalBias,Z.shadowRadius=Y.radius,Z.shadowMapSize=Y.mapSize,Z.shadowCameraNear=Y.camera.near,Z.shadowCameraFar=Y.camera.far,r.pointShadow[m]=Z,r.pointShadowMap[m]=ie,r.pointShadowMatrix[m]=U.shadow.matrix,w++}r.point[m]=F,m++}else if(U.isHemisphereLight){const F=n.get(U);F.skyColor.copy(U.color).multiplyScalar(K*R),F.groundColor.copy(U.groundColor).multiplyScalar(K*R),r.hemi[_]=F,_++}}v>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Me.LTC_FLOAT_1,r.rectAreaLTC2=Me.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Me.LTC_HALF_1,r.rectAreaLTC2=Me.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=d,r.ambient[1]=p,r.ambient[2]=y;const I=r.hash;(I.directionalLength!==h||I.pointLength!==m||I.spotLength!==g||I.rectAreaLength!==v||I.hemiLength!==_||I.numDirectionalShadows!==x||I.numPointShadows!==w||I.numSpotShadows!==T||I.numSpotMaps!==L)&&(r.directional.length=h,r.spot.length=g,r.rectArea.length=v,r.point.length=m,r.hemi.length=_,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=T+L-S,r.spotLightMap.length=L,r.numSpotLightShadowsWithMaps=S,I.directionalLength=h,I.pointLength=m,I.spotLength=g,I.rectAreaLength=v,I.hemiLength=_,I.numDirectionalShadows=x,I.numPointShadows=w,I.numSpotShadows=T,I.numSpotMaps=L,r.version=sP++)}function u(c,f){let d=0,p=0,y=0,h=0,m=0;const g=f.matrixWorldInverse;for(let v=0,_=c.length;v<_;v++){const x=c[v];if(x.isDirectionalLight){const w=r.directional[d];w.direction.setFromMatrixPosition(x.matrixWorld),o.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(g),d++}else if(x.isSpotLight){const w=r.spot[y];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(g),w.direction.setFromMatrixPosition(x.matrixWorld),o.setFromMatrixPosition(x.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(g),y++}else if(x.isRectAreaLight){const w=r.rectArea[h];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(g),a.identity(),s.copy(x.matrixWorld),s.premultiply(g),a.extractRotation(s),w.halfWidth.set(x.width*.5,0,0),w.halfHeight.set(0,x.height*.5,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),h++}else if(x.isPointLight){const w=r.point[p];w.position.setFromMatrixPosition(x.matrixWorld),w.position.applyMatrix4(g),p++}else if(x.isHemisphereLight){const w=r.hemi[m];w.direction.setFromMatrixPosition(x.matrixWorld),w.direction.transformDirection(g),m++}}}return{setup:l,setupView:u,state:r}}function Jv(t,e){const n=new lP(t,e),i=[],r=[];function o(){i.length=0,r.length=0}function s(f){i.push(f)}function a(f){r.push(f)}function l(f){n.setup(i,f)}function u(f){n.setupView(i,f)}return{init:o,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:l,setupLightsView:u,pushLight:s,pushShadow:a}}function uP(t,e){let n=new WeakMap;function i(o,s=0){const a=n.get(o);let l;return a===void 0?(l=new Jv(t,e),n.set(o,[l])):s>=a.length?(l=new Jv(t,e),a.push(l)):l=a[s],l}function r(){n=new WeakMap}return{get:i,dispose:r}}class cP extends fo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=SC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fP extends fo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new G,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const dP=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,hP=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function pP(t,e,n){let i=new zm;const r=new Ce,o=new Ce,s=new _t,a=new cP({depthPacking:wC}),l=new fP,u={},c=n.maxTextureSize,f={[_r]:Pn,[Pn]:_r,[nr]:nr},d=new ro({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ce},radius:{value:4}},vertexShader:dP,fragmentShader:hP}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const y=new ai;y.setAttribute("position",new oi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const h=new pn(y,d),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xS,this.render=function(x,w,T){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||x.length===0)return;const L=t.getRenderTarget(),S=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),I=t.state;I.setBlending(mr),I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);for(let J=0,fe=x.length;J<fe;J++){const U=x[J],z=U.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",U,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;r.copy(z.mapSize);const K=z.getFrameExtents();if(r.multiply(K),o.copy(z.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(o.x=Math.floor(c/K.x),r.x=o.x*K.x,z.mapSize.x=o.x),r.y>c&&(o.y=Math.floor(c/K.y),r.y=o.y*K.y,z.mapSize.y=o.y)),z.map===null){const ie=this.type!==pa?{minFilter:Gt,magFilter:Gt}:{};z.map=new io(r.x,r.y,ie),z.map.texture.name=U.name+".shadowMap",z.camera.updateProjectionMatrix()}t.setRenderTarget(z.map),t.clear();const oe=z.getViewportCount();for(let ie=0;ie<oe;ie++){const F=z.getViewport(ie);s.set(o.x*F.x,o.y*F.y,o.x*F.z,o.y*F.w),I.viewport(s),z.updateMatrices(U,ie),i=z.getFrustum(),_(w,T,z.camera,U,this.type)}z.isPointLightShadow!==!0&&this.type===pa&&g(z,T),z.needsUpdate=!1}m.needsUpdate=!1,t.setRenderTarget(L,S,R)};function g(x,w){const T=e.update(h);d.defines.VSM_SAMPLES!==x.blurSamples&&(d.defines.VSM_SAMPLES=x.blurSamples,p.defines.VSM_SAMPLES=x.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),x.mapPass===null&&(x.mapPass=new io(r.x,r.y)),d.uniforms.shadow_pass.value=x.map.texture,d.uniforms.resolution.value=x.mapSize,d.uniforms.radius.value=x.radius,t.setRenderTarget(x.mapPass),t.clear(),t.renderBufferDirect(w,null,T,d,h,null),p.uniforms.shadow_pass.value=x.mapPass.texture,p.uniforms.resolution.value=x.mapSize,p.uniforms.radius.value=x.radius,t.setRenderTarget(x.map),t.clear(),t.renderBufferDirect(w,null,T,p,h,null)}function v(x,w,T,L,S,R){let I=null;const J=T.isPointLight===!0?x.customDistanceMaterial:x.customDepthMaterial;if(J!==void 0)I=J;else if(I=T.isPointLight===!0?l:a,t.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0||w.map&&w.alphaTest>0){const fe=I.uuid,U=w.uuid;let z=u[fe];z===void 0&&(z={},u[fe]=z);let K=z[U];K===void 0&&(K=I.clone(),z[U]=K),I=K}return I.visible=w.visible,I.wireframe=w.wireframe,R===pa?I.side=w.shadowSide!==null?w.shadowSide:w.side:I.side=w.shadowSide!==null?w.shadowSide:f[w.side],I.alphaMap=w.alphaMap,I.alphaTest=w.alphaTest,I.map=w.map,I.clipShadows=w.clipShadows,I.clippingPlanes=w.clippingPlanes,I.clipIntersection=w.clipIntersection,I.displacementMap=w.displacementMap,I.displacementScale=w.displacementScale,I.displacementBias=w.displacementBias,I.wireframeLinewidth=w.wireframeLinewidth,I.linewidth=w.linewidth,T.isPointLight===!0&&I.isMeshDistanceMaterial===!0&&(I.referencePosition.setFromMatrixPosition(T.matrixWorld),I.nearDistance=L,I.farDistance=S),I}function _(x,w,T,L,S){if(x.visible===!1)return;if(x.layers.test(w.layers)&&(x.isMesh||x.isLine||x.isPoints)&&(x.castShadow||x.receiveShadow&&S===pa)&&(!x.frustumCulled||i.intersectsObject(x))){x.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,x.matrixWorld);const J=e.update(x),fe=x.material;if(Array.isArray(fe)){const U=J.groups;for(let z=0,K=U.length;z<K;z++){const oe=U[z],ie=fe[oe.materialIndex];if(ie&&ie.visible){const F=v(x,ie,L,T.near,T.far,S);t.renderBufferDirect(T,null,J,F,x,oe)}}}else if(fe.visible){const U=v(x,fe,L,T.near,T.far,S);t.renderBufferDirect(T,null,J,U,x,null)}}const I=x.children;for(let J=0,fe=I.length;J<fe;J++)_(I[J],w,T,L,S)}}function mP(t,e,n){const i=n.isWebGL2;function r(){let D=!1;const B=new _t;let Q=null;const ce=new _t(0,0,0,0);return{setMask:function(pe){Q!==pe&&!D&&(t.colorMask(pe,pe,pe,pe),Q=pe)},setLocked:function(pe){D=pe},setClear:function(pe,Re,Ue,nt,ut){ut===!0&&(pe*=nt,Re*=nt,Ue*=nt),B.set(pe,Re,Ue,nt),ce.equals(B)===!1&&(t.clearColor(pe,Re,Ue,nt),ce.copy(B))},reset:function(){D=!1,Q=null,ce.set(-1,0,0,0)}}}function o(){let D=!1,B=null,Q=null,ce=null;return{setTest:function(pe){pe?ne(2929):$(2929)},setMask:function(pe){B!==pe&&!D&&(t.depthMask(pe),B=pe)},setFunc:function(pe){if(Q!==pe){switch(pe){case $2:t.depthFunc(512);break;case j2:t.depthFunc(519);break;case X2:t.depthFunc(513);break;case sp:t.depthFunc(515);break;case q2:t.depthFunc(514);break;case Y2:t.depthFunc(518);break;case Z2:t.depthFunc(516);break;case K2:t.depthFunc(517);break;default:t.depthFunc(515)}Q=pe}},setLocked:function(pe){D=pe},setClear:function(pe){ce!==pe&&(t.clearDepth(pe),ce=pe)},reset:function(){D=!1,B=null,Q=null,ce=null}}}function s(){let D=!1,B=null,Q=null,ce=null,pe=null,Re=null,Ue=null,nt=null,ut=null;return{setTest:function(qe){D||(qe?ne(2960):$(2960))},setMask:function(qe){B!==qe&&!D&&(t.stencilMask(qe),B=qe)},setFunc:function(qe,Tt,Dt){(Q!==qe||ce!==Tt||pe!==Dt)&&(t.stencilFunc(qe,Tt,Dt),Q=qe,ce=Tt,pe=Dt)},setOp:function(qe,Tt,Dt){(Re!==qe||Ue!==Tt||nt!==Dt)&&(t.stencilOp(qe,Tt,Dt),Re=qe,Ue=Tt,nt=Dt)},setLocked:function(qe){D=qe},setClear:function(qe){ut!==qe&&(t.clearStencil(qe),ut=qe)},reset:function(){D=!1,B=null,Q=null,ce=null,pe=null,Re=null,Ue=null,nt=null,ut=null}}}const a=new r,l=new o,u=new s,c=new WeakMap,f=new WeakMap;let d={},p={},y=new WeakMap,h=[],m=null,g=!1,v=null,_=null,x=null,w=null,T=null,L=null,S=null,R=!1,I=null,J=null,fe=null,U=null,z=null;const K=t.getParameter(35661);let oe=!1,ie=0;const F=t.getParameter(7938);F.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(F)[1]),oe=ie>=1):F.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),oe=ie>=2);let Y=null,Z={};const me=t.getParameter(3088),M=t.getParameter(2978),C=new _t().fromArray(me),N=new _t().fromArray(M);function W(D,B,Q){const ce=new Uint8Array(4),pe=t.createTexture();t.bindTexture(D,pe),t.texParameteri(D,10241,9728),t.texParameteri(D,10240,9728);for(let Re=0;Re<Q;Re++)t.texImage2D(B+Re,0,6408,1,1,0,6408,5121,ce);return pe}const b={};b[3553]=W(3553,3553,1),b[34067]=W(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ne(2929),l.setFunc(sp),he(!1),xe(V0),ne(2884),de(mr);function ne(D){d[D]!==!0&&(t.enable(D),d[D]=!0)}function $(D){d[D]!==!1&&(t.disable(D),d[D]=!1)}function ee(D,B){return p[D]!==B?(t.bindFramebuffer(D,B),p[D]=B,i&&(D===36009&&(p[36160]=B),D===36160&&(p[36009]=B)),!0):!1}function te(D,B){let Q=h,ce=!1;if(D)if(Q=y.get(B),Q===void 0&&(Q=[],y.set(B,Q)),D.isWebGLMultipleRenderTargets){const pe=D.texture;if(Q.length!==pe.length||Q[0]!==36064){for(let Re=0,Ue=pe.length;Re<Ue;Re++)Q[Re]=36064+Re;Q.length=pe.length,ce=!0}}else Q[0]!==36064&&(Q[0]=36064,ce=!0);else Q[0]!==1029&&(Q[0]=1029,ce=!0);ce&&(n.isWebGL2?t.drawBuffers(Q):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Q))}function we(D){return m!==D?(t.useProgram(D),m=D,!0):!1}const V={[Io]:32774,[I2]:32778,[k2]:32779};if(i)V[$0]=32775,V[j0]=32776;else{const D=e.get("EXT_blend_minmax");D!==null&&(V[$0]=D.MIN_EXT,V[j0]=D.MAX_EXT)}const X={[O2]:0,[F2]:1,[z2]:768,[SS]:770,[W2]:776,[G2]:774,[B2]:772,[U2]:769,[wS]:771,[H2]:775,[V2]:773};function de(D,B,Q,ce,pe,Re,Ue,nt){if(D===mr){g===!0&&($(3042),g=!1);return}if(g===!1&&(ne(3042),g=!0),D!==N2){if(D!==v||nt!==R){if((_!==Io||T!==Io)&&(t.blendEquation(32774),_=Io,T=Io),nt)switch(D){case is:t.blendFuncSeparate(1,771,1,771);break;case G0:t.blendFunc(1,1);break;case H0:t.blendFuncSeparate(0,769,0,1);break;case W0:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",D);break}else switch(D){case is:t.blendFuncSeparate(770,771,1,771);break;case G0:t.blendFunc(770,1);break;case H0:t.blendFuncSeparate(0,769,0,1);break;case W0:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",D);break}x=null,w=null,L=null,S=null,v=D,R=nt}return}pe=pe||B,Re=Re||Q,Ue=Ue||ce,(B!==_||pe!==T)&&(t.blendEquationSeparate(V[B],V[pe]),_=B,T=pe),(Q!==x||ce!==w||Re!==L||Ue!==S)&&(t.blendFuncSeparate(X[Q],X[ce],X[Re],X[Ue]),x=Q,w=ce,L=Re,S=Ue),v=D,R=!1}function ge(D,B){D.side===nr?$(2884):ne(2884);let Q=D.side===Pn;B&&(Q=!Q),he(Q),D.blending===is&&D.transparent===!1?de(mr):de(D.blending,D.blendEquation,D.blendSrc,D.blendDst,D.blendEquationAlpha,D.blendSrcAlpha,D.blendDstAlpha,D.premultipliedAlpha),l.setFunc(D.depthFunc),l.setTest(D.depthTest),l.setMask(D.depthWrite),a.setMask(D.colorWrite);const ce=D.stencilWrite;u.setTest(ce),ce&&(u.setMask(D.stencilWriteMask),u.setFunc(D.stencilFunc,D.stencilRef,D.stencilFuncMask),u.setOp(D.stencilFail,D.stencilZFail,D.stencilZPass)),Pe(D.polygonOffset,D.polygonOffsetFactor,D.polygonOffsetUnits),D.alphaToCoverage===!0?ne(32926):$(32926)}function he(D){I!==D&&(D?t.frontFace(2304):t.frontFace(2305),I=D)}function xe(D){D!==L2?(ne(2884),D!==J&&(D===V0?t.cullFace(1029):D===P2?t.cullFace(1028):t.cullFace(1032))):$(2884),J=D}function Te(D){D!==fe&&(oe&&t.lineWidth(D),fe=D)}function Pe(D,B,Q){D?(ne(32823),(U!==B||z!==Q)&&(t.polygonOffset(B,Q),U=B,z=Q)):$(32823)}function ze(D){D?ne(3089):$(3089)}function Xe(D){D===void 0&&(D=33984+K-1),Y!==D&&(t.activeTexture(D),Y=D)}function P(D,B,Q){Q===void 0&&(Y===null?Q=33984+K-1:Q=Y);let ce=Z[Q];ce===void 0&&(ce={type:void 0,texture:void 0},Z[Q]=ce),(ce.type!==D||ce.texture!==B)&&(Y!==Q&&(t.activeTexture(Q),Y=Q),t.bindTexture(D,B||b[D]),ce.type=D,ce.texture=B)}function E(){const D=Z[Y];D!==void 0&&D.type!==void 0&&(t.bindTexture(D.type,null),D.type=void 0,D.texture=void 0)}function H(){try{t.compressedTexImage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function le(){try{t.compressedTexImage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Se(){try{t.texSubImage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function be(){try{t.texSubImage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Ne(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Ae(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function ue(){try{t.texStorage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Ie(){try{t.texStorage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function Fe(){try{t.texImage2D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function De(){try{t.texImage3D.apply(t,arguments)}catch(D){console.error("THREE.WebGLState:",D)}}function ke(D){C.equals(D)===!1&&(t.scissor(D.x,D.y,D.z,D.w),C.copy(D))}function O(D){N.equals(D)===!1&&(t.viewport(D.x,D.y,D.z,D.w),N.copy(D))}function k(D,B){let Q=f.get(B);Q===void 0&&(Q=new WeakMap,f.set(B,Q));let ce=Q.get(D);ce===void 0&&(ce=t.getUniformBlockIndex(B,D.name),Q.set(D,ce))}function se(D,B){const ce=f.get(B).get(D);c.get(B)!==ce&&(t.uniformBlockBinding(B,ce,D.__bindingPointIndex),c.set(B,ce))}function ye(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),i===!0&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},Y=null,Z={},p={},y=new WeakMap,h=[],m=null,g=!1,v=null,_=null,x=null,w=null,T=null,L=null,S=null,R=!1,I=null,J=null,fe=null,U=null,z=null,C.set(0,0,t.canvas.width,t.canvas.height),N.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:ne,disable:$,bindFramebuffer:ee,drawBuffers:te,useProgram:we,setBlending:de,setMaterial:ge,setFlipSided:he,setCullFace:xe,setLineWidth:Te,setPolygonOffset:Pe,setScissorTest:ze,activeTexture:Xe,bindTexture:P,unbindTexture:E,compressedTexImage2D:H,compressedTexImage3D:le,texImage2D:Fe,texImage3D:De,updateUBOMapping:k,uniformBlockBinding:se,texStorage2D:ue,texStorage3D:Ie,texSubImage2D:Se,texSubImage3D:be,compressedTexSubImage2D:Ne,compressedTexSubImage3D:Ae,scissor:ke,viewport:O,reset:ye}}function gP(t,e,n,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,u=r.maxCubemapSize,c=r.maxTextureSize,f=r.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap;let h;const m=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(P,E){return g?new OffscreenCanvas(P,E):el("canvas")}function _(P,E,H,le){let Se=1;if((P.width>le||P.height>le)&&(Se=le/Math.max(P.width,P.height)),Se<1||E===!0)if(typeof HTMLImageElement!="undefined"&&P instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&P instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&P instanceof ImageBitmap){const be=E?fp:Math.floor,Ne=be(Se*P.width),Ae=be(Se*P.height);h===void 0&&(h=v(Ne,Ae));const ue=H?v(Ne,Ae):h;return ue.width=Ne,ue.height=Ae,ue.getContext("2d").drawImage(P,0,0,Ne,Ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+Ne+"x"+Ae+")."),ue}else return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P;return P}function x(P){return xv(P.width)&&xv(P.height)}function w(P){return a?!1:P.wrapS!==ti||P.wrapT!==ti||P.minFilter!==Gt&&P.minFilter!==Bn}function T(P,E){return P.generateMipmaps&&E&&P.minFilter!==Gt&&P.minFilter!==Bn}function L(P){t.generateMipmap(P)}function S(P,E,H,le,Se=!1){if(a===!1)return E;if(P!==null){if(t[P]!==void 0)return t[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let be=E;return E===6403&&(H===5126&&(be=33326),H===5131&&(be=33325),H===5121&&(be=33321)),E===33319&&(H===5126&&(be=33328),H===5131&&(be=33327),H===5121&&(be=33323)),E===6408&&(H===5126&&(be=34836),H===5131&&(be=34842),H===5121&&(be=le===ct&&Se===!1?35907:32856),H===32819&&(be=32854),H===32820&&(be=32855)),(be===33325||be===33326||be===33327||be===33328||be===34842||be===34836)&&e.get("EXT_color_buffer_float"),be}function R(P,E,H){return T(P,H)===!0||P.isFramebufferTexture&&P.minFilter!==Gt&&P.minFilter!==Bn?Math.log2(Math.max(E.width,E.height))+1:P.mipmaps!==void 0&&P.mipmaps.length>0?P.mipmaps.length:P.isCompressedTexture&&Array.isArray(P.image)?E.mipmaps.length:1}function I(P){return P===Gt||P===X0||P===ad?9728:9729}function J(P){const E=P.target;E.removeEventListener("dispose",J),U(E),E.isVideoTexture&&y.delete(E)}function fe(P){const E=P.target;E.removeEventListener("dispose",fe),K(E)}function U(P){const E=i.get(P);if(E.__webglInit===void 0)return;const H=P.source,le=m.get(H);if(le){const Se=le[E.__cacheKey];Se.usedTimes--,Se.usedTimes===0&&z(P),Object.keys(le).length===0&&m.delete(H)}i.remove(P)}function z(P){const E=i.get(P);t.deleteTexture(E.__webglTexture);const H=P.source,le=m.get(H);delete le[E.__cacheKey],s.memory.textures--}function K(P){const E=P.texture,H=i.get(P),le=i.get(E);if(le.__webglTexture!==void 0&&(t.deleteTexture(le.__webglTexture),s.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++)t.deleteFramebuffer(H.__webglFramebuffer[Se]),H.__webglDepthbuffer&&t.deleteRenderbuffer(H.__webglDepthbuffer[Se]);else{if(t.deleteFramebuffer(H.__webglFramebuffer),H.__webglDepthbuffer&&t.deleteRenderbuffer(H.__webglDepthbuffer),H.__webglMultisampledFramebuffer&&t.deleteFramebuffer(H.__webglMultisampledFramebuffer),H.__webglColorRenderbuffer)for(let Se=0;Se<H.__webglColorRenderbuffer.length;Se++)H.__webglColorRenderbuffer[Se]&&t.deleteRenderbuffer(H.__webglColorRenderbuffer[Se]);H.__webglDepthRenderbuffer&&t.deleteRenderbuffer(H.__webglDepthRenderbuffer)}if(P.isWebGLMultipleRenderTargets)for(let Se=0,be=E.length;Se<be;Se++){const Ne=i.get(E[Se]);Ne.__webglTexture&&(t.deleteTexture(Ne.__webglTexture),s.memory.textures--),i.remove(E[Se])}i.remove(E),i.remove(P)}let oe=0;function ie(){oe=0}function F(){const P=oe;return P>=l&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+l),oe+=1,P}function Y(P){const E=[];return E.push(P.wrapS),E.push(P.wrapT),E.push(P.wrapR||0),E.push(P.magFilter),E.push(P.minFilter),E.push(P.anisotropy),E.push(P.internalFormat),E.push(P.format),E.push(P.type),E.push(P.generateMipmaps),E.push(P.premultiplyAlpha),E.push(P.flipY),E.push(P.unpackAlignment),E.push(P.encoding),E.join()}function Z(P,E){const H=i.get(P);if(P.isVideoTexture&&ze(P),P.isRenderTargetTexture===!1&&P.version>0&&H.__version!==P.version){const le=P.image;if(le===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(le.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$(H,P,E);return}}n.bindTexture(3553,H.__webglTexture,33984+E)}function me(P,E){const H=i.get(P);if(P.version>0&&H.__version!==P.version){$(H,P,E);return}n.bindTexture(35866,H.__webglTexture,33984+E)}function M(P,E){const H=i.get(P);if(P.version>0&&H.__version!==P.version){$(H,P,E);return}n.bindTexture(32879,H.__webglTexture,33984+E)}function C(P,E){const H=i.get(P);if(P.version>0&&H.__version!==P.version){ee(H,P,E);return}n.bindTexture(34067,H.__webglTexture,33984+E)}const N={[eo]:10497,[ti]:33071,[up]:33648},W={[Gt]:9728,[X0]:9984,[ad]:9986,[Bn]:9729,[oC]:9985,[Ka]:9987};function b(P,E,H){if(H?(t.texParameteri(P,10242,N[E.wrapS]),t.texParameteri(P,10243,N[E.wrapT]),(P===32879||P===35866)&&t.texParameteri(P,32882,N[E.wrapR]),t.texParameteri(P,10240,W[E.magFilter]),t.texParameteri(P,10241,W[E.minFilter])):(t.texParameteri(P,10242,33071),t.texParameteri(P,10243,33071),(P===32879||P===35866)&&t.texParameteri(P,32882,33071),(E.wrapS!==ti||E.wrapT!==ti)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(P,10240,I(E.magFilter)),t.texParameteri(P,10241,I(E.minFilter)),E.minFilter!==Gt&&E.minFilter!==Bn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const le=e.get("EXT_texture_filter_anisotropic");if(E.magFilter===Gt||E.minFilter!==ad&&E.minFilter!==Ka||E.type===ir&&e.has("OES_texture_float_linear")===!1||a===!1&&E.type===Ja&&e.has("OES_texture_half_float_linear")===!1)return;(E.anisotropy>1||i.get(E).__currentAnisotropy)&&(t.texParameterf(P,le.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(E.anisotropy,r.getMaxAnisotropy())),i.get(E).__currentAnisotropy=E.anisotropy)}}function ne(P,E){let H=!1;P.__webglInit===void 0&&(P.__webglInit=!0,E.addEventListener("dispose",J));const le=E.source;let Se=m.get(le);Se===void 0&&(Se={},m.set(le,Se));const be=Y(E);if(be!==P.__cacheKey){Se[be]===void 0&&(Se[be]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,H=!0),Se[be].usedTimes++;const Ne=Se[P.__cacheKey];Ne!==void 0&&(Se[P.__cacheKey].usedTimes--,Ne.usedTimes===0&&z(E)),P.__cacheKey=be,P.__webglTexture=Se[be].texture}return H}function $(P,E,H){let le=3553;(E.isDataArrayTexture||E.isCompressedArrayTexture)&&(le=35866),E.isData3DTexture&&(le=32879);const Se=ne(P,E),be=E.source;n.bindTexture(le,P.__webglTexture,33984+H);const Ne=i.get(be);if(be.version!==Ne.__version||Se===!0){n.activeTexture(33984+H),t.pixelStorei(37440,E.flipY),t.pixelStorei(37441,E.premultiplyAlpha),t.pixelStorei(3317,E.unpackAlignment),t.pixelStorei(37443,0);const Ae=w(E)&&x(E.image)===!1;let ue=_(E.image,Ae,!1,c);ue=Xe(E,ue);const Ie=x(ue)||a,Fe=o.convert(E.format,E.encoding);let De=o.convert(E.type),ke=S(E.internalFormat,Fe,De,E.encoding,E.isVideoTexture);b(le,E,Ie);let O;const k=E.mipmaps,se=a&&E.isVideoTexture!==!0,ye=Ne.__version===void 0||Se===!0,D=R(E,ue,Ie);if(E.isDepthTexture)ke=6402,a?E.type===ir?ke=36012:E.type===Hr?ke=33190:E.type===rs?ke=35056:ke=33189:E.type===ir&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),E.format===jr&&ke===6402&&E.type!==bS&&E.type!==Hr&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),E.type=Hr,De=o.convert(E.type)),E.format===xs&&ke===6402&&(ke=34041,E.type!==rs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),E.type=rs,De=o.convert(E.type))),ye&&(se?n.texStorage2D(3553,1,ke,ue.width,ue.height):n.texImage2D(3553,0,ke,ue.width,ue.height,0,Fe,De,null));else if(E.isDataTexture)if(k.length>0&&Ie){se&&ye&&n.texStorage2D(3553,D,ke,k[0].width,k[0].height);for(let B=0,Q=k.length;B<Q;B++)O=k[B],se?n.texSubImage2D(3553,B,0,0,O.width,O.height,Fe,De,O.data):n.texImage2D(3553,B,ke,O.width,O.height,0,Fe,De,O.data);E.generateMipmaps=!1}else se?(ye&&n.texStorage2D(3553,D,ke,ue.width,ue.height),n.texSubImage2D(3553,0,0,0,ue.width,ue.height,Fe,De,ue.data)):n.texImage2D(3553,0,ke,ue.width,ue.height,0,Fe,De,ue.data);else if(E.isCompressedTexture)if(E.isCompressedArrayTexture){se&&ye&&n.texStorage3D(35866,D,ke,k[0].width,k[0].height,ue.depth);for(let B=0,Q=k.length;B<Q;B++)O=k[B],E.format!==Vn?Fe!==null?se?n.compressedTexSubImage3D(35866,B,0,0,0,O.width,O.height,ue.depth,Fe,O.data,0,0):n.compressedTexImage3D(35866,B,ke,O.width,O.height,ue.depth,0,O.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):se?n.texSubImage3D(35866,B,0,0,0,O.width,O.height,ue.depth,Fe,De,O.data):n.texImage3D(35866,B,ke,O.width,O.height,ue.depth,0,Fe,De,O.data)}else{se&&ye&&n.texStorage2D(3553,D,ke,k[0].width,k[0].height);for(let B=0,Q=k.length;B<Q;B++)O=k[B],E.format!==Vn?Fe!==null?se?n.compressedTexSubImage2D(3553,B,0,0,O.width,O.height,Fe,O.data):n.compressedTexImage2D(3553,B,ke,O.width,O.height,0,O.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):se?n.texSubImage2D(3553,B,0,0,O.width,O.height,Fe,De,O.data):n.texImage2D(3553,B,ke,O.width,O.height,0,Fe,De,O.data)}else if(E.isDataArrayTexture)se?(ye&&n.texStorage3D(35866,D,ke,ue.width,ue.height,ue.depth),n.texSubImage3D(35866,0,0,0,0,ue.width,ue.height,ue.depth,Fe,De,ue.data)):n.texImage3D(35866,0,ke,ue.width,ue.height,ue.depth,0,Fe,De,ue.data);else if(E.isData3DTexture)se?(ye&&n.texStorage3D(32879,D,ke,ue.width,ue.height,ue.depth),n.texSubImage3D(32879,0,0,0,0,ue.width,ue.height,ue.depth,Fe,De,ue.data)):n.texImage3D(32879,0,ke,ue.width,ue.height,ue.depth,0,Fe,De,ue.data);else if(E.isFramebufferTexture){if(ye)if(se)n.texStorage2D(3553,D,ke,ue.width,ue.height);else{let B=ue.width,Q=ue.height;for(let ce=0;ce<D;ce++)n.texImage2D(3553,ce,ke,B,Q,0,Fe,De,null),B>>=1,Q>>=1}}else if(k.length>0&&Ie){se&&ye&&n.texStorage2D(3553,D,ke,k[0].width,k[0].height);for(let B=0,Q=k.length;B<Q;B++)O=k[B],se?n.texSubImage2D(3553,B,0,0,Fe,De,O):n.texImage2D(3553,B,ke,Fe,De,O);E.generateMipmaps=!1}else se?(ye&&n.texStorage2D(3553,D,ke,ue.width,ue.height),n.texSubImage2D(3553,0,0,0,Fe,De,ue)):n.texImage2D(3553,0,ke,Fe,De,ue);T(E,Ie)&&L(le),Ne.__version=be.version,E.onUpdate&&E.onUpdate(E)}P.__version=E.version}function ee(P,E,H){if(E.image.length!==6)return;const le=ne(P,E),Se=E.source;n.bindTexture(34067,P.__webglTexture,33984+H);const be=i.get(Se);if(Se.version!==be.__version||le===!0){n.activeTexture(33984+H),t.pixelStorei(37440,E.flipY),t.pixelStorei(37441,E.premultiplyAlpha),t.pixelStorei(3317,E.unpackAlignment),t.pixelStorei(37443,0);const Ne=E.isCompressedTexture||E.image[0].isCompressedTexture,Ae=E.image[0]&&E.image[0].isDataTexture,ue=[];for(let B=0;B<6;B++)!Ne&&!Ae?ue[B]=_(E.image[B],!1,!0,u):ue[B]=Ae?E.image[B].image:E.image[B],ue[B]=Xe(E,ue[B]);const Ie=ue[0],Fe=x(Ie)||a,De=o.convert(E.format,E.encoding),ke=o.convert(E.type),O=S(E.internalFormat,De,ke,E.encoding),k=a&&E.isVideoTexture!==!0,se=be.__version===void 0||le===!0;let ye=R(E,Ie,Fe);b(34067,E,Fe);let D;if(Ne){k&&se&&n.texStorage2D(34067,ye,O,Ie.width,Ie.height);for(let B=0;B<6;B++){D=ue[B].mipmaps;for(let Q=0;Q<D.length;Q++){const ce=D[Q];E.format!==Vn?De!==null?k?n.compressedTexSubImage2D(34069+B,Q,0,0,ce.width,ce.height,De,ce.data):n.compressedTexImage2D(34069+B,Q,O,ce.width,ce.height,0,ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):k?n.texSubImage2D(34069+B,Q,0,0,ce.width,ce.height,De,ke,ce.data):n.texImage2D(34069+B,Q,O,ce.width,ce.height,0,De,ke,ce.data)}}}else{D=E.mipmaps,k&&se&&(D.length>0&&ye++,n.texStorage2D(34067,ye,O,ue[0].width,ue[0].height));for(let B=0;B<6;B++)if(Ae){k?n.texSubImage2D(34069+B,0,0,0,ue[B].width,ue[B].height,De,ke,ue[B].data):n.texImage2D(34069+B,0,O,ue[B].width,ue[B].height,0,De,ke,ue[B].data);for(let Q=0;Q<D.length;Q++){const pe=D[Q].image[B].image;k?n.texSubImage2D(34069+B,Q+1,0,0,pe.width,pe.height,De,ke,pe.data):n.texImage2D(34069+B,Q+1,O,pe.width,pe.height,0,De,ke,pe.data)}}else{k?n.texSubImage2D(34069+B,0,0,0,De,ke,ue[B]):n.texImage2D(34069+B,0,O,De,ke,ue[B]);for(let Q=0;Q<D.length;Q++){const ce=D[Q];k?n.texSubImage2D(34069+B,Q+1,0,0,De,ke,ce.image[B]):n.texImage2D(34069+B,Q+1,O,De,ke,ce.image[B])}}}T(E,Fe)&&L(34067),be.__version=Se.version,E.onUpdate&&E.onUpdate(E)}P.__version=E.version}function te(P,E,H,le,Se){const be=o.convert(H.format,H.encoding),Ne=o.convert(H.type),Ae=S(H.internalFormat,be,Ne,H.encoding);i.get(E).__hasExternalTextures||(Se===32879||Se===35866?n.texImage3D(Se,0,Ae,E.width,E.height,E.depth,0,be,Ne,null):n.texImage2D(Se,0,Ae,E.width,E.height,0,be,Ne,null)),n.bindFramebuffer(36160,P),Pe(E)?d.framebufferTexture2DMultisampleEXT(36160,le,Se,i.get(H).__webglTexture,0,Te(E)):(Se===3553||Se>=34069&&Se<=34074)&&t.framebufferTexture2D(36160,le,Se,i.get(H).__webglTexture,0),n.bindFramebuffer(36160,null)}function we(P,E,H){if(t.bindRenderbuffer(36161,P),E.depthBuffer&&!E.stencilBuffer){let le=33189;if(H||Pe(E)){const Se=E.depthTexture;Se&&Se.isDepthTexture&&(Se.type===ir?le=36012:Se.type===Hr&&(le=33190));const be=Te(E);Pe(E)?d.renderbufferStorageMultisampleEXT(36161,be,le,E.width,E.height):t.renderbufferStorageMultisample(36161,be,le,E.width,E.height)}else t.renderbufferStorage(36161,le,E.width,E.height);t.framebufferRenderbuffer(36160,36096,36161,P)}else if(E.depthBuffer&&E.stencilBuffer){const le=Te(E);H&&Pe(E)===!1?t.renderbufferStorageMultisample(36161,le,35056,E.width,E.height):Pe(E)?d.renderbufferStorageMultisampleEXT(36161,le,35056,E.width,E.height):t.renderbufferStorage(36161,34041,E.width,E.height),t.framebufferRenderbuffer(36160,33306,36161,P)}else{const le=E.isWebGLMultipleRenderTargets===!0?E.texture:[E.texture];for(let Se=0;Se<le.length;Se++){const be=le[Se],Ne=o.convert(be.format,be.encoding),Ae=o.convert(be.type),ue=S(be.internalFormat,Ne,Ae,be.encoding),Ie=Te(E);H&&Pe(E)===!1?t.renderbufferStorageMultisample(36161,Ie,ue,E.width,E.height):Pe(E)?d.renderbufferStorageMultisampleEXT(36161,Ie,ue,E.width,E.height):t.renderbufferStorage(36161,ue,E.width,E.height)}}t.bindRenderbuffer(36161,null)}function V(P,E){if(E&&E.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,P),!(E.depthTexture&&E.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(E.depthTexture).__webglTexture||E.depthTexture.image.width!==E.width||E.depthTexture.image.height!==E.height)&&(E.depthTexture.image.width=E.width,E.depthTexture.image.height=E.height,E.depthTexture.needsUpdate=!0),Z(E.depthTexture,0);const le=i.get(E.depthTexture).__webglTexture,Se=Te(E);if(E.depthTexture.format===jr)Pe(E)?d.framebufferTexture2DMultisampleEXT(36160,36096,3553,le,0,Se):t.framebufferTexture2D(36160,36096,3553,le,0);else if(E.depthTexture.format===xs)Pe(E)?d.framebufferTexture2DMultisampleEXT(36160,33306,3553,le,0,Se):t.framebufferTexture2D(36160,33306,3553,le,0);else throw new Error("Unknown depthTexture format")}function X(P){const E=i.get(P),H=P.isWebGLCubeRenderTarget===!0;if(P.depthTexture&&!E.__autoAllocateDepthBuffer){if(H)throw new Error("target.depthTexture not supported in Cube render targets");V(E.__webglFramebuffer,P)}else if(H){E.__webglDepthbuffer=[];for(let le=0;le<6;le++)n.bindFramebuffer(36160,E.__webglFramebuffer[le]),E.__webglDepthbuffer[le]=t.createRenderbuffer(),we(E.__webglDepthbuffer[le],P,!1)}else n.bindFramebuffer(36160,E.__webglFramebuffer),E.__webglDepthbuffer=t.createRenderbuffer(),we(E.__webglDepthbuffer,P,!1);n.bindFramebuffer(36160,null)}function de(P,E,H){const le=i.get(P);E!==void 0&&te(le.__webglFramebuffer,P,P.texture,36064,3553),H!==void 0&&X(P)}function ge(P){const E=P.texture,H=i.get(P),le=i.get(E);P.addEventListener("dispose",fe),P.isWebGLMultipleRenderTargets!==!0&&(le.__webglTexture===void 0&&(le.__webglTexture=t.createTexture()),le.__version=E.version,s.memory.textures++);const Se=P.isWebGLCubeRenderTarget===!0,be=P.isWebGLMultipleRenderTargets===!0,Ne=x(P)||a;if(Se){H.__webglFramebuffer=[];for(let Ae=0;Ae<6;Ae++)H.__webglFramebuffer[Ae]=t.createFramebuffer()}else{if(H.__webglFramebuffer=t.createFramebuffer(),be)if(r.drawBuffers){const Ae=P.texture;for(let ue=0,Ie=Ae.length;ue<Ie;ue++){const Fe=i.get(Ae[ue]);Fe.__webglTexture===void 0&&(Fe.__webglTexture=t.createTexture(),s.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&P.samples>0&&Pe(P)===!1){const Ae=be?E:[E];H.__webglMultisampledFramebuffer=t.createFramebuffer(),H.__webglColorRenderbuffer=[],n.bindFramebuffer(36160,H.__webglMultisampledFramebuffer);for(let ue=0;ue<Ae.length;ue++){const Ie=Ae[ue];H.__webglColorRenderbuffer[ue]=t.createRenderbuffer(),t.bindRenderbuffer(36161,H.__webglColorRenderbuffer[ue]);const Fe=o.convert(Ie.format,Ie.encoding),De=o.convert(Ie.type),ke=S(Ie.internalFormat,Fe,De,Ie.encoding,P.isXRRenderTarget===!0),O=Te(P);t.renderbufferStorageMultisample(36161,O,ke,P.width,P.height),t.framebufferRenderbuffer(36160,36064+ue,36161,H.__webglColorRenderbuffer[ue])}t.bindRenderbuffer(36161,null),P.depthBuffer&&(H.__webglDepthRenderbuffer=t.createRenderbuffer(),we(H.__webglDepthRenderbuffer,P,!0)),n.bindFramebuffer(36160,null)}}if(Se){n.bindTexture(34067,le.__webglTexture),b(34067,E,Ne);for(let Ae=0;Ae<6;Ae++)te(H.__webglFramebuffer[Ae],P,E,36064,34069+Ae);T(E,Ne)&&L(34067),n.unbindTexture()}else if(be){const Ae=P.texture;for(let ue=0,Ie=Ae.length;ue<Ie;ue++){const Fe=Ae[ue],De=i.get(Fe);n.bindTexture(3553,De.__webglTexture),b(3553,Fe,Ne),te(H.__webglFramebuffer,P,Fe,36064+ue,3553),T(Fe,Ne)&&L(3553)}n.unbindTexture()}else{let Ae=3553;(P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(a?Ae=P.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ae,le.__webglTexture),b(Ae,E,Ne),te(H.__webglFramebuffer,P,E,36064,Ae),T(E,Ne)&&L(Ae),n.unbindTexture()}P.depthBuffer&&X(P)}function he(P){const E=x(P)||a,H=P.isWebGLMultipleRenderTargets===!0?P.texture:[P.texture];for(let le=0,Se=H.length;le<Se;le++){const be=H[le];if(T(be,E)){const Ne=P.isWebGLCubeRenderTarget?34067:3553,Ae=i.get(be).__webglTexture;n.bindTexture(Ne,Ae),L(Ne),n.unbindTexture()}}}function xe(P){if(a&&P.samples>0&&Pe(P)===!1){const E=P.isWebGLMultipleRenderTargets?P.texture:[P.texture],H=P.width,le=P.height;let Se=16384;const be=[],Ne=P.stencilBuffer?33306:36096,Ae=i.get(P),ue=P.isWebGLMultipleRenderTargets===!0;if(ue)for(let Ie=0;Ie<E.length;Ie++)n.bindFramebuffer(36160,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ie,36161,null),n.bindFramebuffer(36160,Ae.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ie,3553,null,0);n.bindFramebuffer(36008,Ae.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,Ae.__webglFramebuffer);for(let Ie=0;Ie<E.length;Ie++){be.push(36064+Ie),P.depthBuffer&&be.push(Ne);const Fe=Ae.__ignoreDepthValues!==void 0?Ae.__ignoreDepthValues:!1;if(Fe===!1&&(P.depthBuffer&&(Se|=256),P.stencilBuffer&&(Se|=1024)),ue&&t.framebufferRenderbuffer(36008,36064,36161,Ae.__webglColorRenderbuffer[Ie]),Fe===!0&&(t.invalidateFramebuffer(36008,[Ne]),t.invalidateFramebuffer(36009,[Ne])),ue){const De=i.get(E[Ie]).__webglTexture;t.framebufferTexture2D(36009,36064,3553,De,0)}t.blitFramebuffer(0,0,H,le,0,0,H,le,Se,9728),p&&t.invalidateFramebuffer(36008,be)}if(n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,null),ue)for(let Ie=0;Ie<E.length;Ie++){n.bindFramebuffer(36160,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064+Ie,36161,Ae.__webglColorRenderbuffer[Ie]);const Fe=i.get(E[Ie]).__webglTexture;n.bindFramebuffer(36160,Ae.__webglFramebuffer),t.framebufferTexture2D(36009,36064+Ie,3553,Fe,0)}n.bindFramebuffer(36009,Ae.__webglMultisampledFramebuffer)}}function Te(P){return Math.min(f,P.samples)}function Pe(P){const E=i.get(P);return a&&P.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&E.__useRenderToTexture!==!1}function ze(P){const E=s.render.frame;y.get(P)!==E&&(y.set(P,E),P.update())}function Xe(P,E){const H=P.encoding,le=P.format,Se=P.type;return P.isCompressedTexture===!0||P.isVideoTexture===!0||P.format===cp||H!==no&&(H===ct?a===!1?e.has("EXT_sRGB")===!0&&le===Vn?(P.format=cp,P.minFilter=Bn,P.generateMipmaps=!1):E=CS.sRGBToLinear(E):(le!==Vn||Se!==to)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",H)),E}this.allocateTextureUnit=F,this.resetTextureUnits=ie,this.setTexture2D=Z,this.setTexture2DArray=me,this.setTexture3D=M,this.setTextureCube=C,this.rebindTextures=de,this.setupRenderTarget=ge,this.updateRenderTargetMipmap=he,this.updateMultisampleRenderTarget=xe,this.setupDepthRenderbuffer=X,this.setupFrameBufferTexture=te,this.useMultisampledRTT=Pe}function vP(t,e,n){const i=n.isWebGL2;function r(o,s=null){let a;if(o===to)return 5121;if(o===uC)return 32819;if(o===cC)return 32820;if(o===sC)return 5120;if(o===aC)return 5122;if(o===bS)return 5123;if(o===lC)return 5124;if(o===Hr)return 5125;if(o===ir)return 5126;if(o===Ja)return i?5131:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(o===fC)return 6406;if(o===Vn)return 6408;if(o===dC)return 6409;if(o===hC)return 6410;if(o===jr)return 6402;if(o===xs)return 34041;if(o===cp)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(o===pC)return 6403;if(o===mC)return 36244;if(o===gC)return 33319;if(o===vC)return 33320;if(o===_C)return 36249;if(o===ld||o===ud||o===cd||o===fd)if(s===ct)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(o===ld)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===ud)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===cd)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===fd)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(o===ld)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===ud)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===cd)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===fd)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===q0||o===Y0||o===Z0||o===K0)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(o===q0)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Y0)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Z0)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===K0)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===yC)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===J0||o===Q0)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(o===J0)return s===ct?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(o===Q0)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===ev||o===tv||o===nv||o===iv||o===rv||o===ov||o===sv||o===av||o===lv||o===uv||o===cv||o===fv||o===dv||o===hv)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(o===ev)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===tv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===nv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===iv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===rv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===ov)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===sv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===av)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===lv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===uv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===cv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===fv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===dv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===hv)return s===ct?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===dd)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(o===dd)return s===ct?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===xC||o===pv||o===mv||o===gv)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(o===dd)return a.COMPRESSED_RED_RGTC1_EXT;if(o===pv)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===mv)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===gv)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===rs?i?34042:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[o]!==void 0?t[o]:null}return{convert:r}}class _P extends Cn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class ou extends an{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yP={type:"move"};class Ud{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new ou,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new ou,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new ou,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,o=null,s=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){s=!0;for(const h of e.hand.values()){const m=n.getJointPose(h,i),g=this._getHandJoint(u,h);m!==null&&(g.matrix.fromArray(m.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=m.radius),g.visible=m!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],d=c.position.distanceTo(f.position),p=.02,y=.005;u.inputState.pinching&&d>p+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&d<=p-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,i),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&o!==null&&(r=o),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(yP)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new ou;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class xP extends Jt{constructor(e,n,i,r,o,s,a,l,u,c){if(c=c!==void 0?c:jr,c!==jr&&c!==xs)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&c===jr&&(i=Hr),i===void 0&&c===xs&&(i=rs),super(null,r,o,s,a,l,c,i,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Gt,this.minFilter=l!==void 0?l:Gt,this.flipY=!1,this.generateMipmaps=!1}}class SP extends Ds{constructor(e,n){super();const i=this;let r=null,o=1,s=null,a="local-floor",l=1,u=null,c=null,f=null,d=null,p=null,y=null;const h=n.getContextAttributes();let m=null,g=null;const v=[],_=[],x=new Set,w=new Map,T=new Cn;T.layers.enable(1),T.viewport=new _t;const L=new Cn;L.layers.enable(2),L.viewport=new _t;const S=[T,L],R=new _P;R.layers.enable(1),R.layers.enable(2);let I=null,J=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(M){let C=v[M];return C===void 0&&(C=new Ud,v[M]=C),C.getTargetRaySpace()},this.getControllerGrip=function(M){let C=v[M];return C===void 0&&(C=new Ud,v[M]=C),C.getGripSpace()},this.getHand=function(M){let C=v[M];return C===void 0&&(C=new Ud,v[M]=C),C.getHandSpace()};function fe(M){const C=_.indexOf(M.inputSource);if(C===-1)return;const N=v[C];N!==void 0&&N.dispatchEvent({type:M.type,data:M.inputSource})}function U(){r.removeEventListener("select",fe),r.removeEventListener("selectstart",fe),r.removeEventListener("selectend",fe),r.removeEventListener("squeeze",fe),r.removeEventListener("squeezestart",fe),r.removeEventListener("squeezeend",fe),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",z);for(let M=0;M<v.length;M++){const C=_[M];C!==null&&(_[M]=null,v[M].disconnect(C))}I=null,J=null,e.setRenderTarget(m),p=null,d=null,f=null,r=null,g=null,me.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(M){o=M,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(M){a=M,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||s},this.setReferenceSpace=function(M){u=M},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(M){if(r=M,r!==null){if(m=e.getRenderTarget(),r.addEventListener("select",fe),r.addEventListener("selectstart",fe),r.addEventListener("selectend",fe),r.addEventListener("squeeze",fe),r.addEventListener("squeezestart",fe),r.addEventListener("squeezeend",fe),r.addEventListener("end",U),r.addEventListener("inputsourceschange",z),h.xrCompatible!==!0&&await n.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const C={antialias:r.renderState.layers===void 0?h.antialias:!0,alpha:h.alpha,depth:h.depth,stencil:h.stencil,framebufferScaleFactor:o};p=new XRWebGLLayer(r,n,C),r.updateRenderState({baseLayer:p}),g=new io(p.framebufferWidth,p.framebufferHeight,{format:Vn,type:to,encoding:e.outputEncoding,stencilBuffer:h.stencil})}else{let C=null,N=null,W=null;h.depth&&(W=h.stencil?35056:33190,C=h.stencil?xs:jr,N=h.stencil?rs:Hr);const b={colorFormat:32856,depthFormat:W,scaleFactor:o};f=new XRWebGLBinding(r,n),d=f.createProjectionLayer(b),r.updateRenderState({layers:[d]}),g=new io(d.textureWidth,d.textureHeight,{format:Vn,type:to,depthTexture:new xP(d.textureWidth,d.textureHeight,N,void 0,void 0,void 0,void 0,void 0,void 0,C),stencilBuffer:h.stencil,encoding:e.outputEncoding,samples:h.antialias?4:0});const ne=e.properties.get(g);ne.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),u=null,s=await r.requestReferenceSpace(a),me.setContext(r),me.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};function z(M){for(let C=0;C<M.removed.length;C++){const N=M.removed[C],W=_.indexOf(N);W>=0&&(_[W]=null,v[W].disconnect(N))}for(let C=0;C<M.added.length;C++){const N=M.added[C];let W=_.indexOf(N);if(W===-1){for(let ne=0;ne<v.length;ne++)if(ne>=_.length){_.push(N),W=ne;break}else if(_[ne]===null){_[ne]=N,W=ne;break}if(W===-1)break}const b=v[W];b&&b.connect(N)}}const K=new G,oe=new G;function ie(M,C,N){K.setFromMatrixPosition(C.matrixWorld),oe.setFromMatrixPosition(N.matrixWorld);const W=K.distanceTo(oe),b=C.projectionMatrix.elements,ne=N.projectionMatrix.elements,$=b[14]/(b[10]-1),ee=b[14]/(b[10]+1),te=(b[9]+1)/b[5],we=(b[9]-1)/b[5],V=(b[8]-1)/b[0],X=(ne[8]+1)/ne[0],de=$*V,ge=$*X,he=W/(-V+X),xe=he*-V;C.matrixWorld.decompose(M.position,M.quaternion,M.scale),M.translateX(xe),M.translateZ(he),M.matrixWorld.compose(M.position,M.quaternion,M.scale),M.matrixWorldInverse.copy(M.matrixWorld).invert();const Te=$+he,Pe=ee+he,ze=de-xe,Xe=ge+(W-xe),P=te*ee/Pe*Te,E=we*ee/Pe*Te;M.projectionMatrix.makePerspective(ze,Xe,P,E,Te,Pe)}function F(M,C){C===null?M.matrixWorld.copy(M.matrix):M.matrixWorld.multiplyMatrices(C.matrixWorld,M.matrix),M.matrixWorldInverse.copy(M.matrixWorld).invert()}this.updateCamera=function(M){if(r===null)return;R.near=L.near=T.near=M.near,R.far=L.far=T.far=M.far,(I!==R.near||J!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),I=R.near,J=R.far);const C=M.parent,N=R.cameras;F(R,C);for(let b=0;b<N.length;b++)F(N[b],C);R.matrixWorld.decompose(R.position,R.quaternion,R.scale),M.matrix.copy(R.matrix),M.matrix.decompose(M.position,M.quaternion,M.scale);const W=M.children;for(let b=0,ne=W.length;b<ne;b++)W[b].updateMatrixWorld(!0);N.length===2?ie(R,T,L):R.projectionMatrix.copy(T.projectionMatrix)},this.getCamera=function(){return R},this.getFoveation=function(){if(!(d===null&&p===null))return l},this.setFoveation=function(M){l=M,d!==null&&(d.fixedFoveation=M),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=M)},this.getPlanes=function(){return x};let Y=null;function Z(M,C){if(c=C.getViewerPose(u||s),y=C,c!==null){const N=c.views;p!==null&&(e.setRenderTargetFramebuffer(g,p.framebuffer),e.setRenderTarget(g));let W=!1;N.length!==R.cameras.length&&(R.cameras.length=0,W=!0);for(let b=0;b<N.length;b++){const ne=N[b];let $=null;if(p!==null)$=p.getViewport(ne);else{const te=f.getViewSubImage(d,ne);$=te.viewport,b===0&&(e.setRenderTargetTextures(g,te.colorTexture,d.ignoreDepthValues?void 0:te.depthStencilTexture),e.setRenderTarget(g))}let ee=S[b];ee===void 0&&(ee=new Cn,ee.layers.enable(b),ee.viewport=new _t,S[b]=ee),ee.matrix.fromArray(ne.transform.matrix),ee.projectionMatrix.fromArray(ne.projectionMatrix),ee.viewport.set($.x,$.y,$.width,$.height),b===0&&R.matrix.copy(ee.matrix),W===!0&&R.cameras.push(ee)}}for(let N=0;N<v.length;N++){const W=_[N],b=v[N];W!==null&&b!==void 0&&b.update(W,C,u||s)}if(Y&&Y(M,C),C.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:C.detectedPlanes});let N=null;for(const W of x)C.detectedPlanes.has(W)||(N===null&&(N=[]),N.push(W));if(N!==null)for(const W of N)x.delete(W),w.delete(W),i.dispatchEvent({type:"planeremoved",data:W});for(const W of C.detectedPlanes)if(!x.has(W))x.add(W),w.set(W,C.lastChangedTime),i.dispatchEvent({type:"planeadded",data:W});else{const b=w.get(W);W.lastChangedTime>b&&(w.set(W,W.lastChangedTime),i.dispatchEvent({type:"planechanged",data:W}))}}y=null}const me=new FS;me.setAnimationLoop(Z),this.setAnimationLoop=function(M){Y=M},this.dispose=function(){}}}function wP(t,e){function n(h,m){m.color.getRGB(h.fogColor.value,IS(t)),m.isFog?(h.fogNear.value=m.near,h.fogFar.value=m.far):m.isFogExp2&&(h.fogDensity.value=m.density)}function i(h,m,g,v,_){m.isMeshBasicMaterial||m.isMeshLambertMaterial?r(h,m):m.isMeshToonMaterial?(r(h,m),c(h,m)):m.isMeshPhongMaterial?(r(h,m),u(h,m)):m.isMeshStandardMaterial?(r(h,m),f(h,m),m.isMeshPhysicalMaterial&&d(h,m,_)):m.isMeshMatcapMaterial?(r(h,m),p(h,m)):m.isMeshDepthMaterial?r(h,m):m.isMeshDistanceMaterial?(r(h,m),y(h,m)):m.isMeshNormalMaterial?r(h,m):m.isLineBasicMaterial?(o(h,m),m.isLineDashedMaterial&&s(h,m)):m.isPointsMaterial?a(h,m,g,v):m.isSpriteMaterial?l(h,m):m.isShadowMaterial?(h.color.value.copy(m.color),h.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function r(h,m){h.opacity.value=m.opacity,m.color&&h.diffuse.value.copy(m.color),m.emissive&&h.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(h.map.value=m.map),m.alphaMap&&(h.alphaMap.value=m.alphaMap),m.bumpMap&&(h.bumpMap.value=m.bumpMap,h.bumpScale.value=m.bumpScale,m.side===Pn&&(h.bumpScale.value*=-1)),m.displacementMap&&(h.displacementMap.value=m.displacementMap,h.displacementScale.value=m.displacementScale,h.displacementBias.value=m.displacementBias),m.emissiveMap&&(h.emissiveMap.value=m.emissiveMap),m.normalMap&&(h.normalMap.value=m.normalMap,h.normalScale.value.copy(m.normalScale),m.side===Pn&&h.normalScale.value.negate()),m.specularMap&&(h.specularMap.value=m.specularMap),m.alphaTest>0&&(h.alphaTest.value=m.alphaTest);const g=e.get(m).envMap;if(g&&(h.envMap.value=g,h.flipEnvMap.value=g.isCubeTexture&&g.isRenderTargetTexture===!1?-1:1,h.reflectivity.value=m.reflectivity,h.ior.value=m.ior,h.refractionRatio.value=m.refractionRatio),m.lightMap){h.lightMap.value=m.lightMap;const x=t.physicallyCorrectLights!==!0?Math.PI:1;h.lightMapIntensity.value=m.lightMapIntensity*x}m.aoMap&&(h.aoMap.value=m.aoMap,h.aoMapIntensity.value=m.aoMapIntensity);let v;m.map?v=m.map:m.specularMap?v=m.specularMap:m.displacementMap?v=m.displacementMap:m.normalMap?v=m.normalMap:m.bumpMap?v=m.bumpMap:m.roughnessMap?v=m.roughnessMap:m.metalnessMap?v=m.metalnessMap:m.alphaMap?v=m.alphaMap:m.emissiveMap?v=m.emissiveMap:m.clearcoatMap?v=m.clearcoatMap:m.clearcoatNormalMap?v=m.clearcoatNormalMap:m.clearcoatRoughnessMap?v=m.clearcoatRoughnessMap:m.iridescenceMap?v=m.iridescenceMap:m.iridescenceThicknessMap?v=m.iridescenceThicknessMap:m.specularIntensityMap?v=m.specularIntensityMap:m.specularColorMap?v=m.specularColorMap:m.transmissionMap?v=m.transmissionMap:m.thicknessMap?v=m.thicknessMap:m.sheenColorMap?v=m.sheenColorMap:m.sheenRoughnessMap&&(v=m.sheenRoughnessMap),v!==void 0&&(v.isWebGLRenderTarget&&(v=v.texture),v.matrixAutoUpdate===!0&&v.updateMatrix(),h.uvTransform.value.copy(v.matrix));let _;m.aoMap?_=m.aoMap:m.lightMap&&(_=m.lightMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),h.uv2Transform.value.copy(_.matrix))}function o(h,m){h.diffuse.value.copy(m.color),h.opacity.value=m.opacity}function s(h,m){h.dashSize.value=m.dashSize,h.totalSize.value=m.dashSize+m.gapSize,h.scale.value=m.scale}function a(h,m,g,v){h.diffuse.value.copy(m.color),h.opacity.value=m.opacity,h.size.value=m.size*g,h.scale.value=v*.5,m.map&&(h.map.value=m.map),m.alphaMap&&(h.alphaMap.value=m.alphaMap),m.alphaTest>0&&(h.alphaTest.value=m.alphaTest);let _;m.map?_=m.map:m.alphaMap&&(_=m.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),h.uvTransform.value.copy(_.matrix))}function l(h,m){h.diffuse.value.copy(m.color),h.opacity.value=m.opacity,h.rotation.value=m.rotation,m.map&&(h.map.value=m.map),m.alphaMap&&(h.alphaMap.value=m.alphaMap),m.alphaTest>0&&(h.alphaTest.value=m.alphaTest);let g;m.map?g=m.map:m.alphaMap&&(g=m.alphaMap),g!==void 0&&(g.matrixAutoUpdate===!0&&g.updateMatrix(),h.uvTransform.value.copy(g.matrix))}function u(h,m){h.specular.value.copy(m.specular),h.shininess.value=Math.max(m.shininess,1e-4)}function c(h,m){m.gradientMap&&(h.gradientMap.value=m.gradientMap)}function f(h,m){h.roughness.value=m.roughness,h.metalness.value=m.metalness,m.roughnessMap&&(h.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(h.metalnessMap.value=m.metalnessMap),e.get(m).envMap&&(h.envMapIntensity.value=m.envMapIntensity)}function d(h,m,g){h.ior.value=m.ior,m.sheen>0&&(h.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),h.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(h.sheenColorMap.value=m.sheenColorMap),m.sheenRoughnessMap&&(h.sheenRoughnessMap.value=m.sheenRoughnessMap)),m.clearcoat>0&&(h.clearcoat.value=m.clearcoat,h.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(h.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(h.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(h.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),h.clearcoatNormalMap.value=m.clearcoatNormalMap,m.side===Pn&&h.clearcoatNormalScale.value.negate())),m.iridescence>0&&(h.iridescence.value=m.iridescence,h.iridescenceIOR.value=m.iridescenceIOR,h.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],h.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(h.iridescenceMap.value=m.iridescenceMap),m.iridescenceThicknessMap&&(h.iridescenceThicknessMap.value=m.iridescenceThicknessMap)),m.transmission>0&&(h.transmission.value=m.transmission,h.transmissionSamplerMap.value=g.texture,h.transmissionSamplerSize.value.set(g.width,g.height),m.transmissionMap&&(h.transmissionMap.value=m.transmissionMap),h.thickness.value=m.thickness,m.thicknessMap&&(h.thicknessMap.value=m.thicknessMap),h.attenuationDistance.value=m.attenuationDistance,h.attenuationColor.value.copy(m.attenuationColor)),h.specularIntensity.value=m.specularIntensity,h.specularColor.value.copy(m.specularColor),m.specularIntensityMap&&(h.specularIntensityMap.value=m.specularIntensityMap),m.specularColorMap&&(h.specularColorMap.value=m.specularColorMap)}function p(h,m){m.matcap&&(h.matcap.value=m.matcap)}function y(h,m){h.referencePosition.value.copy(m.referencePosition),h.nearDistance.value=m.nearDistance,h.farDistance.value=m.farDistance}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function MP(t,e,n,i){let r={},o={},s=[];const a=n.isWebGL2?t.getParameter(35375):0;function l(v,_){const x=_.program;i.uniformBlockBinding(v,x)}function u(v,_){let x=r[v.id];x===void 0&&(y(v),x=c(v),r[v.id]=x,v.addEventListener("dispose",m));const w=_.program;i.updateUBOMapping(v,w);const T=e.render.frame;o[v.id]!==T&&(d(v),o[v.id]=T)}function c(v){const _=f();v.__bindingPointIndex=_;const x=t.createBuffer(),w=v.__size,T=v.usage;return t.bindBuffer(35345,x),t.bufferData(35345,w,T),t.bindBuffer(35345,null),t.bindBufferBase(35345,_,x),x}function f(){for(let v=0;v<a;v++)if(s.indexOf(v)===-1)return s.push(v),v;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(v){const _=r[v.id],x=v.uniforms,w=v.__cache;t.bindBuffer(35345,_);for(let T=0,L=x.length;T<L;T++){const S=x[T];if(p(S,T,w)===!0){const R=S.__offset,I=Array.isArray(S.value)?S.value:[S.value];let J=0;for(let fe=0;fe<I.length;fe++){const U=I[fe],z=h(U);typeof U=="number"?(S.__data[0]=U,t.bufferSubData(35345,R+J,S.__data)):U.isMatrix3?(S.__data[0]=U.elements[0],S.__data[1]=U.elements[1],S.__data[2]=U.elements[2],S.__data[3]=U.elements[0],S.__data[4]=U.elements[3],S.__data[5]=U.elements[4],S.__data[6]=U.elements[5],S.__data[7]=U.elements[0],S.__data[8]=U.elements[6],S.__data[9]=U.elements[7],S.__data[10]=U.elements[8],S.__data[11]=U.elements[0]):(U.toArray(S.__data,J),J+=z.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(35345,R,S.__data)}}t.bindBuffer(35345,null)}function p(v,_,x){const w=v.value;if(x[_]===void 0){if(typeof w=="number")x[_]=w;else{const T=Array.isArray(w)?w:[w],L=[];for(let S=0;S<T.length;S++)L.push(T[S].clone());x[_]=L}return!0}else if(typeof w=="number"){if(x[_]!==w)return x[_]=w,!0}else{const T=Array.isArray(x[_])?x[_]:[x[_]],L=Array.isArray(w)?w:[w];for(let S=0;S<T.length;S++){const R=T[S];if(R.equals(L[S])===!1)return R.copy(L[S]),!0}}return!1}function y(v){const _=v.uniforms;let x=0;const w=16;let T=0;for(let L=0,S=_.length;L<S;L++){const R=_[L],I={boundary:0,storage:0},J=Array.isArray(R.value)?R.value:[R.value];for(let fe=0,U=J.length;fe<U;fe++){const z=J[fe],K=h(z);I.boundary+=K.boundary,I.storage+=K.storage}if(R.__data=new Float32Array(I.storage/Float32Array.BYTES_PER_ELEMENT),R.__offset=x,L>0){T=x%w;const fe=w-T;T!==0&&fe-I.boundary<0&&(x+=w-T,R.__offset=x)}x+=I.storage}return T=x%w,T>0&&(x+=w-T),v.__size=x,v.__cache={},this}function h(v){const _={boundary:0,storage:0};return typeof v=="number"?(_.boundary=4,_.storage=4):v.isVector2?(_.boundary=8,_.storage=8):v.isVector3||v.isColor?(_.boundary=16,_.storage=12):v.isVector4?(_.boundary=16,_.storage=16):v.isMatrix3?(_.boundary=48,_.storage=48):v.isMatrix4?(_.boundary=64,_.storage=64):v.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",v),_}function m(v){const _=v.target;_.removeEventListener("dispose",m);const x=s.indexOf(_.__bindingPointIndex);s.splice(x,1),t.deleteBuffer(r[_.id]),delete r[_.id],delete o[_.id]}function g(){for(const v in r)t.deleteBuffer(r[v]);s=[],r={},o={}}return{bind:l,update:u,dispose:g}}function bP(){const t=el("canvas");return t.style.display="block",t}function GS(t={}){this.isWebGLRenderer=!0;const e=t.canvas!==void 0?t.canvas:bP(),n=t.context!==void 0?t.context:null,i=t.depth!==void 0?t.depth:!0,r=t.stencil!==void 0?t.stencil:!0,o=t.antialias!==void 0?t.antialias:!1,s=t.premultipliedAlpha!==void 0?t.premultipliedAlpha:!0,a=t.preserveDrawingBuffer!==void 0?t.preserveDrawingBuffer:!1,l=t.powerPreference!==void 0?t.powerPreference:"default",u=t.failIfMajorPerformanceCaveat!==void 0?t.failIfMajorPerformanceCaveat:!1;let c;n!==null?c=n.getContextAttributes().alpha:c=t.alpha!==void 0?t.alpha:!1;let f=null,d=null;const p=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=no,this.physicallyCorrectLights=!1,this.toneMapping=Oi,this.toneMappingExposure=1;const h=this;let m=!1,g=0,v=0,_=null,x=-1,w=null;const T=new _t,L=new _t;let S=null,R=e.width,I=e.height,J=1,fe=null,U=null;const z=new _t(0,0,R,I),K=new _t(0,0,R,I);let oe=!1;const ie=new zm;let F=!1,Y=!1,Z=null;const me=new dt,M=new Ce,C=new G,N={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function W(){return _===null?J:1}let b=n;function ne(A,q){for(let re=0;re<A.length;re++){const j=A[re],ae=e.getContext(j,q);if(ae!==null)return ae}return null}try{const A={alpha:!0,depth:i,stencil:r,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${Im}`),e.addEventListener("webglcontextlost",ke,!1),e.addEventListener("webglcontextrestored",O,!1),e.addEventListener("webglcontextcreationerror",k,!1),b===null){const q=["webgl2","webgl","experimental-webgl"];if(h.isWebGL1Renderer===!0&&q.shift(),b=ne(q,A),b===null)throw ne(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}b.getShaderPrecisionFormat===void 0&&(b.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}let $,ee,te,we,V,X,de,ge,he,xe,Te,Pe,ze,Xe,P,E,H,le,Se,be,Ne,Ae,ue,Ie;function Fe(){$=new kR(b),ee=new AR(b,$,t),$.init(ee),Ae=new vP(b,$,ee),te=new mP(b,$,ee),we=new zR,V=new tP,X=new gP(b,$,te,V,ee,Ae,we),de=new LR(h),ge=new IR(h),he=new jC(b,ee),ue=new TR(b,$,he,ee),xe=new OR(b,he,we,ue),Te=new GR(b,xe,he,we),Se=new VR(b,ee,X),E=new RR(V),Pe=new eP(h,de,ge,$,ee,ue,E),ze=new wP(h,V),Xe=new iP,P=new uP($,ee),le=new ER(h,de,ge,te,Te,c,s),H=new pP(h,Te,ee),Ie=new MP(b,we,ee,te),be=new CR(b,$,we,ee),Ne=new FR(b,$,we,ee),we.programs=Pe.programs,h.capabilities=ee,h.extensions=$,h.properties=V,h.renderLists=Xe,h.shadowMap=H,h.state=te,h.info=we}Fe();const De=new SP(h,b);this.xr=De,this.getContext=function(){return b},this.getContextAttributes=function(){return b.getContextAttributes()},this.forceContextLoss=function(){const A=$.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){const A=$.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return J},this.setPixelRatio=function(A){A!==void 0&&(J=A,this.setSize(R,I,!1))},this.getSize=function(A){return A.set(R,I)},this.setSize=function(A,q,re){if(De.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}R=A,I=q,e.width=Math.floor(A*J),e.height=Math.floor(q*J),re!==!1&&(e.style.width=A+"px",e.style.height=q+"px"),this.setViewport(0,0,A,q)},this.getDrawingBufferSize=function(A){return A.set(R*J,I*J).floor()},this.setDrawingBufferSize=function(A,q,re){R=A,I=q,J=re,e.width=Math.floor(A*re),e.height=Math.floor(q*re),this.setViewport(0,0,A,q)},this.getCurrentViewport=function(A){return A.copy(T)},this.getViewport=function(A){return A.copy(z)},this.setViewport=function(A,q,re,j){A.isVector4?z.set(A.x,A.y,A.z,A.w):z.set(A,q,re,j),te.viewport(T.copy(z).multiplyScalar(J).floor())},this.getScissor=function(A){return A.copy(K)},this.setScissor=function(A,q,re,j){A.isVector4?K.set(A.x,A.y,A.z,A.w):K.set(A,q,re,j),te.scissor(L.copy(K).multiplyScalar(J).floor())},this.getScissorTest=function(){return oe},this.setScissorTest=function(A){te.setScissorTest(oe=A)},this.setOpaqueSort=function(A){fe=A},this.setTransparentSort=function(A){U=A},this.getClearColor=function(A){return A.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(A=!0,q=!0,re=!0){let j=0;A&&(j|=16384),q&&(j|=256),re&&(j|=1024),b.clear(j)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",ke,!1),e.removeEventListener("webglcontextrestored",O,!1),e.removeEventListener("webglcontextcreationerror",k,!1),Xe.dispose(),P.dispose(),V.dispose(),de.dispose(),ge.dispose(),Te.dispose(),ue.dispose(),Ie.dispose(),Pe.dispose(),De.dispose(),De.removeEventListener("sessionstart",ce),De.removeEventListener("sessionend",pe),Z&&(Z.dispose(),Z=null),Re.stop()};function ke(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function O(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;const A=we.autoReset,q=H.enabled,re=H.autoUpdate,j=H.needsUpdate,ae=H.type;Fe(),we.autoReset=A,H.enabled=q,H.autoUpdate=re,H.needsUpdate=j,H.type=ae}function k(A){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",A.statusMessage)}function se(A){const q=A.target;q.removeEventListener("dispose",se),ye(q)}function ye(A){D(A),V.remove(A)}function D(A){const q=V.get(A).programs;q!==void 0&&(q.forEach(function(re){Pe.releaseProgram(re)}),A.isShaderMaterial&&Pe.releaseShaderCache(A))}this.renderBufferDirect=function(A,q,re,j,ae,Oe){q===null&&(q=N);const Be=ae.isMesh&&ae.matrixWorld.determinant()<0,je=Tr(A,q,re,j,ae);te.setMaterial(j,Be);let Ye=re.index,tt=1;j.wireframe===!0&&(Ye=xe.getWireframeAttribute(re),tt=2);const Ke=re.drawRange,Je=re.attributes.position;let At=Ke.start*tt,Sn=(Ke.start+Ke.count)*tt;Oe!==null&&(At=Math.max(At,Oe.start*tt),Sn=Math.min(Sn,(Oe.start+Oe.count)*tt)),Ye!==null?(At=Math.max(At,0),Sn=Math.min(Sn,Ye.count)):Je!=null&&(At=Math.max(At,0),Sn=Math.min(Sn,Je.count));const Si=Sn-At;if(Si<0||Si===1/0)return;ue.setup(ae,j,je,re,Ye);let Ar,Rt=be;if(Ye!==null&&(Ar=he.get(Ye),Rt=Ne,Rt.setIndex(Ar)),ae.isMesh)j.wireframe===!0?(te.setLineWidth(j.wireframeLinewidth*W()),Rt.setMode(1)):Rt.setMode(4);else if(ae.isLine){let Qe=j.linewidth;Qe===void 0&&(Qe=1),te.setLineWidth(Qe*W()),ae.isLineSegments?Rt.setMode(1):ae.isLineLoop?Rt.setMode(2):Rt.setMode(3)}else ae.isPoints?Rt.setMode(0):ae.isSprite&&Rt.setMode(4);if(ae.isInstancedMesh)Rt.renderInstances(At,Si,ae.count);else if(re.isInstancedBufferGeometry){const Qe=re._maxInstanceCount!==void 0?re._maxInstanceCount:1/0,Cf=Math.min(re.instanceCount,Qe);Rt.renderInstances(At,Si,Cf)}else Rt.render(At,Si)},this.compile=function(A,q){function re(j,ae,Oe){j.transparent===!0&&j.side===nr&&j.forceSinglePass===!1?(j.side=Pn,j.needsUpdate=!0,Dt(j,ae,Oe),j.side=_r,j.needsUpdate=!0,Dt(j,ae,Oe),j.side=nr):Dt(j,ae,Oe)}d=P.get(A),d.init(),y.push(d),A.traverseVisible(function(j){j.isLight&&j.layers.test(q.layers)&&(d.pushLight(j),j.castShadow&&d.pushShadow(j))}),d.setupLights(h.physicallyCorrectLights),A.traverse(function(j){const ae=j.material;if(ae)if(Array.isArray(ae))for(let Oe=0;Oe<ae.length;Oe++){const Be=ae[Oe];re(Be,A,j)}else re(ae,A,j)}),y.pop(),d=null};let B=null;function Q(A){B&&B(A)}function ce(){Re.stop()}function pe(){Re.start()}const Re=new FS;Re.setAnimationLoop(Q),typeof self!="undefined"&&Re.setContext(self),this.setAnimationLoop=function(A){B=A,De.setAnimationLoop(A),A===null?Re.stop():Re.start()},De.addEventListener("sessionstart",ce),De.addEventListener("sessionend",pe),this.render=function(A,q){if(q!==void 0&&q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(m===!0)return;A.matrixWorldAutoUpdate===!0&&A.updateMatrixWorld(),q.parent===null&&q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),De.enabled===!0&&De.isPresenting===!0&&(De.cameraAutoUpdate===!0&&De.updateCamera(q),q=De.getCamera()),A.isScene===!0&&A.onBeforeRender(h,A,q,_),d=P.get(A,y.length),d.init(),y.push(d),me.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),ie.setFromProjectionMatrix(me),Y=this.localClippingEnabled,F=E.init(this.clippingPlanes,Y),f=Xe.get(A,p.length),f.init(),p.push(f),Ue(A,q,0,h.sortObjects),f.finish(),h.sortObjects===!0&&f.sort(fe,U),F===!0&&E.beginShadows();const re=d.state.shadowsArray;if(H.render(re,A,q),F===!0&&E.endShadows(),this.info.autoReset===!0&&this.info.reset(),le.render(f,A),d.setupLights(h.physicallyCorrectLights),q.isArrayCamera){const j=q.cameras;for(let ae=0,Oe=j.length;ae<Oe;ae++){const Be=j[ae];nt(f,A,Be,Be.viewport)}}else nt(f,A,q);_!==null&&(X.updateMultisampleRenderTarget(_),X.updateRenderTargetMipmap(_)),A.isScene===!0&&A.onAfterRender(h,A,q),ue.resetDefaultState(),x=-1,w=null,y.pop(),y.length>0?d=y[y.length-1]:d=null,p.pop(),p.length>0?f=p[p.length-1]:f=null};function Ue(A,q,re,j){if(A.visible===!1)return;if(A.layers.test(q.layers)){if(A.isGroup)re=A.renderOrder;else if(A.isLOD)A.autoUpdate===!0&&A.update(q);else if(A.isLight)d.pushLight(A),A.castShadow&&d.pushShadow(A);else if(A.isSprite){if(!A.frustumCulled||ie.intersectsSprite(A)){j&&C.setFromMatrixPosition(A.matrixWorld).applyMatrix4(me);const Be=Te.update(A),je=A.material;je.visible&&f.push(A,Be,je,re,C.z,null)}}else if((A.isMesh||A.isLine||A.isPoints)&&(A.isSkinnedMesh&&A.skeleton.frame!==we.render.frame&&(A.skeleton.update(),A.skeleton.frame=we.render.frame),!A.frustumCulled||ie.intersectsObject(A))){j&&C.setFromMatrixPosition(A.matrixWorld).applyMatrix4(me);const Be=Te.update(A),je=A.material;if(Array.isArray(je)){const Ye=Be.groups;for(let tt=0,Ke=Ye.length;tt<Ke;tt++){const Je=Ye[tt],At=je[Je.materialIndex];At&&At.visible&&f.push(A,Be,At,re,C.z,Je)}}else je.visible&&f.push(A,Be,je,re,C.z,null)}}const Oe=A.children;for(let Be=0,je=Oe.length;Be<je;Be++)Ue(Oe[Be],q,re,j)}function nt(A,q,re,j){const ae=A.opaque,Oe=A.transmissive,Be=A.transparent;d.setupLightsView(re),F===!0&&E.setGlobalState(h.clippingPlanes,re),Oe.length>0&&ut(ae,q,re),j&&te.viewport(T.copy(j)),ae.length>0&&qe(ae,q,re),Oe.length>0&&qe(Oe,q,re),Be.length>0&&qe(Be,q,re),te.buffers.depth.setTest(!0),te.buffers.depth.setMask(!0),te.buffers.color.setMask(!0),te.setPolygonOffset(!1)}function ut(A,q,re){const j=ee.isWebGL2;Z===null&&(Z=new io(1,1,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")?Ja:to,minFilter:Ka,samples:j&&o===!0?4:0})),h.getDrawingBufferSize(M),j?Z.setSize(M.x,M.y):Z.setSize(fp(M.x),fp(M.y));const ae=h.getRenderTarget();h.setRenderTarget(Z),h.clear();const Oe=h.toneMapping;h.toneMapping=Oi,qe(A,q,re),h.toneMapping=Oe,X.updateMultisampleRenderTarget(Z),X.updateRenderTargetMipmap(Z),h.setRenderTarget(ae)}function qe(A,q,re){const j=q.isScene===!0?q.overrideMaterial:null;for(let ae=0,Oe=A.length;ae<Oe;ae++){const Be=A[ae],je=Be.object,Ye=Be.geometry,tt=j===null?Be.material:j,Ke=Be.group;je.layers.test(re.layers)&&Tt(je,q,re,Ye,tt,Ke)}}function Tt(A,q,re,j,ae,Oe){A.onBeforeRender(h,q,re,j,ae,Oe),A.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),ae.onBeforeRender(h,q,re,j,A,Oe),ae.transparent===!0&&ae.side===nr&&ae.forceSinglePass===!1?(ae.side=Pn,ae.needsUpdate=!0,h.renderBufferDirect(re,q,j,ae,A,Oe),ae.side=_r,ae.needsUpdate=!0,h.renderBufferDirect(re,q,j,ae,A,Oe),ae.side=nr):h.renderBufferDirect(re,q,j,ae,A,Oe),A.onAfterRender(h,q,re,j,ae,Oe)}function Dt(A,q,re){q.isScene!==!0&&(q=N);const j=V.get(A),ae=d.state.lights,Oe=d.state.shadowsArray,Be=ae.state.version,je=Pe.getParameters(A,ae.state,Oe,q,re),Ye=Pe.getProgramCacheKey(je);let tt=j.programs;j.environment=A.isMeshStandardMaterial?q.environment:null,j.fog=q.fog,j.envMap=(A.isMeshStandardMaterial?ge:de).get(A.envMap||j.environment),tt===void 0&&(A.addEventListener("dispose",se),tt=new Map,j.programs=tt);let Ke=tt.get(Ye);if(Ke!==void 0){if(j.currentProgram===Ke&&j.lightsStateVersion===Be)return Er(A,je),Ke}else je.uniforms=Pe.getUniforms(A),A.onBuild(re,je,h),A.onBeforeCompile(je,h),Ke=Pe.acquireProgram(je,Ye),tt.set(Ye,Ke),j.uniforms=je.uniforms;const Je=j.uniforms;(!A.isShaderMaterial&&!A.isRawShaderMaterial||A.clipping===!0)&&(Je.clippingPlanes=E.uniform),Er(A,je),j.needsLights=Aw(A),j.lightsStateVersion=Be,j.needsLights&&(Je.ambientLightColor.value=ae.state.ambient,Je.lightProbe.value=ae.state.probe,Je.directionalLights.value=ae.state.directional,Je.directionalLightShadows.value=ae.state.directionalShadow,Je.spotLights.value=ae.state.spot,Je.spotLightShadows.value=ae.state.spotShadow,Je.rectAreaLights.value=ae.state.rectArea,Je.ltc_1.value=ae.state.rectAreaLTC1,Je.ltc_2.value=ae.state.rectAreaLTC2,Je.pointLights.value=ae.state.point,Je.pointLightShadows.value=ae.state.pointShadow,Je.hemisphereLights.value=ae.state.hemi,Je.directionalShadowMap.value=ae.state.directionalShadowMap,Je.directionalShadowMatrix.value=ae.state.directionalShadowMatrix,Je.spotShadowMap.value=ae.state.spotShadowMap,Je.spotLightMatrix.value=ae.state.spotLightMatrix,Je.spotLightMap.value=ae.state.spotLightMap,Je.pointShadowMap.value=ae.state.pointShadowMap,Je.pointShadowMatrix.value=ae.state.pointShadowMatrix);const At=Ke.getUniforms(),Sn=Pu.seqWithValue(At.seq,Je);return j.currentProgram=Ke,j.uniformsList=Sn,Ke}function Er(A,q){const re=V.get(A);re.outputEncoding=q.outputEncoding,re.instancing=q.instancing,re.skinning=q.skinning,re.morphTargets=q.morphTargets,re.morphNormals=q.morphNormals,re.morphColors=q.morphColors,re.morphTargetsCount=q.morphTargetsCount,re.numClippingPlanes=q.numClippingPlanes,re.numIntersection=q.numClipIntersection,re.vertexAlphas=q.vertexAlphas,re.vertexTangents=q.vertexTangents,re.toneMapping=q.toneMapping}function Tr(A,q,re,j,ae){q.isScene!==!0&&(q=N),X.resetTextureUnits();const Oe=q.fog,Be=j.isMeshStandardMaterial?q.environment:null,je=_===null?h.outputEncoding:_.isXRRenderTarget===!0?_.texture.encoding:no,Ye=(j.isMeshStandardMaterial?ge:de).get(j.envMap||Be),tt=j.vertexColors===!0&&!!re.attributes.color&&re.attributes.color.itemSize===4,Ke=!!j.normalMap&&!!re.attributes.tangent,Je=!!re.morphAttributes.position,At=!!re.morphAttributes.normal,Sn=!!re.morphAttributes.color,Si=j.toneMapped?h.toneMapping:Oi,Ar=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,Rt=Ar!==void 0?Ar.length:0,Qe=V.get(j),Cf=d.state.lights;if(F===!0&&(Y===!0||A!==w)){const wn=A===w&&j.id===x;E.setState(j,A,wn)}let Ut=!1;j.version===Qe.__version?(Qe.needsLights&&Qe.lightsStateVersion!==Cf.state.version||Qe.outputEncoding!==je||ae.isInstancedMesh&&Qe.instancing===!1||!ae.isInstancedMesh&&Qe.instancing===!0||ae.isSkinnedMesh&&Qe.skinning===!1||!ae.isSkinnedMesh&&Qe.skinning===!0||Qe.envMap!==Ye||j.fog===!0&&Qe.fog!==Oe||Qe.numClippingPlanes!==void 0&&(Qe.numClippingPlanes!==E.numPlanes||Qe.numIntersection!==E.numIntersection)||Qe.vertexAlphas!==tt||Qe.vertexTangents!==Ke||Qe.morphTargets!==Je||Qe.morphNormals!==At||Qe.morphColors!==Sn||Qe.toneMapping!==Si||ee.isWebGL2===!0&&Qe.morphTargetsCount!==Rt)&&(Ut=!0):(Ut=!0,Qe.__version=j.version);let Rr=Qe.currentProgram;Ut===!0&&(Rr=Dt(j,q,ae));let cg=!1,Fs=!1,Af=!1;const en=Rr.getUniforms(),Lr=Qe.uniforms;if(te.useProgram(Rr.program)&&(cg=!0,Fs=!0,Af=!0),j.id!==x&&(x=j.id,Fs=!0),cg||w!==A){if(en.setValue(b,"projectionMatrix",A.projectionMatrix),ee.logarithmicDepthBuffer&&en.setValue(b,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),w!==A&&(w=A,Fs=!0,Af=!0),j.isShaderMaterial||j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshStandardMaterial||j.envMap){const wn=en.map.cameraPosition;wn!==void 0&&wn.setValue(b,C.setFromMatrixPosition(A.matrixWorld))}(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial)&&en.setValue(b,"isOrthographic",A.isOrthographicCamera===!0),(j.isMeshPhongMaterial||j.isMeshToonMaterial||j.isMeshLambertMaterial||j.isMeshBasicMaterial||j.isMeshStandardMaterial||j.isShaderMaterial||j.isShadowMaterial||ae.isSkinnedMesh)&&en.setValue(b,"viewMatrix",A.matrixWorldInverse)}if(ae.isSkinnedMesh){en.setOptional(b,ae,"bindMatrix"),en.setOptional(b,ae,"bindMatrixInverse");const wn=ae.skeleton;wn&&(ee.floatVertexTextures?(wn.boneTexture===null&&wn.computeBoneTexture(),en.setValue(b,"boneTexture",wn.boneTexture,X),en.setValue(b,"boneTextureSize",wn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Rf=re.morphAttributes;if((Rf.position!==void 0||Rf.normal!==void 0||Rf.color!==void 0&&ee.isWebGL2===!0)&&Se.update(ae,re,j,Rr),(Fs||Qe.receiveShadow!==ae.receiveShadow)&&(Qe.receiveShadow=ae.receiveShadow,en.setValue(b,"receiveShadow",ae.receiveShadow)),j.isMeshGouraudMaterial&&j.envMap!==null&&(Lr.envMap.value=Ye,Lr.flipEnvMap.value=Ye.isCubeTexture&&Ye.isRenderTargetTexture===!1?-1:1),Fs&&(en.setValue(b,"toneMappingExposure",h.toneMappingExposure),Qe.needsLights&&Cr(Lr,Af),Oe&&j.fog===!0&&ze.refreshFogUniforms(Lr,Oe),ze.refreshMaterialUniforms(Lr,j,J,I,Z),Pu.upload(b,Qe.uniformsList,Lr,X)),j.isShaderMaterial&&j.uniformsNeedUpdate===!0&&(Pu.upload(b,Qe.uniformsList,Lr,X),j.uniformsNeedUpdate=!1),j.isSpriteMaterial&&en.setValue(b,"center",ae.center),en.setValue(b,"modelViewMatrix",ae.modelViewMatrix),en.setValue(b,"normalMatrix",ae.normalMatrix),en.setValue(b,"modelMatrix",ae.matrixWorld),j.isShaderMaterial||j.isRawShaderMaterial){const wn=j.uniformsGroups;for(let Lf=0,Rw=wn.length;Lf<Rw;Lf++)if(ee.isWebGL2){const fg=wn[Lf];Ie.update(fg,Rr),Ie.bind(fg,Rr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Rr}function Cr(A,q){A.ambientLightColor.needsUpdate=q,A.lightProbe.needsUpdate=q,A.directionalLights.needsUpdate=q,A.directionalLightShadows.needsUpdate=q,A.pointLights.needsUpdate=q,A.pointLightShadows.needsUpdate=q,A.spotLights.needsUpdate=q,A.spotLightShadows.needsUpdate=q,A.rectAreaLights.needsUpdate=q,A.hemisphereLights.needsUpdate=q}function Aw(A){return A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&A.lights===!0}this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return v},this.getRenderTarget=function(){return _},this.setRenderTargetTextures=function(A,q,re){V.get(A.texture).__webglTexture=q,V.get(A.depthTexture).__webglTexture=re;const j=V.get(A);j.__hasExternalTextures=!0,j.__hasExternalTextures&&(j.__autoAllocateDepthBuffer=re===void 0,j.__autoAllocateDepthBuffer||$.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),j.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(A,q){const re=V.get(A);re.__webglFramebuffer=q,re.__useDefaultFramebuffer=q===void 0},this.setRenderTarget=function(A,q=0,re=0){_=A,g=q,v=re;let j=!0,ae=null,Oe=!1,Be=!1;if(A){const Ye=V.get(A);Ye.__useDefaultFramebuffer!==void 0?(te.bindFramebuffer(36160,null),j=!1):Ye.__webglFramebuffer===void 0?X.setupRenderTarget(A):Ye.__hasExternalTextures&&X.rebindTextures(A,V.get(A.texture).__webglTexture,V.get(A.depthTexture).__webglTexture);const tt=A.texture;(tt.isData3DTexture||tt.isDataArrayTexture||tt.isCompressedArrayTexture)&&(Be=!0);const Ke=V.get(A).__webglFramebuffer;A.isWebGLCubeRenderTarget?(ae=Ke[q],Oe=!0):ee.isWebGL2&&A.samples>0&&X.useMultisampledRTT(A)===!1?ae=V.get(A).__webglMultisampledFramebuffer:ae=Ke,T.copy(A.viewport),L.copy(A.scissor),S=A.scissorTest}else T.copy(z).multiplyScalar(J).floor(),L.copy(K).multiplyScalar(J).floor(),S=oe;if(te.bindFramebuffer(36160,ae)&&ee.drawBuffers&&j&&te.drawBuffers(A,ae),te.viewport(T),te.scissor(L),te.setScissorTest(S),Oe){const Ye=V.get(A.texture);b.framebufferTexture2D(36160,36064,34069+q,Ye.__webglTexture,re)}else if(Be){const Ye=V.get(A.texture),tt=q||0;b.framebufferTextureLayer(36160,36064,Ye.__webglTexture,re||0,tt)}x=-1},this.readRenderTargetPixels=function(A,q,re,j,ae,Oe,Be){if(!(A&&A.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let je=V.get(A).__webglFramebuffer;if(A.isWebGLCubeRenderTarget&&Be!==void 0&&(je=je[Be]),je){te.bindFramebuffer(36160,je);try{const Ye=A.texture,tt=Ye.format,Ke=Ye.type;if(tt!==Vn&&Ae.convert(tt)!==b.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Je=Ke===Ja&&($.has("EXT_color_buffer_half_float")||ee.isWebGL2&&$.has("EXT_color_buffer_float"));if(Ke!==to&&Ae.convert(Ke)!==b.getParameter(35738)&&!(Ke===ir&&(ee.isWebGL2||$.has("OES_texture_float")||$.has("WEBGL_color_buffer_float")))&&!Je){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}q>=0&&q<=A.width-j&&re>=0&&re<=A.height-ae&&b.readPixels(q,re,j,ae,Ae.convert(tt),Ae.convert(Ke),Oe)}finally{const Ye=_!==null?V.get(_).__webglFramebuffer:null;te.bindFramebuffer(36160,Ye)}}},this.copyFramebufferToTexture=function(A,q,re=0){const j=Math.pow(2,-re),ae=Math.floor(q.image.width*j),Oe=Math.floor(q.image.height*j);X.setTexture2D(q,0),b.copyTexSubImage2D(3553,re,0,0,A.x,A.y,ae,Oe),te.unbindTexture()},this.copyTextureToTexture=function(A,q,re,j=0){const ae=q.image.width,Oe=q.image.height,Be=Ae.convert(re.format),je=Ae.convert(re.type);X.setTexture2D(re,0),b.pixelStorei(37440,re.flipY),b.pixelStorei(37441,re.premultiplyAlpha),b.pixelStorei(3317,re.unpackAlignment),q.isDataTexture?b.texSubImage2D(3553,j,A.x,A.y,ae,Oe,Be,je,q.image.data):q.isCompressedTexture?b.compressedTexSubImage2D(3553,j,A.x,A.y,q.mipmaps[0].width,q.mipmaps[0].height,Be,q.mipmaps[0].data):b.texSubImage2D(3553,j,A.x,A.y,Be,je,q.image),j===0&&re.generateMipmaps&&b.generateMipmap(3553),te.unbindTexture()},this.copyTextureToTexture3D=function(A,q,re,j,ae=0){if(h.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Oe=A.max.x-A.min.x+1,Be=A.max.y-A.min.y+1,je=A.max.z-A.min.z+1,Ye=Ae.convert(j.format),tt=Ae.convert(j.type);let Ke;if(j.isData3DTexture)X.setTexture3D(j,0),Ke=32879;else if(j.isDataArrayTexture)X.setTexture2DArray(j,0),Ke=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}b.pixelStorei(37440,j.flipY),b.pixelStorei(37441,j.premultiplyAlpha),b.pixelStorei(3317,j.unpackAlignment);const Je=b.getParameter(3314),At=b.getParameter(32878),Sn=b.getParameter(3316),Si=b.getParameter(3315),Ar=b.getParameter(32877),Rt=re.isCompressedTexture?re.mipmaps[0]:re.image;b.pixelStorei(3314,Rt.width),b.pixelStorei(32878,Rt.height),b.pixelStorei(3316,A.min.x),b.pixelStorei(3315,A.min.y),b.pixelStorei(32877,A.min.z),re.isDataTexture||re.isData3DTexture?b.texSubImage3D(Ke,ae,q.x,q.y,q.z,Oe,Be,je,Ye,tt,Rt.data):re.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),b.compressedTexSubImage3D(Ke,ae,q.x,q.y,q.z,Oe,Be,je,Ye,Rt.data)):b.texSubImage3D(Ke,ae,q.x,q.y,q.z,Oe,Be,je,Ye,tt,Rt),b.pixelStorei(3314,Je),b.pixelStorei(32878,At),b.pixelStorei(3316,Sn),b.pixelStorei(3315,Si),b.pixelStorei(32877,Ar),ae===0&&j.generateMipmaps&&b.generateMipmap(Ke),te.unbindTexture()},this.initTexture=function(A){A.isCubeTexture?X.setTextureCube(A,0):A.isData3DTexture?X.setTexture3D(A,0):A.isDataArrayTexture||A.isCompressedArrayTexture?X.setTexture2DArray(A,0):X.setTexture2D(A,0),te.unbindTexture()},this.resetState=function(){g=0,v=0,_=null,te.reset(),ue.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class EP extends GS{}EP.prototype.isWebGL1Renderer=!0;class TP extends an{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class CP extends Jt{constructor(e=null,n=1,i=1,r,o,s,a,l,u=Gt,c=Gt,f,d){super(null,s,a,l,u,c,r,o,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Qv extends oi{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const e_=new dt,t_=new dt,su=[],AP=new dt,Qs=new pn;class RP extends pn{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Qv(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1;for(let r=0;r<i;r++)this.setMatrixAt(r,AP)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Qs.geometry=this.geometry,Qs.material=this.material,Qs.material!==void 0)for(let o=0;o<r;o++){this.getMatrixAt(o,e_),t_.multiplyMatrices(i,e_),Qs.matrixWorld=t_,Qs.raycast(e,su);for(let s=0,a=su.length;s<a;s++){const l=su[s];l.instanceId=o,l.object=this,n.push(l)}su.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Qv(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class HS extends fo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new rt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const n_=new G,i_=new G,r_=new dt,Bd=new LS,au=new tf;class LP extends an{constructor(e=new ai,n=new HS){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,o=n.count;r<o;r++)n_.fromBufferAttribute(n,r-1),i_.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=n_.distanceTo(i_);e.setAttribute("lineDistance",new Dn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,o=e.params.Line.threshold,s=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),au.copy(i.boundingSphere),au.applyMatrix4(r),au.radius+=o,e.ray.intersectsSphere(au)===!1)return;r_.copy(r).invert(),Bd.copy(e.ray).applyMatrix4(r_);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new G,c=new G,f=new G,d=new G,p=this.isLineSegments?2:1,y=i.index,m=i.attributes.position;if(y!==null){const g=Math.max(0,s.start),v=Math.min(y.count,s.start+s.count);for(let _=g,x=v-1;_<x;_+=p){const w=y.getX(_),T=y.getX(_+1);if(u.fromBufferAttribute(m,w),c.fromBufferAttribute(m,T),Bd.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const S=e.ray.origin.distanceTo(d);S<e.near||S>e.far||n.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,s.start),v=Math.min(m.count,s.start+s.count);for(let _=g,x=v-1;_<x;_+=p){if(u.fromBufferAttribute(m,_),c.fromBufferAttribute(m,_+1),Bd.distanceSqToSegment(u,c,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(d);T<e.near||T>e.far||n.push({distance:T,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=r.length;o<s;o++){const a=r[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}class PP extends LP{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class DP extends Jt{constructor(e,n,i,r,o,s,a,l,u){super(e,n,i,r,o,s,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class _i{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const i=this.getUtoTmapping(e);return this.getPoint(i,n)}getPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return n}getSpacedPoints(e=5){const n=[];for(let i=0;i<=e;i++)n.push(this.getPointAt(i/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let i,r=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),o+=i.distanceTo(r),n.push(o),r=i;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const i=this.getLengths();let r=0;const o=i.length;let s;n?s=n:s=e*i[o-1];let a=0,l=o-1,u;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),u=i[r]-s,u<0)a=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===s)return r/(o-1);const c=i[r],d=i[r+1]-c,p=(s-c)/d;return(r+p)/(o-1)}getTangent(e,n){let r=e-1e-4,o=e+1e-4;r<0&&(r=0),o>1&&(o=1);const s=this.getPoint(r),a=this.getPoint(o),l=n||(s.isVector2?new Ce:new G);return l.copy(a).sub(s).normalize(),l}getTangentAt(e,n){const i=this.getUtoTmapping(e);return this.getTangent(i,n)}computeFrenetFrames(e,n){const i=new G,r=[],o=[],s=[],a=new G,l=new dt;for(let p=0;p<=e;p++){const y=p/e;r[p]=this.getTangentAt(y,new G)}o[0]=new G,s[0]=new G;let u=Number.MAX_VALUE;const c=Math.abs(r[0].x),f=Math.abs(r[0].y),d=Math.abs(r[0].z);c<=u&&(u=c,i.set(1,0,0)),f<=u&&(u=f,i.set(0,1,0)),d<=u&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),o[0].crossVectors(r[0],a),s[0].crossVectors(r[0],o[0]);for(let p=1;p<=e;p++){if(o[p]=o[p-1].clone(),s[p]=s[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(on(r[p-1].dot(r[p]),-1,1));o[p].applyMatrix4(l.makeRotationAxis(a,y))}s[p].crossVectors(r[p],o[p])}if(n===!0){let p=Math.acos(on(o[0].dot(o[e]),-1,1));p/=e,r[0].dot(a.crossVectors(o[0],o[e]))>0&&(p=-p);for(let y=1;y<=e;y++)o[y].applyMatrix4(l.makeRotationAxis(r[y],p*y)),s[y].crossVectors(r[y],o[y])}return{tangents:r,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Vm extends _i{constructor(e=0,n=0,i=1,r=1,o=0,s=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=i,this.yRadius=r,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const i=n||new Ce,r=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=r;for(;o>r;)o-=r;o<Number.EPSILON&&(s?o=0:o=r),this.aClockwise===!0&&!s&&(o===r?o=-r:o=o-r);const a=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=u-this.aY;l=d*c-p*f+this.aX,u=d*f+p*c+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class NP extends Vm{constructor(e,n,i,r,o,s){super(e,n,i,i,r,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function Gm(){let t=0,e=0,n=0,i=0;function r(o,s,a,l){t=o,e=a,n=-3*o+3*s-2*a-l,i=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,u){r(s,a,u*(a-o),u*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,u,c,f){let d=(s-o)/u-(a-o)/(u+c)+(a-s)/c,p=(a-s)/c-(l-s)/(c+f)+(l-a)/f;d*=c,p*=c,r(s,a,d,p)},calc:function(o){const s=o*o,a=s*o;return t+e*o+n*s+i*a}}}const lu=new G,Vd=new Gm,Gd=new Gm,Hd=new Gm;class WS extends _i{constructor(e=[],n=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=i,this.tension=r}getPoint(e,n=new G){const i=n,r=this.points,o=r.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),l=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:l===0&&a===o-1&&(a=o-2,l=1);let u,c;this.closed||a>0?u=r[(a-1)%o]:(lu.subVectors(r[0],r[1]).add(r[0]),u=lu);const f=r[a%o],d=r[(a+1)%o];if(this.closed||a+2<o?c=r[(a+2)%o]:(lu.subVectors(r[o-1],r[o-2]).add(r[o-1]),c=lu),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(f),p),h=Math.pow(f.distanceToSquared(d),p),m=Math.pow(d.distanceToSquared(c),p);h<1e-4&&(h=1),y<1e-4&&(y=h),m<1e-4&&(m=h),Vd.initNonuniformCatmullRom(u.x,f.x,d.x,c.x,y,h,m),Gd.initNonuniformCatmullRom(u.y,f.y,d.y,c.y,y,h,m),Hd.initNonuniformCatmullRom(u.z,f.z,d.z,c.z,y,h,m)}else this.curveType==="catmullrom"&&(Vd.initCatmullRom(u.x,f.x,d.x,c.x,this.tension),Gd.initCatmullRom(u.y,f.y,d.y,c.y,this.tension),Hd.initCatmullRom(u.z,f.z,d.z,c.z,this.tension));return i.set(Vd.calc(l),Gd.calc(l),Hd.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new G().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function o_(t,e,n,i,r){const o=(i-e)*.5,s=(r-n)*.5,a=t*t,l=t*a;return(2*n-2*i+o+s)*l+(-3*n+3*i-2*o-s)*a+o*t+n}function IP(t,e){const n=1-t;return n*n*e}function kP(t,e){return 2*(1-t)*t*e}function OP(t,e){return t*t*e}function Ca(t,e,n,i){return IP(t,e)+kP(t,n)+OP(t,i)}function FP(t,e){const n=1-t;return n*n*n*e}function zP(t,e){const n=1-t;return 3*n*n*t*e}function UP(t,e){return 3*(1-t)*t*t*e}function BP(t,e){return t*t*t*e}function Aa(t,e,n,i,r){return FP(t,e)+zP(t,n)+UP(t,i)+BP(t,r)}class $S extends _i{constructor(e=new Ce,n=new Ce,i=new Ce,r=new Ce){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new Ce){const i=n,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(Aa(e,r.x,o.x,s.x,a.x),Aa(e,r.y,o.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class VP extends _i{constructor(e=new G,n=new G,i=new G,r=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=i,this.v3=r}getPoint(e,n=new G){const i=n,r=this.v0,o=this.v1,s=this.v2,a=this.v3;return i.set(Aa(e,r.x,o.x,s.x,a.x),Aa(e,r.y,o.y,s.y,a.y),Aa(e,r.z,o.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Hm extends _i{constructor(e=new Ce,n=new Ce){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ce){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n){const i=n||new Ce;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class GP extends _i{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const i=n;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,n){return this.getPoint(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jS extends _i{constructor(e=new Ce,n=new Ce,i=new Ce){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new Ce){const i=n,r=this.v0,o=this.v1,s=this.v2;return i.set(Ca(e,r.x,o.x,s.x),Ca(e,r.y,o.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class HP extends _i{constructor(e=new G,n=new G,i=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=i}getPoint(e,n=new G){const i=n,r=this.v0,o=this.v1,s=this.v2;return i.set(Ca(e,r.x,o.x,s.x),Ca(e,r.y,o.y,s.y),Ca(e,r.z,o.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class XS extends _i{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ce){const i=n,r=this.points,o=(r.length-1)*e,s=Math.floor(o),a=o-s,l=r[s===0?s:s-1],u=r[s],c=r[s>r.length-2?r.length-1:s+1],f=r[s>r.length-3?r.length-1:s+2];return i.set(o_(a,l.x,u.x,c.x,f.x),o_(a,l.y,u.y,c.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,i=this.points.length;n<i;n++){const r=this.points[n];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,i=e.points.length;n<i;n++){const r=e.points[n];this.points.push(new Ce().fromArray(r))}return this}}var qS=Object.freeze({__proto__:null,ArcCurve:NP,CatmullRomCurve3:WS,CubicBezierCurve:$S,CubicBezierCurve3:VP,EllipseCurve:Vm,LineCurve:Hm,LineCurve3:GP,QuadraticBezierCurve:jS,QuadraticBezierCurve3:HP,SplineCurve:XS});class WP extends _i{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new Hm(n,e))}getPoint(e,n){const i=e*this.getLength(),r=this.getCurveLengths();let o=0;for(;o<r.length;){if(r[o]>=i){const s=r[o]-i,a=this.curves[o],l=a.getLength(),u=l===0?0:1-s/l;return a.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let i=0,r=this.curves.length;i<r;i++)n+=this.curves[i].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let i=0;i<=e;i++)n.push(this.getPoint(i/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let i;for(let r=0,o=this.curves;r<o.length;r++){const s=o[r],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,l=s.getPoints(a);for(let u=0;u<l.length;u++){const c=l[u];i&&i.equals(c)||(n.push(c),i=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,i=this.curves.length;n<i;n++){const r=this.curves[n];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,i=e.curves.length;n<i;n++){const r=e.curves[n];this.curves.push(new qS[r.type]().fromJSON(r))}return this}}class hp extends WP{constructor(e){super(),this.type="Path",this.currentPoint=new Ce,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,i=e.length;n<i;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const i=new Hm(this.currentPoint.clone(),new Ce(e,n));return this.curves.push(i),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,i,r){const o=new jS(this.currentPoint.clone(),new Ce(e,n),new Ce(i,r));return this.curves.push(o),this.currentPoint.set(i,r),this}bezierCurveTo(e,n,i,r,o,s){const a=new $S(this.currentPoint.clone(),new Ce(e,n),new Ce(i,r),new Ce(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),i=new XS(n);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,i,r,o,s){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,i,r,o,s),this}absarc(e,n,i,r,o,s){return this.absellipse(e,n,i,i,r,o,s),this}ellipse(e,n,i,r,o,s,a,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,i,r,o,s,a,l),this}absellipse(e,n,i,r,o,s,a,l){const u=new Vm(e,n,i,r,o,s,a,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Du extends hp{constructor(e){super(e),this.uuid=Ns(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let i=0,r=this.holes.length;i<r;i++)n[i]=this.holes[i].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,i=this.holes.length;n<i;n++){const r=this.holes[n];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,i=e.holes.length;n<i;n++){const r=e.holes[n];this.holes.push(new hp().fromJSON(r))}return this}}const $P={triangulate:function(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let o=YS(t,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,u,c,f,d,p;if(i&&(o=ZP(t,e,o,n)),t.length>80*n){a=u=t[0],l=c=t[1];for(let y=n;y<r;y+=n)f=t[y],d=t[y+1],f<a&&(a=f),d<l&&(l=d),f>u&&(u=f),d>c&&(c=d);p=Math.max(u-a,c-l),p=p!==0?32767/p:0}return tl(o,s,n,a,l,p,0),s}};function YS(t,e,n,i,r){let o,s;if(r===aD(t,e,n,i)>0)for(o=e;o<n;o+=i)s=s_(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=s_(o,t[o],t[o+1],s);return s&&of(s,s.next)&&(il(s),s=s.next),s}function oo(t,e){if(!t)return t;e||(e=t);let n=t,i;do if(i=!1,!n.steiner&&(of(n,n.next)||wt(n.prev,n,n.next)===0)){if(il(n),n=e=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==e);return e}function tl(t,e,n,i,r,o,s){if(!t)return;!s&&o&&tD(t,i,r,o);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?XP(t,i,r,o):jP(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),il(t),t=u.next,a=u.next;continue}if(t=u,t===a){s?s===1?(t=qP(oo(t),e,n),tl(t,e,n,i,r,o,2)):s===2&&YP(t,e,n,i,r,o):tl(oo(t),e,n,i,r,o,1);break}}}function jP(t){const e=t.prev,n=t,i=t.next;if(wt(e,n,i)>=0)return!1;const r=e.x,o=n.x,s=i.x,a=e.y,l=n.y,u=i.y,c=r<o?r<s?r:s:o<s?o:s,f=a<l?a<u?a:u:l<u?l:u,d=r>o?r>s?r:s:o>s?o:s,p=a>l?a>u?a:u:l>u?l:u;let y=i.next;for(;y!==e;){if(y.x>=c&&y.x<=d&&y.y>=f&&y.y<=p&&Zo(r,a,o,l,s,u,y.x,y.y)&&wt(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function XP(t,e,n,i){const r=t.prev,o=t,s=t.next;if(wt(r,o,s)>=0)return!1;const a=r.x,l=o.x,u=s.x,c=r.y,f=o.y,d=s.y,p=a<l?a<u?a:u:l<u?l:u,y=c<f?c<d?c:d:f<d?f:d,h=a>l?a>u?a:u:l>u?l:u,m=c>f?c>d?c:d:f>d?f:d,g=pp(p,y,e,n,i),v=pp(h,m,e,n,i);let _=t.prevZ,x=t.nextZ;for(;_&&_.z>=g&&x&&x.z<=v;){if(_.x>=p&&_.x<=h&&_.y>=y&&_.y<=m&&_!==r&&_!==s&&Zo(a,c,l,f,u,d,_.x,_.y)&&wt(_.prev,_,_.next)>=0||(_=_.prevZ,x.x>=p&&x.x<=h&&x.y>=y&&x.y<=m&&x!==r&&x!==s&&Zo(a,c,l,f,u,d,x.x,x.y)&&wt(x.prev,x,x.next)>=0))return!1;x=x.nextZ}for(;_&&_.z>=g;){if(_.x>=p&&_.x<=h&&_.y>=y&&_.y<=m&&_!==r&&_!==s&&Zo(a,c,l,f,u,d,_.x,_.y)&&wt(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;x&&x.z<=v;){if(x.x>=p&&x.x<=h&&x.y>=y&&x.y<=m&&x!==r&&x!==s&&Zo(a,c,l,f,u,d,x.x,x.y)&&wt(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function qP(t,e,n){let i=t;do{const r=i.prev,o=i.next.next;!of(r,o)&&ZS(r,i,i.next,o)&&nl(r,o)&&nl(o,r)&&(e.push(r.i/n|0),e.push(i.i/n|0),e.push(o.i/n|0),il(i),il(i.next),i=t=o),i=i.next}while(i!==t);return oo(i)}function YP(t,e,n,i,r,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&rD(s,a)){let l=KS(s,a);s=oo(s,s.next),l=oo(l,l.next),tl(s,e,n,i,r,o,0),tl(l,e,n,i,r,o,0);return}a=a.next}s=s.next}while(s!==t)}function ZP(t,e,n,i){const r=[];let o,s,a,l,u;for(o=0,s=e.length;o<s;o++)a=e[o]*i,l=o<s-1?e[o+1]*i:t.length,u=YS(t,a,l,i,!1),u===u.next&&(u.steiner=!0),r.push(iD(u));for(r.sort(KP),o=0;o<r.length;o++)n=JP(r[o],n);return n}function KP(t,e){return t.x-e.x}function JP(t,e){const n=QP(t,e);if(!n)return e;const i=KS(n,t);return oo(i,i.next),oo(n,n.next)}function QP(t,e){let n=e,i=-1/0,r;const o=t.x,s=t.y;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){const d=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=o&&d>i&&(i=d,r=n.x<n.next.x?n:n.next,d===o))return r}n=n.next}while(n!==e);if(!r)return null;const a=r,l=r.x,u=r.y;let c=1/0,f;n=r;do o>=n.x&&n.x>=l&&o!==n.x&&Zo(s<u?o:i,s,l,u,s<u?i:o,s,n.x,n.y)&&(f=Math.abs(s-n.y)/(o-n.x),nl(n,t)&&(f<c||f===c&&(n.x>r.x||n.x===r.x&&eD(r,n)))&&(r=n,c=f)),n=n.next;while(n!==a);return r}function eD(t,e){return wt(t.prev,t,e.prev)<0&&wt(e.next,t,t.next)<0}function tD(t,e,n,i){let r=t;do r.z===0&&(r.z=pp(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,nD(r)}function nD(t){let e,n,i,r,o,s,a,l,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<u&&(a++,i=i.nextZ,!!i);e++);for(l=u;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(s>1);return t}function pp(t,e,n,i,r){return t=(t-n)*r|0,e=(e-i)*r|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function iD(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Zo(t,e,n,i,r,o,s,a){return(r-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(i-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function rD(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!oD(t,e)&&(nl(t,e)&&nl(e,t)&&sD(t,e)&&(wt(t.prev,t,e.prev)||wt(t,e.prev,e))||of(t,e)&&wt(t.prev,t,t.next)>0&&wt(e.prev,e,e.next)>0)}function wt(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function of(t,e){return t.x===e.x&&t.y===e.y}function ZS(t,e,n,i){const r=cu(wt(t,e,n)),o=cu(wt(t,e,i)),s=cu(wt(n,i,t)),a=cu(wt(n,i,e));return!!(r!==o&&s!==a||r===0&&uu(t,n,e)||o===0&&uu(t,i,e)||s===0&&uu(n,t,i)||a===0&&uu(n,e,i))}function uu(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function cu(t){return t>0?1:t<0?-1:0}function oD(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ZS(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function nl(t,e){return wt(t.prev,t,t.next)<0?wt(t,e,t.next)>=0&&wt(t,t.prev,e)>=0:wt(t,e,t.prev)<0||wt(t,t.next,e)<0}function sD(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==t);return i}function KS(t,e){const n=new mp(t.i,t.x,t.y),i=new mp(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function s_(t,e,n,i){const r=new mp(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function il(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function mp(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aD(t,e,n,i){let r=0;for(let o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}class os{static area(e){const n=e.length;let i=0;for(let r=n-1,o=0;o<n;r=o++)i+=e[r].x*e[o].y-e[o].x*e[r].y;return i*.5}static isClockWise(e){return os.area(e)<0}static triangulateShape(e,n){const i=[],r=[],o=[];a_(e),l_(i,e);let s=e.length;n.forEach(a_);for(let l=0;l<n.length;l++)r.push(s),s+=n[l].length,l_(i,n[l]);const a=$P.triangulate(i,r);for(let l=0;l<a.length;l+=3)o.push(a.slice(l,l+3));return o}}function a_(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function l_(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Wm extends ai{constructor(e=new Du([new Ce(.5,.5),new Ce(-.5,.5),new Ce(-.5,-.5),new Ce(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const i=this,r=[],o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];s(u)}this.setAttribute("position",new Dn(r,3)),this.setAttribute("uv",new Dn(o,2)),this.computeVertexNormals();function s(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:p-.1,h=n.bevelOffset!==void 0?n.bevelOffset:0,m=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,v=n.UVGenerator!==void 0?n.UVGenerator:lD;let _,x=!1,w,T,L,S;g&&(_=g.getSpacedPoints(c),x=!0,d=!1,w=g.computeFrenetFrames(c,!1),T=new G,L=new G,S=new G),d||(m=0,p=0,y=0,h=0);const R=a.extractPoints(u);let I=R.shape;const J=R.holes;if(!os.isClockWise(I)){I=I.reverse();for(let V=0,X=J.length;V<X;V++){const de=J[V];os.isClockWise(de)&&(J[V]=de.reverse())}}const U=os.triangulateShape(I,J),z=I;for(let V=0,X=J.length;V<X;V++){const de=J[V];I=I.concat(de)}function K(V,X,de){return X||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().multiplyScalar(de).add(V)}const oe=I.length,ie=U.length;function F(V,X,de){let ge,he,xe;const Te=V.x-X.x,Pe=V.y-X.y,ze=de.x-V.x,Xe=de.y-V.y,P=Te*Te+Pe*Pe,E=Te*Xe-Pe*ze;if(Math.abs(E)>Number.EPSILON){const H=Math.sqrt(P),le=Math.sqrt(ze*ze+Xe*Xe),Se=X.x-Pe/H,be=X.y+Te/H,Ne=de.x-Xe/le,Ae=de.y+ze/le,ue=((Ne-Se)*Xe-(Ae-be)*ze)/(Te*Xe-Pe*ze);ge=Se+Te*ue-V.x,he=be+Pe*ue-V.y;const Ie=ge*ge+he*he;if(Ie<=2)return new Ce(ge,he);xe=Math.sqrt(Ie/2)}else{let H=!1;Te>Number.EPSILON?ze>Number.EPSILON&&(H=!0):Te<-Number.EPSILON?ze<-Number.EPSILON&&(H=!0):Math.sign(Pe)===Math.sign(Xe)&&(H=!0),H?(ge=-Pe,he=Te,xe=Math.sqrt(P)):(ge=Te,he=Pe,xe=Math.sqrt(P/2))}return new Ce(ge/xe,he/xe)}const Y=[];for(let V=0,X=z.length,de=X-1,ge=V+1;V<X;V++,de++,ge++)de===X&&(de=0),ge===X&&(ge=0),Y[V]=F(z[V],z[de],z[ge]);const Z=[];let me,M=Y.concat();for(let V=0,X=J.length;V<X;V++){const de=J[V];me=[];for(let ge=0,he=de.length,xe=he-1,Te=ge+1;ge<he;ge++,xe++,Te++)xe===he&&(xe=0),Te===he&&(Te=0),me[ge]=F(de[ge],de[xe],de[Te]);Z.push(me),M=M.concat(me)}for(let V=0;V<m;V++){const X=V/m,de=p*Math.cos(X*Math.PI/2),ge=y*Math.sin(X*Math.PI/2)+h;for(let he=0,xe=z.length;he<xe;he++){const Te=K(z[he],Y[he],ge);ne(Te.x,Te.y,-de)}for(let he=0,xe=J.length;he<xe;he++){const Te=J[he];me=Z[he];for(let Pe=0,ze=Te.length;Pe<ze;Pe++){const Xe=K(Te[Pe],me[Pe],ge);ne(Xe.x,Xe.y,-de)}}}const C=y+h;for(let V=0;V<oe;V++){const X=d?K(I[V],M[V],C):I[V];x?(L.copy(w.normals[0]).multiplyScalar(X.x),T.copy(w.binormals[0]).multiplyScalar(X.y),S.copy(_[0]).add(L).add(T),ne(S.x,S.y,S.z)):ne(X.x,X.y,0)}for(let V=1;V<=c;V++)for(let X=0;X<oe;X++){const de=d?K(I[X],M[X],C):I[X];x?(L.copy(w.normals[V]).multiplyScalar(de.x),T.copy(w.binormals[V]).multiplyScalar(de.y),S.copy(_[V]).add(L).add(T),ne(S.x,S.y,S.z)):ne(de.x,de.y,f/c*V)}for(let V=m-1;V>=0;V--){const X=V/m,de=p*Math.cos(X*Math.PI/2),ge=y*Math.sin(X*Math.PI/2)+h;for(let he=0,xe=z.length;he<xe;he++){const Te=K(z[he],Y[he],ge);ne(Te.x,Te.y,f+de)}for(let he=0,xe=J.length;he<xe;he++){const Te=J[he];me=Z[he];for(let Pe=0,ze=Te.length;Pe<ze;Pe++){const Xe=K(Te[Pe],me[Pe],ge);x?ne(Xe.x,Xe.y+_[c-1].y,_[c-1].x+de):ne(Xe.x,Xe.y,f+de)}}}N(),W();function N(){const V=r.length/3;if(d){let X=0,de=oe*X;for(let ge=0;ge<ie;ge++){const he=U[ge];$(he[2]+de,he[1]+de,he[0]+de)}X=c+m*2,de=oe*X;for(let ge=0;ge<ie;ge++){const he=U[ge];$(he[0]+de,he[1]+de,he[2]+de)}}else{for(let X=0;X<ie;X++){const de=U[X];$(de[2],de[1],de[0])}for(let X=0;X<ie;X++){const de=U[X];$(de[0]+oe*c,de[1]+oe*c,de[2]+oe*c)}}i.addGroup(V,r.length/3-V,0)}function W(){const V=r.length/3;let X=0;b(z,X),X+=z.length;for(let de=0,ge=J.length;de<ge;de++){const he=J[de];b(he,X),X+=he.length}i.addGroup(V,r.length/3-V,1)}function b(V,X){let de=V.length;for(;--de>=0;){const ge=de;let he=de-1;he<0&&(he=V.length-1);for(let xe=0,Te=c+m*2;xe<Te;xe++){const Pe=oe*xe,ze=oe*(xe+1),Xe=X+ge+Pe,P=X+he+Pe,E=X+he+ze,H=X+ge+ze;ee(Xe,P,E,H)}}}function ne(V,X,de){l.push(V),l.push(X),l.push(de)}function $(V,X,de){te(V),te(X),te(de);const ge=r.length/3,he=v.generateTopUV(i,r,ge-3,ge-2,ge-1);we(he[0]),we(he[1]),we(he[2])}function ee(V,X,de,ge){te(V),te(X),te(ge),te(X),te(de),te(ge);const he=r.length/3,xe=v.generateSideWallUV(i,r,he-6,he-3,he-2,he-1);we(xe[0]),we(xe[1]),we(xe[3]),we(xe[1]),we(xe[2]),we(xe[3])}function te(V){r.push(l[V*3+0]),r.push(l[V*3+1]),r.push(l[V*3+2])}function we(V){o.push(V.x),o.push(V.y)}}}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,i=this.parameters.options;return uD(n,i,e)}static fromJSON(e,n){const i=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new qS[r.type]().fromJSON(r)),new Wm(i,e.options)}}const lD={generateTopUV:function(t,e,n,i,r){const o=e[n*3],s=e[n*3+1],a=e[i*3],l=e[i*3+1],u=e[r*3],c=e[r*3+1];return[new Ce(o,s),new Ce(a,l),new Ce(u,c)]},generateSideWallUV:function(t,e,n,i,r,o){const s=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[i*3],c=e[i*3+1],f=e[i*3+2],d=e[r*3],p=e[r*3+1],y=e[r*3+2],h=e[o*3],m=e[o*3+1],g=e[o*3+2];return Math.abs(a-c)<Math.abs(s-u)?[new Ce(s,1-l),new Ce(u,1-f),new Ce(d,1-y),new Ce(h,1-g)]:[new Ce(a,1-l),new Ce(c,1-f),new Ce(p,1-y),new Ce(m,1-g)]}};function uD(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class $m extends ai{constructor(e=1,n=32,i=16,r=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:i,phiStart:r,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),i=Math.max(2,Math.floor(i));const l=Math.min(s+a,Math.PI);let u=0;const c=[],f=new G,d=new G,p=[],y=[],h=[],m=[];for(let g=0;g<=i;g++){const v=[],_=g/i;let x=0;g==0&&s==0?x=.5/n:g==i&&l==Math.PI&&(x=-.5/n);for(let w=0;w<=n;w++){const T=w/n;f.x=-e*Math.cos(r+T*o)*Math.sin(s+_*a),f.y=e*Math.cos(s+_*a),f.z=e*Math.sin(r+T*o)*Math.sin(s+_*a),y.push(f.x,f.y,f.z),d.copy(f).normalize(),h.push(d.x,d.y,d.z),m.push(T+x,1-_),v.push(u++)}c.push(v)}for(let g=0;g<i;g++)for(let v=0;v<n;v++){const _=c[g][v+1],x=c[g][v],w=c[g+1][v],T=c[g+1][v+1];(g!==0||s>0)&&p.push(_,x,T),(g!==i-1||l<Math.PI)&&p.push(x,w,T)}this.setIndex(p),this.setAttribute("position",new Dn(y,3)),this.setAttribute("normal",new Dn(h,3)),this.setAttribute("uv",new Dn(m,2))}static fromJSON(e){return new $m(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class cD extends fo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new rt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Om,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fD extends fo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new rt(16777215),this.specular=new rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Om,this.normalScale=new Ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=km,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}const lc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class dD{constructor(e,n,i){const r=this;let o=!1,s=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(c){a++,o===!1&&r.onStart!==void 0&&r.onStart(c,s,a),o=!0},this.itemEnd=function(c){s++,r.onProgress!==void 0&&r.onProgress(c,s,a),s===a&&(o=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,d=u.length;f<d;f+=2){const p=u[f],y=u[f+1];if(p.global&&(p.lastIndex=0),p.test(c))return y}return null}}}const hD=new dD;class sf{constructor(e){this.manager=e!==void 0?e:hD,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,o){i.load(e,r,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const Ci={};class pD extends Error{constructor(e,n){super(e),this.response=n}}class mD extends sf{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=lc.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Ci[e]!==void 0){Ci[e].push({onLoad:n,onProgress:i,onError:r});return}Ci[e]=[],Ci[e].push({onLoad:n,onProgress:i,onError:r});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(s).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ci[e],f=u.body.getReader(),d=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),p=d?parseInt(d):0,y=p!==0;let h=0;const m=new ReadableStream({start(g){v();function v(){f.read().then(({done:_,value:x})=>{if(_)g.close();else{h+=x.byteLength;const w=new ProgressEvent("progress",{lengthComputable:y,loaded:h,total:p});for(let T=0,L=c.length;T<L;T++){const S=c[T];S.onProgress&&S.onProgress(w)}g.enqueue(x),v()}})}}});return new Response(m)}else throw new pD(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,a));case"json":return u.json();default:if(a===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),d=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(d);return u.arrayBuffer().then(y=>p.decode(y))}}}).then(u=>{lc.add(e,u);const c=Ci[e];delete Ci[e];for(let f=0,d=c.length;f<d;f++){const p=c[f];p.onLoad&&p.onLoad(u)}}).catch(u=>{const c=Ci[e];if(c===void 0)throw this.manager.itemError(e),u;delete Ci[e];for(let f=0,d=c.length;f<d;f++){const p=c[f];p.onError&&p.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class gD extends sf{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=lc.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=el("img");function l(){c(),lc.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(f){c(),r&&r(f),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class vD extends sf{constructor(e){super(e)}load(e,n,i,r){const o=new Jt,s=new gD(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},i,r),o}}class JS extends an{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new rt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const Wd=new dt,u_=new G,c_=new G;class _D{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ce(512,512),this.map=null,this.mapPass=null,this.matrix=new dt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new zm,this._frameExtents=new Ce(1,1),this._viewportCount=1,this._viewports=[new _t(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;u_.setFromMatrixPosition(e.matrixWorld),n.position.copy(u_),c_.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(c_),n.updateMatrixWorld(),Wd.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wd),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Wd)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const f_=new dt,ea=new G,$d=new G;class yD extends _D{constructor(){super(new Cn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ce(4,2),this._viewportCount=6,this._viewports=[new _t(2,1,1,1),new _t(0,1,1,1),new _t(3,1,1,1),new _t(1,1,1,1),new _t(3,0,1,1),new _t(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,o=e.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),ea.setFromMatrixPosition(e.matrixWorld),i.position.copy(ea),$d.copy(i.position),$d.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt($d),i.updateMatrixWorld(),r.makeTranslation(-ea.x,-ea.y,-ea.z),f_.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(f_)}}class xD extends JS{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new yD}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class SD extends JS{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class wD{constructor(){this.type="ShapePath",this.color=new rt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new hp,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,i,r){return this.currentPath.quadraticCurveTo(e,n,i,r),this}bezierCurveTo(e,n,i,r,o,s){return this.currentPath.bezierCurveTo(e,n,i,r,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const v=[];for(let _=0,x=g.length;_<x;_++){const w=g[_],T=new Du;T.curves=w.curves,v.push(T)}return v}function i(g,v){const _=v.length;let x=!1;for(let w=_-1,T=0;T<_;w=T++){let L=v[w],S=v[T],R=S.x-L.x,I=S.y-L.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(L=v[T],R=-R,S=v[w],I=-I),g.y<L.y||g.y>S.y)continue;if(g.y===L.y){if(g.x===L.x)return!0}else{const J=I*(g.x-L.x)-R*(g.y-L.y);if(J===0)return!0;if(J<0)continue;x=!x}}else{if(g.y!==L.y)continue;if(S.x<=g.x&&g.x<=L.x||L.x<=g.x&&g.x<=S.x)return!0}}return x}const r=os.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,l;const u=[];if(o.length===1)return a=o[0],l=new Du,l.curves=a.curves,u.push(l),u;let c=!r(o[0].getPoints());c=e?!c:c;const f=[],d=[];let p=[],y=0,h;d[y]=void 0,p[y]=[];for(let g=0,v=o.length;g<v;g++)a=o[g],h=a.getPoints(),s=r(h),s=e?!s:s,s?(!c&&d[y]&&y++,d[y]={s:new Du,p:h},d[y].s.curves=a.curves,c&&y++,p[y]=[]):p[y].push({h:a,p:h[0]});if(!d[0])return n(o);if(d.length>1){let g=!1,v=0;for(let _=0,x=d.length;_<x;_++)f[_]=[];for(let _=0,x=d.length;_<x;_++){const w=p[_];for(let T=0;T<w.length;T++){const L=w[T];let S=!0;for(let R=0;R<d.length;R++)i(L.p,d[R].p)&&(_!==R&&v++,S?(S=!1,f[R].push(L)):g=!0);S&&f[_].push(L)}}v>0&&g===!1&&(p=f)}let m;for(let g=0,v=d.length;g<v;g++){l=d[g].s,u.push(l),m=p[g];for(let _=0,x=m.length;_<x;_++)l.holes.push(m[_].h)}return u}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Im}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Im);var MD="/assets/world_topo_nasa.e8f5c1a6.jpg";class bD extends sf{constructor(e){super(e)}load(e,n,i,r){const o=this,s=new mD(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){const l=o.parse(JSON.parse(a));n&&n(l)},i,r)}parse(e){return new ED(e)}}class ED{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,n=100){const i=[],r=TD(e,n,this.data);for(let o=0,s=r.length;o<s;o++)i.push(...r[o].toShapes());return i}}function TD(t,e,n){const i=Array.from(t),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let a=0,l=0;for(let u=0;u<i.length;u++){const c=i[u];if(c===`
`)a=0,l-=o;else{const f=CD(c,r,a,l,n);a+=f.offsetX,s.push(f.path)}}return s}function CD(t,e,n,i,r){const o=r.glyphs[t]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");return}const s=new wD;let a,l,u,c,f,d,p,y;if(o.o){const h=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let m=0,g=h.length;m<g;)switch(h[m++]){case"m":a=h[m++]*e+n,l=h[m++]*e+i,s.moveTo(a,l);break;case"l":a=h[m++]*e+n,l=h[m++]*e+i,s.lineTo(a,l);break;case"q":u=h[m++]*e+n,c=h[m++]*e+i,f=h[m++]*e+n,d=h[m++]*e+i,s.quadraticCurveTo(f,d,u,c);break;case"b":u=h[m++]*e+n,c=h[m++]*e+i,f=h[m++]*e+n,d=h[m++]*e+i,p=h[m++]*e+n,y=h[m++]*e+i,s.bezierCurveTo(f,d,p,y,u,c);break}}return{offsetX:o.ha*e,path:s}}class AD extends Wm{constructor(e,n={}){const i=n.font;if(i===void 0)super();else{const r=i.generateShapes(e,n.size);n.depth=n.height!==void 0?n.height:50,n.bevelThickness===void 0&&(n.bevelThickness=10),n.bevelSize===void 0&&(n.bevelSize=8),n.bevelEnabled===void 0&&(n.bevelEnabled=!1),super(r,n)}this.type="TextGeometry"}}const ko=4,ss=1024,pi=4;function RD(t=1){const e=new Float32Array(ss*pi*t*ko),n=new CP(e,ss,pi*t,Vn,ir);return n.wrapS=eo,n.wrapY=eo,n.magFilter=Gt,n.needsUpdate=!0,n}function LD(t,e,n=0){const i=Math.floor(ss*(pi/4));e.arcLengthDivisions=i/2,e.updateArcLengths();const r=e.getSpacedPoints(i),o=e.computeFrenetFrames(i,!0);for(let s=0;s<i;s++){const a=Math.floor(s/ss),l=s%ss;let u=r[s];fu(t,l,u.x,u.y,u.z,0+a+pi*n),u=o.tangents[s],fu(t,l,u.x,u.y,u.z,1+a+pi*n),u=o.normals[s],fu(t,l,u.x,u.y,u.z,2+a+pi*n),u=o.binormals[s],fu(t,l,u.x,u.y,u.z,3+a+pi*n)}t.needsUpdate=!0}function fu(t,e,n,i,r,o){const s=t.image,{data:a}=s,l=ko*ss*o;a[e*ko+l+0]=n,a[e*ko+l+1]=i,a[e*ko+l+2]=r,a[e*ko+l+3]=1}function PD(t){return{spineTexture:{value:t},pathOffset:{type:"f",value:0},pathSegment:{type:"f",value:1},spineOffset:{type:"f",value:161},spineLength:{type:"f",value:400},flow:{type:"i",value:1}}}function DD(t,e,n=1){t.__ok||(t.__ok=!0,t.onBeforeCompile=i=>{if(i.__modified)return;i.__modified=!0,Object.assign(i.uniforms,e);const r=`
		uniform sampler2D spineTexture;
		uniform float pathOffset;
		uniform float pathSegment;
		uniform float spineOffset;
		uniform float spineLength;
		uniform int flow;

		float textureLayers = ${pi*n}.;
		float textureStacks = ${pi/4}.;

		${i.vertexShader}
		`.replace("#include <beginnormal_vertex>","").replace("#include <defaultnormal_vertex>","").replace("#include <begin_vertex>","").replace(/void\s*main\s*\(\)\s*\{/,`
void main() {
#include <beginnormal_vertex>

vec4 worldPos = modelMatrix * vec4(position, 1.);

bool bend = flow > 0;
float xWeight = bend ? 0. : 1.;

#ifdef USE_INSTANCING
float pathOffsetFromInstanceMatrix = instanceMatrix[3][2];
float spineLengthFromInstanceMatrix = instanceMatrix[3][0];
float spinePortion = bend ? (worldPos.x + spineOffset) / spineLengthFromInstanceMatrix : 0.;
float mt = (spinePortion * pathSegment + pathOffset + pathOffsetFromInstanceMatrix)*textureStacks;
#else
float spinePortion = bend ? (worldPos.x + spineOffset) / spineLength : 0.;
float mt = (spinePortion * pathSegment + pathOffset)*textureStacks;
#endif

mt = mod(mt, textureStacks);
float rowOffset = floor(mt);

#ifdef USE_INSTANCING
rowOffset += instanceMatrix[3][1] * ${pi}.;
#endif

vec3 spinePos = texture2D(spineTexture, vec2(mt, (0. + rowOffset + 0.5) / textureLayers)).xyz;
vec3 a =        texture2D(spineTexture, vec2(mt, (1. + rowOffset + 0.5) / textureLayers)).xyz;
vec3 b =        texture2D(spineTexture, vec2(mt, (2. + rowOffset + 0.5) / textureLayers)).xyz;
vec3 c =        texture2D(spineTexture, vec2(mt, (3. + rowOffset + 0.5) / textureLayers)).xyz;
mat3 basis = mat3(a, b, c);

vec3 transformed = basis
	* vec3(worldPos.x * xWeight, worldPos.y * 1., worldPos.z * 1.)
	+ spinePos;

vec3 transformedNormal = normalMatrix * (basis * objectNormal);
			`).replace("#include <project_vertex>",`vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );
				gl_Position = projectionMatrix * mvPosition;`);i.vertexShader=r})}class ND{constructor(e,n=1){const i=e.clone(),r=RD(n),o=PD(r);i.traverse(function(s){(s instanceof pn||s instanceof RP)&&(s.material=s.material.clone(),DD(s.material,o,n))}),this.curveArray=new Array(n),this.curveLengthArray=new Array(n),this.object3D=i,this.splineTexure=r,this.uniforms=o}updateCurve(e,n){if(e>=this.curveArray.length)throw Error("Index out of range for Flow");const i=n.getLength();this.uniforms.spineLength.value=i,this.curveLengthArray[e]=i,this.curveArray[e]=n,LD(this.splineTexure,n,e)}moveAlongCurve(e){this.uniforms.pathOffset.value+=e}}new dt;class ID{constructor(e=512,n=512){const i=document.createElement("canvas");i.width=e,i.height=n;const r=i.getContext("2d");r.fillStyle="rgb(127,127,255)",r.fillRect(0,0,e,n);for(let o=0;o<4e3;o++){const s=Math.random()*e,a=Math.random()*n,l=Math.random()*3+3;let u=Math.random()*2-1,c=Math.random()*2-1,f=1.5;const d=Math.sqrt(u*u+c*c+f*f);u/=d,c/=d,f/=d,r.fillStyle="rgb("+(u*127+127)+","+(c*127+127)+","+f*255+")",r.beginPath(),r.arc(s,a,l,0,Math.PI*2),r.fill()}return i}}let ui,ta,Lo,jd,na;const d_=[];class kD extends Ee.exports.Component{constructor(e){super(e),this.animate=this.animate.bind(this)}calcPoints(){const n=2*Math.PI/8,i=[];for(let r=0;r<8;r++){const o=.9*Math.cos(r*n),s=.9*Math.sin(r*n);i.push({x:o,y:0,z:s})}return i}init(){const e=document.getElementById("render"),n=60,i=e.clientWidth/e.clientHeight,r=.1,o=1e3;ui=new TP,Lo=new GS({alpha:!0,antialias:!0}),Lo.setSize(e.clientWidth,e.clientHeight),Lo.setPixelRatio(window.devicePixelRatio),Lo.outputEncoding=ct;const s=new DP(new ID);s.wrapS=eo,s.wrapT=eo,s.repeat.x=10,s.repeat.y=6;const a=new $m(.6,32,32),l=new fD({specular:4013373,roughness:.5,metalness:.5,map:new vD().load(MD)});jd=new pn(a,l),ui.add(jd);const u=new SD(16777215,.1);ui.add(u);const c=new xD(16777215,1.3);c.position.set(5,3,1),ui.add(c),ta=new Cn(n,i,r,o),ta.position.set(.6,.5,2),ta.lookAt(ui.position);const f=this.calcPoints(),d=new Is(0,0,0),p=new Fm;for(const x of f){const w=new pn(d,p);w.position.copy(x),d_.push(w),ui.add(w)}const y=new WS(d_.map(x=>x.position));y.curveType="centripetal",y.closed=!0;const h=y.getPoints(50),m=new PP(new ai().setFromPoints(h),new HS({transparent:!0,opacity:0}));ui.add(m);const g=new bD,v=12434877,_="Our Company";return g.load("/fonts/federation_bold.json",function(x){const w=new AD(_,{font:x,size:.13,height:0,curveSegments:20,bevelEnabled:!0,bevelThickness:.02,bevelSize:.008,bevelOffset:0,bevelSegments:5});w.rotateX(Math.PI),w.rotateY(Math.PI);const T=new cD({color:v,roughness:0,fog:!0,envMap:"bricks"}),L=new pn(w,T);na=new ND(L),na.updateCurve(0,y),ui.add(na.object3D)}),ui.add(ta),Lo.domElement}animate(){requestAnimationFrame(this.animate),jd.rotation.y-=.0035,Lo.render(ui,ta),na&&na.moveAlongCurve(.001)}componentDidMount(){document.getElementById("render").appendChild(this.init()),this.animate()}render(){return ve("div",{id:"render",className:"grid w-[100%] h-[100%]"})}}co`
  from {
    opacity: 0;
    transform: translateX(-100%);
  }
`;co`
  from {
    opacity: 0;
    transform: translateX(-100%);
  }
`;const OD=co`
  0%{
    opacity: 0;
    filter: blur(20px);
  }
  10%{
    opacity: 1;
    filter:  blur(10px);
  }
`,FD=({time:t="3s",type:e="ease"}={})=>ln`
  animation: ${t} ${OD} ${e};
`,zD=yn.section`
  display: grid;
  width: 100%;
  position: relative;
  
  .render{
    width: 100%;
    height: 500px;
    left: 0;
    top: 0;
  }
  ${vi("lg")}{
    place-content: center;
    align-items: center;
    width: 100%;
    grid-template-columns: 1fr 1fr;
  }
  ${vi("xl")}{
  }
`;yn.div`
  width: 0; 
  height: 0; 
  border-left: 100vw solid #5289B5;
  border-top: 50px solid transparent;
  position: absolute;
  top:-50px;
  ${t=>t.color&&ln`
     border-left: 100vw solid ${t.color}};
  `}
`;yn.div`
  width: 0;
  height: 0; 
  border-right: 100vw solid #1F3541;
  border-top: 50px solid transparent;
  position: absolute;
  top:-50px;
  ${t=>t.color&&ln`
     border-left: 100vw solid ${t.color}};
  `}
`;yn.div`
  width: 0;
  height: 0; 
  border-left: 100vw solid #1F3541;
  border-bottom: 50px solid transparent;
  position: absolute;
  bottom: -50px;
  ${t=>t.color&&ln`
     border-left: 99vw solid ${t.color}};
  `}
`;yn.div`
  width: 0;
  height: 0; 
  border-right: 100vw solid #1F3541;
  border-bottom: 50px solid transparent;
  position: absolute;
  bottom: -50px;
  ${t=>t.color&&ln`
     border-right: 100vw solid ${t.color}};
  `}
`;const UD=yn.section`
  margin: 50px 0;
  height: 400px;
  background-color: #5289B5;
  position: relative;
  margin-top: -50px;
  h2{
    text-transform: uppercase;
    margin-bottom: 12px;
  }
  .image{
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    box-shadow: 3px 3px 20px 0px rgba(0,0,0,0.4);
    
  }
  .grid-2{
    display: grid;
    grid-template-columns: 2fr 80px;
    gap: 20px;
    align-items: center;
    align-content: center;
    ${FD({time:"3s"})}
  }
  ${vi("lg")}{
    height: 440px;
    .grid-2{
      grid-template-columns: 2fr 200px;
    }
    .image{
      width: 200px;
      height: 200px;
    }
  }
  ${vi("xl")}{
    height: 500px;
  }
`;yn(UD)`
  background-color: #1F3541;
  h2,p{
    text-align: right;
  }
  .grid-2{
    grid-template-columns: 80px 2fr;
  }
  ${vi("lg")}{
    .grid-2{
      grid-template-columns: 200px 2fr;
    }
  }
`;function BD(t){return wr({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"}}]})(t)}function VD(t){return wr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M105.2 24.9c-3.1-8.9-15.7-8.9-18.9 0L29.8 199.7h132c-.1 0-56.6-174.8-56.6-174.8zM.9 287.7c-2.6 8 .3 16.9 7.1 22l247.9 184-226.2-294zm160.8-88l94.3 294 94.3-294zm349.4 88l-28.8-88-226.3 294 247.9-184c6.9-5.1 9.7-14 7.2-22zM425.7 24.9c-3.1-8.9-15.7-8.9-18.9 0l-56.6 174.8h132z"}}]})(t)}function GD(t){return wr({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M12.004 0c-2.35 2.395-2.365 6.185.133 8.585l3.412 3.413-3.197 3.198a6.501 6.501 0 0 1 1.412 7.04l9.566-9.566a.95.95 0 0 0 0-1.344L12.004 0zm-1.748 1.74L.67 11.327a.95.95 0 0 0 0 1.344C4.45 16.44 8.22 20.244 12 24c2.295-2.298 2.395-6.096-.08-8.533l-3.47-3.469 3.2-3.2c-1.918-1.955-2.363-4.725-1.394-7.057z"}}]})(t)}const HD=()=>ve("main",{children:it(zD,{className:"custom-container",children:[it("div",{children:[ve("h1",{children:"Tex title"}),ve("p",{children:"lorem ipsum dolor sit amet consectetur adipisicing elit."}),it("div",{className:"flex gap-8 mt-10",children:[ve(BD,{color:"white",size:80}),ve(VD,{color:"white",size:80}),ve(GD,{color:"white",size:80})]})]}),ve("div",{className:"render",children:ve(kD,{})})]})});var QS={exports:{}},WD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$D=WD,jD=$D;function e1(){}function t1(){}t1.resetWarningCache=e1;var XD=function(){function t(i,r,o,s,a,l){if(l!==jD){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:t1,resetWarningCache:e1};return n.PropTypes=n,n};QS.exports=XD();var mt=QS.exports;function qD(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var n1=Ee.exports,YD=qD(n1);function h_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZD(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var KD=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function JD(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n!="undefined"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function i(r){return r.displayName||r.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],a;function l(){a=t(s.map(function(c){return c.props})),u.canUseDOM?e(a):n&&(a=n(a))}var u=function(c){ZD(f,c);function f(){return c.apply(this,arguments)||this}f.peek=function(){return a},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=a;return a=void 0,s=[],y};var d=f.prototype;return d.UNSAFE_componentWillMount=function(){s.push(this),l()},d.componentDidUpdate=function(){l()},d.componentWillUnmount=function(){var y=s.indexOf(this);s.splice(y,1),l()},d.render=function(){return YD.createElement(o,this.props)},f}(n1.PureComponent);return h_(u,"displayName","SideEffect("+i(o)+")"),h_(u,"canUseDOM",KD),u}}var QD=JD,eN=typeof Element!="undefined",tN=typeof Map=="function",nN=typeof Set=="function",iN=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Nu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!Nu(t[i],e[i]))return!1;return!0}var o;if(tN&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(i=o.next()).done;)if(!e.has(i.value[0]))return!1;for(o=t.entries();!(i=o.next()).done;)if(!Nu(i.value[1],e.get(i.value[0])))return!1;return!0}if(nN&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(i=o.next()).done;)if(!e.has(i.value[0]))return!1;return!0}if(iN&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;if(eN&&t instanceof Element)return!1;for(i=n;i--!==0;)if(!((r[i]==="_owner"||r[i]==="__v"||r[i]==="__o")&&t.$$typeof)&&!Nu(t[r[i]],e[r[i]]))return!1;return!0}return t!==t&&e!==e}var rN=function(e,n){try{return Nu(e,n)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var p_=Object.getOwnPropertySymbols,oN=Object.prototype.hasOwnProperty,sN=Object.prototype.propertyIsEnumerable;function aN(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function lN(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var i=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(i.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(o){r[o]=o}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var uN=lN()?Object.assign:function(t,e){for(var n,i=aN(t),r,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)oN.call(n,s)&&(i[s]=n[s]);if(p_){r=p_(n);for(var a=0;a<r.length;a++)sN.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},qr={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ve={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ve).map(function(t){return Ve[t]});var gt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},uc={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},rl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},cN=Object.keys(uc).reduce(function(t,e){return t[uc[e]]=e,t},{}),fN=[Ve.NOSCRIPT,Ve.SCRIPT,Ve.STYLE],ni="data-react-helmet",dN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hN=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},pN=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),fn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mN=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},m_=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||!Object.prototype.hasOwnProperty.call(t,i)||(n[i]=t[i]);return n},gN=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},gp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},vN=function(e){var n=as(e,Ve.TITLE),i=as(e,rl.TITLE_TEMPLATE);if(i&&n)return i.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=as(e,rl.DEFAULT_TITLE);return n||r||void 0},_N=function(e){return as(e,rl.ON_CHANGE_CLIENT_STATE)||function(){}},Xd=function(e,n){return n.filter(function(i){return typeof i[e]!="undefined"}).map(function(i){return i[e]}).reduce(function(i,r){return fn({},i,r)},{})},yN=function(e,n){return n.filter(function(i){return typeof i[Ve.BASE]!="undefined"}).map(function(i){return i[Ve.BASE]}).reverse().reduce(function(i,r){if(!i.length)for(var o=Object.keys(r),s=0;s<o.length;s++){var a=o[s],l=a.toLowerCase();if(e.indexOf(l)!==-1&&r[l])return i.concat(r)}return i},[])},ia=function(e,n,i){var r={};return i.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]!="undefined"&&MN("Helmet: "+e+' should be of type "Array". Instead found type "'+dN(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,s){var a={};s.filter(function(d){for(var p=void 0,y=Object.keys(d),h=0;h<y.length;h++){var m=y[h],g=m.toLowerCase();n.indexOf(g)!==-1&&!(p===gt.REL&&d[p].toLowerCase()==="canonical")&&!(g===gt.REL&&d[g].toLowerCase()==="stylesheet")&&(p=g),n.indexOf(m)!==-1&&(m===gt.INNER_HTML||m===gt.CSS_TEXT||m===gt.ITEM_PROP)&&(p=m)}if(!p||!d[p])return!1;var v=d[p].toLowerCase();return r[p]||(r[p]={}),a[p]||(a[p]={}),r[p][v]?!1:(a[p][v]=!0,!0)}).reverse().forEach(function(d){return o.push(d)});for(var l=Object.keys(a),u=0;u<l.length;u++){var c=l[u],f=uN({},r[c],a[c]);r[c]=f}return o},[]).reverse()},as=function(e,n){for(var i=e.length-1;i>=0;i--){var r=e[i];if(r.hasOwnProperty(n))return r[n]}return null},xN=function(e){return{baseTag:yN([gt.HREF,gt.TARGET],e),bodyAttributes:Xd(qr.BODY,e),defer:as(e,rl.DEFER),encode:as(e,rl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Xd(qr.HTML,e),linkTags:ia(Ve.LINK,[gt.REL,gt.HREF],e),metaTags:ia(Ve.META,[gt.NAME,gt.CHARSET,gt.HTTPEQUIV,gt.PROPERTY,gt.ITEM_PROP],e),noscriptTags:ia(Ve.NOSCRIPT,[gt.INNER_HTML],e),onChangeClientState:_N(e),scriptTags:ia(Ve.SCRIPT,[gt.SRC,gt.INNER_HTML],e),styleTags:ia(Ve.STYLE,[gt.CSS_TEXT],e),title:vN(e),titleAttributes:Xd(qr.TITLE,e)}},vp=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){vp(e)},0)}}(),g_=function(e){return clearTimeout(e)},SN=typeof window!="undefined"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||vp:global.requestAnimationFrame||vp,wN=typeof window!="undefined"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||g_:global.cancelAnimationFrame||g_,MN=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},ra=null,bN=function(e){ra&&wN(ra),e.defer?ra=SN(function(){v_(e,function(){ra=null})}):(v_(e),ra=null)},v_=function(e,n){var i=e.baseTag,r=e.bodyAttributes,o=e.htmlAttributes,s=e.linkTags,a=e.metaTags,l=e.noscriptTags,u=e.onChangeClientState,c=e.scriptTags,f=e.styleTags,d=e.title,p=e.titleAttributes;_p(Ve.BODY,r),_p(Ve.HTML,o),EN(d,p);var y={baseTag:Po(Ve.BASE,i),linkTags:Po(Ve.LINK,s),metaTags:Po(Ve.META,a),noscriptTags:Po(Ve.NOSCRIPT,l),scriptTags:Po(Ve.SCRIPT,c),styleTags:Po(Ve.STYLE,f)},h={},m={};Object.keys(y).forEach(function(g){var v=y[g],_=v.newTags,x=v.oldTags;_.length&&(h[g]=_),x.length&&(m[g]=y[g].oldTags)}),n&&n(),u(e,h,m)},i1=function(e){return Array.isArray(e)?e.join(""):e},EN=function(e,n){typeof e!="undefined"&&document.title!==e&&(document.title=i1(e)),_p(Ve.TITLE,n)},_p=function(e,n){var i=document.getElementsByTagName(e)[0];if(!!i){for(var r=i.getAttribute(ni),o=r?r.split(","):[],s=[].concat(o),a=Object.keys(n),l=0;l<a.length;l++){var u=a[l],c=n[u]||"";i.getAttribute(u)!==c&&i.setAttribute(u,c),o.indexOf(u)===-1&&o.push(u);var f=s.indexOf(u);f!==-1&&s.splice(f,1)}for(var d=s.length-1;d>=0;d--)i.removeAttribute(s[d]);o.length===s.length?i.removeAttribute(ni):i.getAttribute(ni)!==a.join(",")&&i.setAttribute(ni,a.join(","))}},Po=function(e,n){var i=document.head||document.querySelector(Ve.HEAD),r=i.querySelectorAll(e+"["+ni+"]"),o=Array.prototype.slice.call(r),s=[],a=void 0;return n&&n.length&&n.forEach(function(l){var u=document.createElement(e);for(var c in l)if(l.hasOwnProperty(c))if(c===gt.INNER_HTML)u.innerHTML=l.innerHTML;else if(c===gt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{var f=typeof l[c]=="undefined"?"":l[c];u.setAttribute(c,f)}u.setAttribute(ni,"true"),o.some(function(d,p){return a=p,u.isEqualNode(d)})?o.splice(a,1):s.push(u)}),o.forEach(function(l){return l.parentNode.removeChild(l)}),s.forEach(function(l){return i.appendChild(l)}),{oldTags:o,newTags:s}},r1=function(e){return Object.keys(e).reduce(function(n,i){var r=typeof e[i]!="undefined"?i+'="'+e[i]+'"':""+i;return n?n+" "+r:r},"")},TN=function(e,n,i,r){var o=r1(i),s=i1(n);return o?"<"+e+" "+ni+'="true" '+o+">"+gp(s,r)+"</"+e+">":"<"+e+" "+ni+'="true">'+gp(s,r)+"</"+e+">"},CN=function(e,n,i){return n.reduce(function(r,o){var s=Object.keys(o).filter(function(u){return!(u===gt.INNER_HTML||u===gt.CSS_TEXT)}).reduce(function(u,c){var f=typeof o[c]=="undefined"?c:c+'="'+gp(o[c],i)+'"';return u?u+" "+f:f},""),a=o.innerHTML||o.cssText||"",l=fN.indexOf(e)===-1;return r+"<"+e+" "+ni+'="true" '+s+(l?"/>":">"+a+"</"+e+">")},"")},o1=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[uc[r]||r]=e[r],i},n)},AN=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(i,r){return i[cN[r]||r]=e[r],i},n)},RN=function(e,n,i){var r,o=(r={key:n},r[ni]=!0,r),s=o1(i,o);return[He.createElement(Ve.TITLE,s,n)]},LN=function(e,n){return n.map(function(i,r){var o,s=(o={key:r},o[ni]=!0,o);return Object.keys(i).forEach(function(a){var l=uc[a]||a;if(l===gt.INNER_HTML||l===gt.CSS_TEXT){var u=i.innerHTML||i.cssText;s.dangerouslySetInnerHTML={__html:u}}else s[l]=i[a]}),He.createElement(e,s)})},Ai=function(e,n,i){switch(e){case Ve.TITLE:return{toComponent:function(){return RN(e,n.title,n.titleAttributes)},toString:function(){return TN(e,n.title,n.titleAttributes,i)}};case qr.BODY:case qr.HTML:return{toComponent:function(){return o1(n)},toString:function(){return r1(n)}};default:return{toComponent:function(){return LN(e,n)},toString:function(){return CN(e,n,i)}}}},s1=function(e){var n=e.baseTag,i=e.bodyAttributes,r=e.encode,o=e.htmlAttributes,s=e.linkTags,a=e.metaTags,l=e.noscriptTags,u=e.scriptTags,c=e.styleTags,f=e.title,d=f===void 0?"":f,p=e.titleAttributes;return{base:Ai(Ve.BASE,n,r),bodyAttributes:Ai(qr.BODY,i,r),htmlAttributes:Ai(qr.HTML,o,r),link:Ai(Ve.LINK,s,r),meta:Ai(Ve.META,a,r),noscript:Ai(Ve.NOSCRIPT,l,r),script:Ai(Ve.SCRIPT,u,r),style:Ai(Ve.STYLE,c,r),title:Ai(Ve.TITLE,{title:d,titleAttributes:p},r)}},PN=function(e){var n,i;return i=n=function(r){mN(o,r);function o(){return hN(this,o),gN(this,r.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(a){return!rN(this.props,a)},o.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Ve.SCRIPT:case Ve.NOSCRIPT:return{innerHTML:l};case Ve.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(a){var l,u=a.child,c=a.arrayTypeChildren,f=a.newChildProps,d=a.nestedChildren;return fn({},c,(l={},l[u.type]=[].concat(c[u.type]||[],[fn({},f,this.mapNestedChildrenToProps(u,d))]),l))},o.prototype.mapObjectTypeChildren=function(a){var l,u,c=a.child,f=a.newProps,d=a.newChildProps,p=a.nestedChildren;switch(c.type){case Ve.TITLE:return fn({},f,(l={},l[c.type]=p,l.titleAttributes=fn({},d),l));case Ve.BODY:return fn({},f,{bodyAttributes:fn({},d)});case Ve.HTML:return fn({},f,{htmlAttributes:fn({},d)})}return fn({},f,(u={},u[c.type]=fn({},d),u))},o.prototype.mapArrayTypeChildrenToProps=function(a,l){var u=fn({},l);return Object.keys(a).forEach(function(c){var f;u=fn({},u,(f={},f[c]=a[c],f))}),u},o.prototype.warnOnInvalidChildren=function(a,l){return!0},o.prototype.mapChildrenToProps=function(a,l){var u=this,c={};return He.Children.forEach(a,function(f){if(!(!f||!f.props)){var d=f.props,p=d.children,y=m_(d,["children"]),h=AN(y);switch(u.warnOnInvalidChildren(f,p),f.type){case Ve.LINK:case Ve.META:case Ve.NOSCRIPT:case Ve.SCRIPT:case Ve.STYLE:c=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:c,newChildProps:h,nestedChildren:p});break;default:l=u.mapObjectTypeChildren({child:f,newProps:l,newChildProps:h,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(c,l),l},o.prototype.render=function(){var a=this.props,l=a.children,u=m_(a,["children"]),c=fn({},u);return l&&(c=this.mapChildrenToProps(l,c)),He.createElement(e,c)},pN(o,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),o}(He.Component),n.propTypes={base:mt.object,bodyAttributes:mt.object,children:mt.oneOfType([mt.arrayOf(mt.node),mt.node]),defaultTitle:mt.string,defer:mt.bool,encodeSpecialCharacters:mt.bool,htmlAttributes:mt.object,link:mt.arrayOf(mt.object),meta:mt.arrayOf(mt.object),noscript:mt.arrayOf(mt.object),onChangeClientState:mt.func,script:mt.arrayOf(mt.object),style:mt.arrayOf(mt.object),title:mt.string,titleAttributes:mt.object,titleTemplate:mt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=s1({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},i},DN=function(){return null},NN=QD(xN,bN,s1)(DN),yp=PN(NN);yp.renderStatic=yp.rewind;const jm=({title:t="Landing",description:e="This is a description of the landing page",...n})=>{const i={title:t,description:e,titleTemplate:"%s | Landing"};return it(yp,{title:i.title,titleTemplate:i.titleTemplate,children:[ve("meta",{name:"description",content:i.description}),ve("meta",{name:"keywords",content:n.keywords||"test,test"}),i.title&&ve("meta",{property:"og:title",content:i.title}),i.description&&ve("meta",{property:"og:description",content:i.description}),ve("meta",{property:"og:site_name",content:"Title Website"}),i.url&&ve("meta",{property:"og:url",content:i.url}),i.image&&ve("meta",{property:"og:image",content:i.image}),i.title&&ve("meta",{name:"twitter:title",content:i.title}),i.description&&ve("meta",{name:"twitter:description",content:i.description}),i.image&&ve("meta",{name:"twitter:image",content:i.image}),i.url&&ve("meta",{property:"twitter:url",content:i.url}),ve("meta",{name:"twitter:card",content:"summary_large_image"})]})};var a1="/assets/night-city.f161abbb.webp";const IN=yn.section`
  height: 300px;
  display: grid;
  align-items: center;
  background: linear-gradient(0deg, 
                rgba(4,5,23,1) 60%, 
                  rgba(255,255,255,0) 100%), 
              url(${a1});
  background-size: auto, cover;
  background-position-y: top;
  background-attachment: fixed;
  ${vi("lg")}{
    height: 300px;
  }
  hr{
    margin: 30px 0;
  }
`,kN=()=>it("main",{children:[ve(jm,{title:"Events"}),ve(IN,{children:ve("div",{className:"custom-container",children:ve("h1",{className:"text-center",children:"Events"})})}),ve("section",{className:"custom-container items-center overflow-x-scroll",children:it("div",{className:"flex justify-between gap-8",children:[it("article",{className:"w-[220px] rounded border border-white overflow-hidden shadow-lg",children:[ve("img",{className:"w-full h-20 object-cover",src:"https://picsum.photos/400/300",alt:"Sunset in the mountains"}),it("div",{className:"px-4 py-2",children:[ve("div",{className:"font-bold text-xl text-white mb-2",children:"The Coldest Code"}),ve("p",{className:"text-gray-700 text-sm",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus quia,"})]}),it("div",{className:"px-6 pt-4 pb-2",children:[ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#deve"}),ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#code"}),ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#production"})]})]}),it("article",{className:"w-[220px] rounded border border-white overflow-hidden shadow-lg",children:[ve("img",{className:"w-full h-20 object-cover",src:"https://picsum.photos/400/300",alt:"Sunset in the mountains"}),it("div",{className:"px-4 py-2",children:[ve("div",{className:"font-bold text-xl text-white mb-2",children:"The Coldest Code"}),ve("p",{className:"text-gray-700 text-sm",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus quia,"})]}),it("div",{className:"px-6 pt-4 pb-2",children:[ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#deve"}),ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#code"}),ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#production"})]})]}),it("article",{className:"w-[220px] rounded border border-white overflow-hidden shadow-lg",children:[ve("img",{className:"w-full h-20 object-cover",src:"https://picsum.photos/400/300",alt:"Sunset in the mountains"}),it("div",{className:"px-4 py-2",children:[ve("div",{className:"font-bold text-xl text-white mb-2",children:"The Coldest Code"}),ve("p",{className:"text-gray-700 text-sm",children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus quia,"})]}),it("div",{className:"px-6 pt-4 pb-2",children:[ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#deve"}),ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#code"}),ve("small",{className:"inline-block bg-gray-200 rounded-full px-2 py-0 font-semibold text-gray-700 mr-2 mb-2",children:"#production"})]})]})]})})]}),ON=yn.section`
  width: 100%;
  height: 300px;
  background: linear-gradient(0deg,  rgba(4,5,23,1) 20% , rgba(4,5,23,1) 50%, rgba(255,255,255,0) 100%), url(${a1});
  background-size: auto, cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
  display: grid;
  place-content: center;
  position: relative;
`,FN=()=>it("main",{children:[ve(jm,{title:"About"}),ve(ON,{children:ve("h1",{children:"About"})}),it("section",{className:"custom-container",children:[ve("hr",{className:"mb-10"}),ve("h2",{className:"text-center mb-10",children:"Our Company"}),it("div",{className:"grid gap-8",children:[ve("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Facilis rem consequuntur aliquid voluptatum at sint dignissimos aut sit corporis, ad id quo veniam? Minima in pariatur, dolores distinctio exercitationem excepturi."}),ve("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime autem voluptatibus sequi voluptatem! Eius impedit minima dignissimos rem quod ipsum eligendi aliquid, obcaecati asperiores reprehenderit eaque sequi voluptas debitis nesciunt?"})]})]})]});var zN="/assets/error.4d617bf9.webp";const UN=yn.main`
  display:grid;
  place-content: center;
  align-items: center;
  width: 100%;
  height: 100vh;
  background: url(${zN});
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat; 
  background-attachment: fixed;
`,BN=()=>ve(UN,{children:ve("h1",{className:"text-center",children:"404"})});function VN(){return it(M2,{children:[ve(jm,{}),ve(eT,{children:ve(YE,{children:it(No,{path:"/",element:ve(R2,{}),children:[ve(No,{index:!0,element:ve(HD,{})}),ve(No,{path:"about",element:ve(FN,{})}),ve(No,{path:"events",element:ve(kN,{})}),ve(No,{path:"*",element:ve(BN,{})})]})})})]})}function GN(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var HN=GN,We=HN;function WN(t){return!!t&&typeof t.then=="function"}var yt=WN;function $N(t,e){if(t!=null)return t;throw We(e!=null?e:"Got unexpected null or undefined")}var xt=$N;function Ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class af{getValue(){throw We("BaseLoadable")}toPromise(){throw We("BaseLoadable")}valueMaybe(){throw We("BaseLoadable")}valueOrThrow(){throw We(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw We("BaseLoadable")}promiseOrThrow(){throw We(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw We("BaseLoadable")}errorOrThrow(){throw We(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw We("BaseLoadable")}}class jN extends af{constructor(e){super(),Ge(this,"state","hasValue"),Ge(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return yt(n)?so(n):ws(n)?n:pl(n)}catch(n){return yt(n)?so(n.next(()=>this.map(e))):lf(n)}}}class XN extends af{constructor(e){super(),Ge(this,"state","hasError"),Ge(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class l1 extends af{constructor(e){super(),Ge(this,"state","loading"),Ge(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return so(this.contents.then(n=>{const i=e(n);if(ws(i)){const r=i;switch(r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":return r.contents}}return i}).catch(n=>{if(yt(n))return n.then(()=>this.map(e).contents);throw n}))}}function pl(t){return Object.freeze(new jN(t))}function lf(t){return Object.freeze(new XN(t))}function so(t){return Object.freeze(new l1(t))}function u1(){return Object.freeze(new l1(new Promise(()=>{})))}function qN(t){return t.every(e=>e.state==="hasValue")?pl(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?lf(xt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):so(Promise.all(t.map(e=>e.contents)))}function c1(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(r=>t[r])).map(r=>ws(r)?r:yt(r)?so(r):pl(r)),i=qN(n);return Array.isArray(t)?i:i.map(r=>Object.getOwnPropertyNames(t).reduce((o,s,a)=>({...o,[s]:r[a]}),{}))}function ws(t){return t instanceof af}const YN={of:t=>yt(t)?so(t):ws(t)?t:pl(t),error:t=>lf(t),loading:()=>u1(),all:c1,isLoadable:ws};var ho={loadableWithValue:pl,loadableWithError:lf,loadableWithPromise:so,loadableLoading:u1,loadableAll:c1,isLoadable:ws,RecoilLoadable:YN},ZN=ho.loadableWithValue,KN=ho.loadableWithError,JN=ho.loadableWithPromise,QN=ho.loadableLoading,eI=ho.loadableAll,tI=ho.isLoadable,nI=ho.RecoilLoadable,ml=Object.freeze({__proto__:null,loadableWithValue:ZN,loadableWithError:KN,loadableWithPromise:JN,loadableLoading:QN,loadableAll:eI,isLoadable:tI,RecoilLoadable:nI});const uf=new Map().set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function cf(t){var e;return(e=uf.get(t))!==null&&e!==void 0?e:!1}cf.setPass=t=>{uf.set(t,!0)};cf.setFail=t=>{uf.set(t,!1)};cf.clear=()=>{uf.clear()};var lt=cf;function iI(t,e,{error:n}={}){return null}var rI=iI,Xm=rI,qd,Yd,Zd;const oI=(qd=He.createMutableSource)!==null&&qd!==void 0?qd:He.unstable_createMutableSource,f1=(Yd=He.useMutableSource)!==null&&Yd!==void 0?Yd:He.unstable_useMutableSource,d1=(Zd=He.useSyncExternalStore)!==null&&Zd!==void 0?Zd:He.unstable_useSyncExternalStore;function sI(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function aI(){return lt("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:lt("recoil_sync_external_store")&&d1!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:lt("recoil_mutable_source")&&f1!=null&&typeof window!="undefined"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?lt("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:lt("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function lI(){return!1}var gl={createMutableSource:oI,useMutableSource:f1,useSyncExternalStore:d1,currentRendererSupportsUseSyncExternalStore:sI,reactMode:aI,isFastRefreshEnabled:lI};const h1={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0};function uI(){var t,e,n;if(typeof process=="undefined"||((t=process)===null||t===void 0?void 0:t.env)==null)return;const i=(e={}.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED)===null||e===void 0||(n=e.toLowerCase())===null||n===void 0?void 0:n.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw We(`({}).RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED value must be 'true', 'false', or empty: ${i}`);h1.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=i==="true"}uI();var p1=h1;class qm{constructor(e){Ge(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class m1 extends qm{}class g1 extends qm{}function cI(t){return t instanceof m1||t instanceof g1}var ff={AbstractRecoilValue:qm,RecoilState:m1,RecoilValueReadOnly:g1,isRecoilValue:cI},fI=ff.AbstractRecoilValue,dI=ff.RecoilState,hI=ff.RecoilValueReadOnly,pI=ff.isRecoilValue,Ms=Object.freeze({__proto__:null,AbstractRecoilValue:fI,RecoilState:dI,RecoilValueReadOnly:hI,isRecoilValue:pI});function mI(t,e){return function*(){let n=0;for(const i of t)yield e(i,n++)}()}var df=mI;class v1{}const gI=new v1,ao=new Map,Ym=new Map;function vI(t){return df(t,e=>xt(Ym.get(e)))}function _I(t){if(ao.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function yI(t){p1.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&_I(t.key),ao.set(t.key,t);const e=t.set==null?new Ms.RecoilValueReadOnly(t.key):new Ms.RecoilState(t.key);return Ym.set(t.key,e),e}class _1 extends Error{}function xI(t){const e=ao.get(t);if(e==null)throw new _1(`Missing definition for RecoilValue: "${t}""`);return e}function SI(t){return ao.get(t)}const cc=new Map;function wI(t){var e;if(!lt("recoil_memory_managament_2020"))return;const n=ao.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var i;ao.delete(t),(i=y1(t))===null||i===void 0||i(),cc.delete(t)}}function MI(t,e){!lt("recoil_memory_managament_2020")||(e===void 0?cc.delete(t):cc.set(t,e))}function y1(t){return cc.get(t)}var xn={nodes:ao,recoilValues:Ym,registerNode:yI,getNode:xI,getNodeMaybe:SI,deleteNodeConfigIfPossible:wI,setConfigDeletionHandler:MI,getConfigDeletionHandler:y1,recoilValuesForKeys:vI,NodeMissingError:_1,DefaultValue:v1,DEFAULT_VALUE:gI};function bI(t,e){e()}var EI={enqueueExecution:bI};function TI(t,e){return e={exports:{}},t(e,e.exports),e.exports}var CI=TI(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},n={},i=5,r=Math.pow(2,i),o=r-1,s=r/2,a=r/4,l={},u=function(k){return function(){return k}},c=n.hash=function(O){var k=typeof O=="undefined"?"undefined":e(O);if(k==="number")return O;k!=="string"&&(O+="");for(var se=0,ye=0,D=O.length;ye<D;++ye){var B=O.charCodeAt(ye);se=(se<<5)-se+B|0}return se},f=function(k){return k-=k>>1&1431655765,k=(k&858993459)+(k>>2&858993459),k=k+(k>>4)&252645135,k+=k>>8,k+=k>>16,k&127},d=function(k,se){return se>>>k&o},p=function(k){return 1<<k},y=function(k,se){return f(k&se-1)},h=function(k,se,ye,D){var B=D;if(!k){var Q=D.length;B=new Array(Q);for(var ce=0;ce<Q;++ce)B[ce]=D[ce]}return B[se]=ye,B},m=function(k,se,ye){var D=ye.length-1,B=0,Q=0,ce=ye;if(k)B=Q=se;else for(ce=new Array(D);B<se;)ce[Q++]=ye[B++];for(++B;B<=D;)ce[Q++]=ye[B++];return k&&(ce.length=D),ce},g=function(k,se,ye,D){var B=D.length;if(k){for(var Q=B;Q>=se;)D[Q--]=D[Q];return D[se]=ye,D}for(var ce=0,pe=0,Re=new Array(B+1);ce<se;)Re[pe++]=D[ce++];for(Re[se]=ye;ce<B;)Re[++pe]=D[ce++];return Re},v=1,_=2,x=3,w=4,T={__hamt_isEmpty:!0},L=function(k){return k===T||k&&k.__hamt_isEmpty},S=function(k,se,ye,D){return{type:v,edit:k,hash:se,key:ye,value:D,_modify:F}},R=function(k,se,ye){return{type:_,edit:k,hash:se,children:ye,_modify:Y}},I=function(k,se,ye){return{type:x,edit:k,mask:se,children:ye,_modify:Z}},J=function(k,se,ye){return{type:w,edit:k,size:se,children:ye,_modify:me}},fe=function(k){return k===T||k.type===v||k.type===_},U=function(k,se,ye,D,B){for(var Q=[],ce=D,pe=0,Re=0;ce;++Re)ce&1&&(Q[Re]=B[pe++]),ce>>>=1;return Q[se]=ye,J(k,pe+1,Q)},z=function(k,se,ye,D){for(var B=new Array(se-1),Q=0,ce=0,pe=0,Re=D.length;pe<Re;++pe)if(pe!==ye){var Ue=D[pe];Ue&&!L(Ue)&&(B[Q++]=Ue,ce|=1<<pe)}return I(k,ce,B)},K=function O(k,se,ye,D,B,Q){if(ye===B)return R(k,ye,[Q,D]);var ce=d(se,ye),pe=d(se,B);return I(k,p(ce)|p(pe),ce===pe?[O(k,se+i,ye,D,B,Q)]:ce<pe?[D,Q]:[Q,D])},oe=function(k,se,ye,D,B,Q,ce,pe){for(var Re=B.length,Ue=0;Ue<Re;++Ue){var nt=B[Ue];if(ye(ce,nt.key)){var ut=nt.value,qe=Q(ut);return qe===ut?B:qe===l?(--pe.value,m(k,Ue,B)):h(k,Ue,S(se,D,ce,qe),B)}}var Tt=Q();return Tt===l?B:(++pe.value,h(k,Re,S(se,D,ce,Tt),B))},ie=function(k,se){return k===se.edit},F=function(k,se,ye,D,B,Q,ce){if(se(Q,this.key)){var pe=D(this.value);return pe===this.value?this:pe===l?(--ce.value,T):ie(k,this)?(this.value=pe,this):S(k,B,Q,pe)}var Re=D();return Re===l?this:(++ce.value,K(k,ye,this.hash,this,B,S(k,B,Q,Re)))},Y=function(k,se,ye,D,B,Q,ce){if(B===this.hash){var pe=ie(k,this),Re=oe(pe,k,se,this.hash,this.children,D,Q,ce);return Re===this.children?this:Re.length>1?R(k,this.hash,Re):Re[0]}var Ue=D();return Ue===l?this:(++ce.value,K(k,ye,this.hash,this,B,S(k,B,Q,Ue)))},Z=function(k,se,ye,D,B,Q,ce){var pe=this.mask,Re=this.children,Ue=d(ye,B),nt=p(Ue),ut=y(pe,nt),qe=pe&nt,Tt=qe?Re[ut]:T,Dt=Tt._modify(k,se,ye+i,D,B,Q,ce);if(Tt===Dt)return this;var Er=ie(k,this),Tr=pe,Cr=void 0;if(qe&&L(Dt)){if(Tr&=~nt,!Tr)return T;if(Re.length<=2&&fe(Re[ut^1]))return Re[ut^1];Cr=m(Er,ut,Re)}else if(!qe&&!L(Dt)){if(Re.length>=s)return U(k,Ue,Dt,pe,Re);Tr|=nt,Cr=g(Er,ut,Dt,Re)}else Cr=h(Er,ut,Dt,Re);return Er?(this.mask=Tr,this.children=Cr,this):I(k,Tr,Cr)},me=function(k,se,ye,D,B,Q,ce){var pe=this.size,Re=this.children,Ue=d(ye,B),nt=Re[Ue],ut=(nt||T)._modify(k,se,ye+i,D,B,Q,ce);if(nt===ut)return this;var qe=ie(k,this),Tt=void 0;if(L(nt)&&!L(ut))++pe,Tt=h(qe,Ue,ut,Re);else if(!L(nt)&&L(ut)){if(--pe,pe<=a)return z(k,pe,Ue,Re);Tt=h(qe,Ue,T,Re)}else Tt=h(qe,Ue,ut,Re);return qe?(this.size=pe,this.children=Tt,this):J(k,pe,Tt)};T._modify=function(O,k,se,ye,D,B,Q){var ce=ye();return ce===l?T:(++Q.value,S(O,D,B,ce))};function M(O,k,se,ye,D){this._editable=O,this._edit=k,this._config=se,this._root=ye,this._size=D}M.prototype.setTree=function(O,k){return this._editable?(this._root=O,this._size=k,this):O===this._root?this:new M(this._editable,this._edit,this._config,O,k)};var C=n.tryGetHash=function(O,k,se,ye){for(var D=ye._root,B=0,Q=ye._config.keyEq;;)switch(D.type){case v:return Q(se,D.key)?D.value:O;case _:{if(k===D.hash)for(var ce=D.children,pe=0,Re=ce.length;pe<Re;++pe){var Ue=ce[pe];if(Q(se,Ue.key))return Ue.value}return O}case x:{var nt=d(B,k),ut=p(nt);if(D.mask&ut){D=D.children[y(D.mask,ut)],B+=i;break}return O}case w:{if(D=D.children[d(B,k)],D){B+=i;break}return O}default:return O}};M.prototype.tryGetHash=function(O,k,se){return C(O,k,se,this)};var N=n.tryGet=function(O,k,se){return C(O,se._config.hash(k),k,se)};M.prototype.tryGet=function(O,k){return N(O,k,this)};var W=n.getHash=function(O,k,se){return C(void 0,O,k,se)};M.prototype.getHash=function(O,k){return W(O,k,this)},n.get=function(O,k){return C(void 0,k._config.hash(O),O,k)},M.prototype.get=function(O,k){return N(k,O,this)};var b=n.has=function(O,k,se){return C(l,O,k,se)!==l};M.prototype.hasHash=function(O,k){return b(O,k,this)};var ne=n.has=function(O,k){return b(k._config.hash(O),O,k)};M.prototype.has=function(O){return ne(O,this)};var $=function(k,se){return k===se};n.make=function(O){return new M(0,0,{keyEq:O&&O.keyEq||$,hash:O&&O.hash||c},T,0)},n.empty=n.make();var ee=n.isEmpty=function(O){return O&&!!L(O._root)};M.prototype.isEmpty=function(){return ee(this)};var te=n.modifyHash=function(O,k,se,ye){var D={value:ye._size},B=ye._root._modify(ye._editable?ye._edit:NaN,ye._config.keyEq,0,O,k,se,D);return ye.setTree(B,D.value)};M.prototype.modifyHash=function(O,k,se){return te(se,O,k,this)};var we=n.modify=function(O,k,se){return te(O,se._config.hash(k),k,se)};M.prototype.modify=function(O,k){return we(k,O,this)};var V=n.setHash=function(O,k,se,ye){return te(u(se),O,k,ye)};M.prototype.setHash=function(O,k,se){return V(O,k,se,this)};var X=n.set=function(O,k,se){return V(se._config.hash(O),O,k,se)};M.prototype.set=function(O,k){return X(O,k,this)};var de=u(l),ge=n.removeHash=function(O,k,se){return te(de,O,k,se)};M.prototype.removeHash=M.prototype.deleteHash=function(O,k){return ge(O,k,this)};var he=n.remove=function(O,k){return ge(k._config.hash(O),O,k)};M.prototype.remove=M.prototype.delete=function(O){return he(O,this)};var xe=n.beginMutation=function(O){return new M(O._editable+1,O._edit+1,O._config,O._root,O._size)};M.prototype.beginMutation=function(){return xe(this)};var Te=n.endMutation=function(O){return O._editable=O._editable&&O._editable-1,O};M.prototype.endMutation=function(){return Te(this)};var Pe=n.mutate=function(O,k){var se=xe(k);return O(se),Te(se)};M.prototype.mutate=function(O){return Pe(O,this)};var ze=function(k){return k&&Xe(k[0],k[1],k[2],k[3],k[4])},Xe=function(k,se,ye,D,B){for(;ye<k;){var Q=se[ye++];if(Q&&!L(Q))return P(Q,D,[k,se,ye,D,B])}return ze(B)},P=function(k,se,ye){switch(k.type){case v:return{value:se(k),rest:ye};case _:case w:case x:var D=k.children;return Xe(D.length,D,0,se,ye);default:return ze(ye)}},E={done:!0};function H(O){this.v=O}H.prototype.next=function(){if(!this.v)return E;var O=this.v;return this.v=ze(O.rest),O},H.prototype[Symbol.iterator]=function(){return this};var le=function(k,se){return new H(P(k._root,se))},Se=function(k){return[k.key,k.value]},be=n.entries=function(O){return le(O,Se)};M.prototype.entries=M.prototype[Symbol.iterator]=function(){return be(this)};var Ne=function(k){return k.key},Ae=n.keys=function(O){return le(O,Ne)};M.prototype.keys=function(){return Ae(this)};var ue=function(k){return k.value},Ie=n.values=M.prototype.values=function(O){return le(O,ue)};M.prototype.values=function(){return Ie(this)};var Fe=n.fold=function(O,k,se){var ye=se._root;if(ye.type===v)return O(k,ye.value,ye.key);for(var D=[ye.children],B=void 0;B=D.pop();)for(var Q=0,ce=B.length;Q<ce;){var pe=B[Q++];pe&&pe.type&&(pe.type===v?k=O(k,pe.value,pe.key):D.push(pe.children))}return k};M.prototype.fold=function(O,k){return Fe(O,k,this)};var De=n.forEach=function(O,k){return Fe(function(se,ye,D){return O(ye,D,k)},null,k)};M.prototype.forEach=function(O){return De(O,this)};var ke=n.count=function(O){return O._size};M.prototype.count=function(){return ke(this)},Object.defineProperty(M.prototype,"size",{get:M.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class AI{constructor(e){Ge(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Km(this)}toMap(){return new Map(this._map)}}class Zm{constructor(e){if(Ge(this,"_hamt",CI.empty.beginMutation()),e instanceof Zm){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,i]of e.entries())this._hamt.set(n,i)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Km(this)}toMap(){return new Map(this._hamt)}}function Km(t){return lt("recoil_hamt_2020")?new Zm(t):new AI(t)}var RI={persistentMap:Km},LI=RI.persistentMap,PI=Object.freeze({__proto__:null,persistentMap:LI});function DI(t,...e){const n=new Set;e:for(const i of t){for(const r of e)if(r.has(i))continue e;n.add(i)}return n}var Ra=DI;function NI(t,e){const n=new Map;return t.forEach((i,r)=>{n.set(r,e(i,r))}),n}var fc=NI;function II(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function kI(t){return{nodeDeps:fc(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:fc(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Kd(t,e,n,i){const{nodeDeps:r,nodeToNodeSubscriptions:o}=n,s=r.get(t);if(s&&i&&s!==i.nodeDeps.get(t))return;r.set(t,e);const a=s==null?e:Ra(e,s);for(const l of a)o.has(l)||o.set(l,new Set),xt(o.get(l)).add(t);if(s){const l=Ra(s,e);for(const u of l){if(!o.has(u))return;const c=xt(o.get(u));c.delete(t),c.size===0&&o.delete(u)}}}function OI(t,e,n,i){var r,o,s,a;const l=n.getState();i===l.currentTree.version||i===((r=l.nextTree)===null||r===void 0?void 0:r.version)||((o=l.previousTree)===null||o===void 0||o.version);const u=n.getGraph(i);if(Kd(t,e,u),i===((s=l.previousTree)===null||s===void 0?void 0:s.version)){const f=n.getGraph(l.currentTree.version);Kd(t,e,f,u)}if(i===((a=l.previousTree)===null||a===void 0?void 0:a.version)||i===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const d=n.getGraph(f);Kd(t,e,d,u)}}}var vl={cloneGraph:kI,graph:II,saveDepsToStore:OI};let FI=0;const zI=()=>FI++;let UI=0;const BI=()=>UI++;let VI=0;const GI=()=>VI++;var hf={getNextTreeStateVersion:zI,getNextStoreID:BI,getNextComponentID:GI};const{persistentMap:__}=PI,{graph:HI}=vl,{getNextTreeStateVersion:x1}=hf;function S1(){const t=x1();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:__(),nonvalidatedAtoms:__()}}function WI(){const t=S1();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,HI()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var w1={makeEmptyTreeState:S1,makeEmptyStoreState:WI,getNextTreeStateVersion:x1};class M1{}function $I(){return new M1}var pf={RetentionZone:M1,retentionZone:$I};function jI(t,e){const n=new Set(t);return n.add(e),n}function XI(t,e){const n=new Set(t);return n.delete(e),n}function qI(t,e,n){const i=new Map(t);return i.set(e,n),i}function YI(t,e,n){const i=new Map(t);return i.set(e,n(i.get(e))),i}function ZI(t,e){const n=new Map(t);return n.delete(e),n}function KI(t,e){const n=new Map(t);return e.forEach(i=>n.delete(i)),n}var b1={setByAddingToSet:jI,setByDeletingFromSet:XI,mapBySettingInMap:qI,mapByUpdatingInMap:YI,mapByDeletingFromMap:ZI,mapByDeletingMultipleFromMap:KI};function*JI(t,e){let n=0;for(const i of t)e(i,n++)&&(yield i)}var Jm=JI;function QI(t,e){return new Proxy(t,{get:(i,r)=>(!(r in i)&&r in e&&(i[r]=e[r]()),i[r]),ownKeys:i=>Object.keys(i)})}var E1=QI;const{getNode:_l,getNodeMaybe:ek,recoilValuesForKeys:y_}=xn,{RetentionZone:x_}=pf,{setByAddingToSet:tk}=b1,nk=Object.freeze(new Set);class ik extends Error{}function rk(t,e,n){if(!lt("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:i}=t.getState().retention;function r(o){let s=i.get(o);s||i.set(o,s=new Set),s.add(e)}if(n instanceof x_)r(n);else if(Array.isArray(n))for(const o of n)r(o);return()=>{if(!lt("recoil_memory_managament_2020"))return;const{retention:o}=t.getState();function s(a){const l=o.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&o.nodesRetainedByZone.delete(a)}if(n instanceof x_)s(n);else if(Array.isArray(n))for(const a of n)s(a)}}function Qm(t,e,n,i){const r=t.getState();if(r.nodeCleanupFunctions.has(n))return;const o=_l(n),s=rk(t,n,o.retainedBy),a=o.init(t,e,i);r.nodeCleanupFunctions.set(n,()=>{a(),s()})}function ok(t,e,n){Qm(t,t.getState().currentTree,e,n)}function sk(t,e){var n;const i=t.getState();(n=i.nodeCleanupFunctions.get(e))===null||n===void 0||n(),i.nodeCleanupFunctions.delete(e)}function ak(t,e,n){return Qm(t,e,n,"get"),_l(n).get(t,e)}function T1(t,e,n){return _l(n).peek(t,e)}function lk(t,e,n){var i;const r=ek(e);return r==null||(i=r.invalidate)===null||i===void 0||i.call(r,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:tk(t.dirtyAtoms,e)}}function uk(t,e,n,i){const r=_l(n);if(r.set==null)throw new ik(`Attempt to set read-only RecoilValue: ${n}`);const o=r.set;return Qm(t,e,n,"set"),o(t,e,i)}function ck(t,e,n){const i=t.getState(),r=t.getGraph(e.version),o=_l(n).nodeType;return E1({type:o},{loadable:()=>T1(t,e,n),isActive:()=>i.knownAtoms.has(n)||i.knownSelectors.has(n),isSet:()=>o==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var s;return y_((s=r.nodeDeps.get(n))!==null&&s!==void 0?s:[])},subscribers:()=>{var s,a;return{nodes:y_(Jm(C1(t,e,new Set([n])),l=>l!==n)),components:df((s=(a=i.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&s!==void 0?s:[],([l])=>({name:l}))}}})}function C1(t,e,n){const i=new Set,r=Array.from(n),o=t.getGraph(e.version);for(let a=r.pop();a;a=r.pop()){var s;i.add(a);const l=(s=o.nodeToNodeSubscriptions.get(a))!==null&&s!==void 0?s:nk;for(const u of l)i.has(u)||r.push(u)}return i}var Mr={getNodeLoadable:ak,peekNodeLoadable:T1,setNodeValue:uk,initializeNode:ok,cleanUpNode:sk,setUnvalidatedAtomValue_DEPRECATED:lk,peekNodeInfo:ck,getDownstreamNodes:C1};let A1=null;function fk(t){A1=t}function dk(){var t;(t=A1)===null||t===void 0||t()}var R1={setInvalidateMemoizedSnapshot:fk,invalidateMemoizedSnapshot:dk};const{getDownstreamNodes:hk,getNodeLoadable:L1,setNodeValue:pk}=Mr,{getNextComponentID:mk}=hf,{getNode:gk,getNodeMaybe:P1}=xn,{DefaultValue:eg}=xn,{reactMode:vk}=gl,{AbstractRecoilValue:_k,RecoilState:yk,RecoilValueReadOnly:xk,isRecoilValue:Sk}=Ms,{invalidateMemoizedSnapshot:wk}=R1;function Mk(t,{key:e},n=t.getState().currentTree){var i,r;const o=t.getState();n.version===o.currentTree.version||n.version===((i=o.nextTree)===null||i===void 0?void 0:i.version)||(n.version,(r=o.previousTree)===null||r===void 0||r.version);const s=L1(t,n,e);return s.state==="loading"&&s.contents.catch(()=>{}),s}function bk(t,e){const n=t.clone();return e.forEach((i,r)=>{i.state==="hasValue"&&i.contents instanceof eg?n.delete(r):n.set(r,i)}),n}function Ek(t,e,{key:n},i){if(typeof i=="function"){const r=L1(t,e,n);if(r.state==="loading"){const o=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw We(o)}else if(r.state==="hasError")throw r.contents;return i(r.contents)}else return i}function Tk(t,e,n){if(n.type==="set"){const{recoilValue:r,valueOrUpdater:o}=n,s=Ek(t,e,r,o),a=pk(t,e,r.key,s);for(const[l,u]of a.entries())xp(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:r},loadable:o}=n;xp(e,r,o)}else if(n.type==="markModified"){const{recoilValue:{key:r}}=n;e.dirtyAtoms.add(r)}else if(n.type==="setUnvalidated"){var i;const{recoilValue:{key:r},unvalidatedValue:o}=n,s=P1(r);s==null||(i=s.invalidate)===null||i===void 0||i.call(s,e),e.atomValues.delete(r),e.nonvalidatedAtoms.set(r,o),e.dirtyAtoms.add(r)}else Xm(`Unknown action ${n.type}`)}function xp(t,e,n){n.state==="hasValue"&&n.contents instanceof eg?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function D1(t,e){t.replaceState(n=>{const i=N1(n);for(const r of e)Tk(t,i,r);return I1(t,i),wk(),i})}function mf(t,e){if(La.length){const n=La[La.length-1];let i=n.get(t);i||n.set(t,i=[]),i.push(e)}else D1(t,[e])}const La=[];function Ck(){const t=new Map;return La.push(t),()=>{for(const[e,n]of t)D1(e,n);La.pop()}}function N1(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function I1(t,e){const n=hk(t,e,e.dirtyAtoms);for(const o of n){var i,r;(i=P1(o))===null||i===void 0||(r=i.invalidate)===null||r===void 0||r.call(i,e)}}function k1(t,e,n){mf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function Ak(t,e,n){if(n instanceof eg)return k1(t,e,n);mf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function Rk(t,e){mf(t,{type:"markModified",recoilValue:e})}function Lk(t,e,n){mf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function Pk(t,{key:e},n,i=null){const r=mk(),o=t.getState();o.nodeToComponentSubscriptions.has(e)||o.nodeToComponentSubscriptions.set(e,new Map),xt(o.nodeToComponentSubscriptions.get(e)).set(r,[i!=null?i:"<not captured>",n]);const s=vk();if(s.early&&(s.mode==="LEGACY"||s.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(r)||(l.delete(r),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function Dk(t,e){var n;const{currentTree:i}=t.getState(),r=gk(e.key);(n=r.clearCache)===null||n===void 0||n.call(r,t,i)}var yi={RecoilValueReadOnly:xk,AbstractRecoilValue:_k,RecoilState:yk,getRecoilValueAsLoadable:Mk,setRecoilValue:k1,setRecoilValueLoadable:Ak,markRecoilValueModified:Rk,setUnvalidatedRecoilValue:Lk,subscribeToRecoilValue:Pk,isRecoilValue:Sk,applyAtomValueWrites:bk,batchStart:Ck,writeLoadableToTreeState:xp,invalidateDownstreams:I1,copyTreeState:N1,refreshRecoilValue:Dk};function Nk(t,e,n){const i=t.entries();let r=i.next();for(;!r.done;){const o=r.value;if(e.call(n,o[1],o[0],t))return!0;r=i.next()}return!1}var Ik=Nk;const{cleanUpNode:kk}=Mr,{deleteNodeConfigIfPossible:Ok,getNode:O1}=xn,{RetentionZone:F1}=pf,Fk=12e4,z1=new Set;function U1(t,e){const n=t.getState(),i=n.currentTree;if(n.nextTree)return;const r=new Set;for(const s of e)if(s instanceof F1)for(const a of Vk(n,s))r.add(a);else r.add(s);const o=zk(t,r);for(const s of o)Bk(t,i,s)}function zk(t,e){const n=t.getState(),i=n.currentTree,r=t.getGraph(i.version),o=new Set,s=new Set;return a(e),o;function a(l){const u=new Set,c=Uk(t,i,l,o,s);for(const y of c){var f;if(O1(y).retainedBy==="recoilRoot"){s.add(y);continue}if(((f=n.retention.referenceCounts.get(y))!==null&&f!==void 0?f:0)>0){s.add(y);continue}if(B1(y).some(m=>n.retention.referenceCounts.get(m))){s.add(y);continue}const h=r.nodeToNodeSubscriptions.get(y);if(h&&Ik(h,m=>s.has(m))){s.add(y);continue}o.add(y),u.add(y)}const d=new Set;for(const y of u)for(const h of(p=r.nodeDeps.get(y))!==null&&p!==void 0?p:z1){var p;o.has(h)||d.add(h)}d.size&&a(d)}}function Uk(t,e,n,i,r){const o=t.getGraph(e.version),s=[],a=new Set;for(;n.size>0;)l(xt(n.values().next().value));return s;function l(u){if(i.has(u)||r.has(u)){n.delete(u);return}if(a.has(u))return;const c=o.nodeToNodeSubscriptions.get(u);if(c)for(const f of c)l(f);a.add(u),n.delete(u),s.push(u)}}function Bk(t,e,n){if(!lt("recoil_memory_managament_2020"))return;kk(t,n);const i=t.getState();i.knownAtoms.delete(n),i.knownSelectors.delete(n),i.nodeTransactionSubscriptions.delete(n),i.retention.referenceCounts.delete(n);const r=B1(n);for(const l of r){var o;(o=i.retention.nodesRetainedByZone.get(l))===null||o===void 0||o.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const s=i.graphsByVersion.get(e.version);if(s){const l=s.nodeDeps.get(n);if(l!==void 0){s.nodeDeps.delete(n);for(const u of l){var a;(a=s.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}s.nodeToNodeSubscriptions.delete(n)}Ok(n)}function Vk(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:z1}function B1(t){const e=O1(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof F1?[e]:e}function Gk(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):U1(t,new Set([e]))}function Hk(t,e,n){var i;if(!lt("recoil_memory_managament_2020"))return;const r=t.getState().retention.referenceCounts,o=((i=r.get(e))!==null&&i!==void 0?i:0)+n;o===0?V1(t,e):r.set(e,o)}function V1(t,e){if(!lt("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),Gk(t,e)}function Wk(t){if(!lt("recoil_memory_managament_2020"))return;const e=t.getState();U1(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function $k(t){return t===void 0?"recoilRoot":t}var po={SUSPENSE_TIMEOUT_MS:Fk,updateRetainCount:Hk,updateRetainCountToZero:V1,releaseScheduledRetainablesNow:Wk,retainedByOptionWithDefault:$k};const{unstable_batchedUpdates:jk}=Yb;var Xk={unstable_batchedUpdates:jk};const{unstable_batchedUpdates:qk}=Xk;var Yk={unstable_batchedUpdates:qk};const{batchStart:Zk}=yi,{unstable_batchedUpdates:Kk}=Yk;let tg=Kk;const Jk=t=>{tg=t},Qk=()=>tg,e4=t=>{tg(()=>{let e=()=>{};try{e=Zk(),t()}finally{e()}})};var gf={getBatcher:Qk,setBatcher:Jk,batchUpdates:e4};function*t4(t){for(const e of t)for(const n of e)yield n}var G1=t4;const H1=typeof Window=="undefined"||typeof window=="undefined",n4=t=>!H1&&(t===window||t instanceof Window),i4=typeof navigator!="undefined"&&navigator.product==="ReactNative";var ng={isSSR:H1,isReactNative:i4,isWindow:n4};function r4(t,e){let n;return(...r)=>{n||(n={});const o=e(...r);return Object.hasOwnProperty.call(n,o)||(n[o]=t(...r)),n[o]}}function o4(t,e){let n,i;return(...o)=>{const s=e(...o);return n===s||(n=s,i=t(...o)),i}}function s4(t,e){let n,i;return[(...s)=>{const a=e(...s);return n===a||(n=a,i=t(...s)),i},()=>{n=null}]}var a4={memoizeWithArgsHash:r4,memoizeOneWithArgsHash:o4,memoizeOneWithArgsHashAndInvalidation:s4};const{batchUpdates:Sp}=gf,{initializeNode:l4,peekNodeInfo:u4}=Mr,{graph:c4}=vl,{getNextStoreID:f4}=hf,{DEFAULT_VALUE:d4,recoilValues:S_,recoilValuesForKeys:w_}=xn,{AbstractRecoilValue:h4,getRecoilValueAsLoadable:p4,setRecoilValue:M_,setUnvalidatedRecoilValue:m4}=yi,{updateRetainCount:Iu}=po,{setInvalidateMemoizedSnapshot:g4}=R1,{getNextTreeStateVersion:v4,makeEmptyStoreState:_4}=w1,{isSSR:y4}=ng,{memoizeOneWithArgsHashAndInvalidation:x4}=a4;class vf{constructor(e,n){Ge(this,"_store",void 0),Ge(this,"_refCount",1),Ge(this,"getLoadable",i=>(this.checkRefCount_INTERNAL(),p4(this._store,i))),Ge(this,"getPromise",i=>(this.checkRefCount_INTERNAL(),this.getLoadable(i).toPromise())),Ge(this,"getNodes_UNSTABLE",i=>{if(this.checkRefCount_INTERNAL(),(i==null?void 0:i.isModified)===!0){if((i==null?void 0:i.isInitialized)===!1)return[];const s=this._store.getState().currentTree;return w_(s.dirtyAtoms)}const r=this._store.getState().knownAtoms,o=this._store.getState().knownSelectors;return(i==null?void 0:i.isInitialized)==null?S_.values():i.isInitialized===!0?w_(G1([r,o])):Jm(S_.values(),({key:s})=>!r.has(s)&&!o.has(s))}),Ge(this,"getInfo_UNSTABLE",({key:i})=>(this.checkRefCount_INTERNAL(),u4(this._store,this._store.getState().currentTree,i))),Ge(this,"map",i=>{this.checkRefCount_INTERNAL();const r=new wp(this,Sp);return i(r),r}),Ge(this,"asyncMap",async i=>{this.checkRefCount_INTERNAL();const r=new wp(this,Sp);return r.retain(),await i(r),r.autoRelease_INTERNAL(),r}),this._store={storeID:f4(),parentStoreID:n,getState:()=>e,replaceState:i=>{e.currentTree=i(e.currentTree)},getGraph:i=>{const r=e.graphsByVersion;if(r.has(i))return xt(r.get(i));const o=c4();return r.set(i,o),o},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw We("Cannot subscribe to Snapshots")}};for(const i of this._store.getState().knownAtoms)l4(this._store,i,"get"),Iu(this._store,i,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){y4||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!lt("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){lt("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function W1(t,e,n=!1){const i=t.getState(),r=n?v4():e.version;return{currentTree:{version:n?r:e.version,stateID:n?r:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(i.knownAtoms),knownSelectors:new Set(i.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(r,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(df(i.nodeCleanupFunctions.entries(),([o])=>[o,()=>{}]))}}function S4(t){const e=new vf(_4());return t!=null?e.map(t):e}const[b_,$1]=x4((t,e)=>{var n;const i=t.getState(),r=e==="latest"?(n=i.nextTree)!==null&&n!==void 0?n:i.currentTree:xt(i.previousTree);return new vf(W1(t,r),t.storeID)},(t,e)=>{var n,i;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((i=t.getState().previousTree)===null||i===void 0?void 0:i.version)});g4($1);function w4(t,e="latest"){const n=b_(t,e);return n.isRetained()?n:($1(),b_(t,e))}class wp extends vf{constructor(e,n){super(W1(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),Ge(this,"_batch",void 0),Ge(this,"set",(i,r)=>{this.checkRefCount_INTERNAL();const o=this.getStore_INTERNAL();this._batch(()=>{Iu(o,i.key,1),M_(this.getStore_INTERNAL(),i,r)})}),Ge(this,"reset",i=>{this.checkRefCount_INTERNAL();const r=this.getStore_INTERNAL();this._batch(()=>{Iu(r,i.key,1),M_(this.getStore_INTERNAL(),i,d4)})}),Ge(this,"setUnvalidatedAtomValues_DEPRECATED",i=>{this.checkRefCount_INTERNAL();const r=this.getStore_INTERNAL();Sp(()=>{for(const[o,s]of i.entries())Iu(r,o,1),m4(r,new h4(o),s)})}),this._batch=n}}var _f={Snapshot:vf,MutableSnapshot:wp,freshSnapshot:S4,cloneSnapshot:w4},M4=_f.Snapshot,b4=_f.MutableSnapshot,E4=_f.freshSnapshot,T4=_f.cloneSnapshot,yf=Object.freeze({__proto__:null,Snapshot:M4,MutableSnapshot:b4,freshSnapshot:E4,cloneSnapshot:T4});function C4(...t){const e=new Set;for(const n of t)for(const i of n)e.add(i);return e}var A4=C4;const{useRef:R4}=He;function L4(t){const e=R4(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var E_=L4;const{getNextTreeStateVersion:P4,makeEmptyStoreState:j1}=w1,{cleanUpNode:D4,getDownstreamNodes:N4,initializeNode:I4,setNodeValue:k4,setUnvalidatedAtomValue_DEPRECATED:O4}=Mr,{graph:F4}=vl,{cloneGraph:z4}=vl,{getNextStoreID:X1}=hf,{createMutableSource:Jd,reactMode:q1}=gl,{applyAtomValueWrites:U4}=yi,{releaseScheduledRetainablesNow:Y1}=po,{freshSnapshot:B4}=yf,{useCallback:V4,useContext:Z1,useEffect:Mp,useMemo:G4,useRef:H4,useState:W4}=He;function oa(){throw We("This component must be used inside a <RecoilRoot> component.")}const K1=Object.freeze({storeID:X1(),getState:oa,replaceState:oa,getGraph:oa,subscribeToTransactions:oa,addTransactionMetadata:oa});let bp=!1;function T_(t){if(bp)throw We("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){lt("recoil_memory_managament_2020")&&lt("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Y1(t);const n=e.currentTree.version,i=P4();e.nextTree={...e.currentTree,version:i,stateID:i,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(i,z4(xt(e.graphsByVersion.get(n))))}}const J1=He.createContext({current:K1}),xf=()=>Z1(J1),Q1=He.createContext(null);function $4(){return Z1(Q1)}function ig(t,e,n){const i=N4(t,n,n.dirtyAtoms);for(const r of i){const o=e.nodeToComponentSubscriptions.get(r);if(o)for(const[s,[a,l]]of o)l(n)}}function ew(t){const e=t.getState(),n=e.currentTree,i=n.dirtyAtoms;if(i.size){for(const[r,o]of e.nodeTransactionSubscriptions)if(i.has(r))for(const[s,a]of o)a(t);for(const[r,o]of e.transactionSubscriptions)o(t);(!q1().early||e.suspendedComponentResolvers.size>0)&&(ig(t,e,n),e.suspendedComponentResolvers.forEach(r=>r()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(r=>r(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function j4(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,ew(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Xm("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,lt("recoil_memory_managament_2020")&&n==null&&Y1(t)}finally{e.commitDepth--}}function X4({setNotifyBatcherOfChange:t}){const e=xf(),[,n]=W4([]);return t(()=>n({})),Mp(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Mp(()=>{EI.enqueueExecution("Batcher",()=>{j4(e.current)})}),null}function q4(t,e){const n=j1();return e({set:(i,r)=>{const o=n.currentTree,s=k4(t,o,i.key,r),a=new Set(s.keys()),l=o.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...o,dirtyAtoms:A4(o.dirtyAtoms,a),atomValues:U4(o.atomValues,s),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:i=>{i.forEach((r,o)=>{n.currentTree=O4(n.currentTree,o,r)})}}),n}function Y4(t){const e=B4(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(i=>i()),n.nodeCleanupFunctions.clear(),n}let C_=0;function Z4({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:i}){let r;const o=p=>{const y=r.current.graphsByVersion;if(y.has(p))return xt(y.get(p));const h=F4();return y.set(p,h),h},s=(p,y)=>{if(y==null){const{transactionSubscriptions:h}=f.current.getState(),m=C_++;return h.set(m,p),{release:()=>{h.delete(m)}}}else{const{nodeTransactionSubscriptions:h}=f.current.getState();h.has(y)||h.set(y,new Map);const m=C_++;return xt(h.get(y)).set(m,p),{release:()=>{const g=h.get(y);g&&(g.delete(m),g.size===0&&h.delete(y))}}}},a=p=>{T_(f.current);for(const y of Object.keys(p))xt(f.current.getState().nextTree).transactionMetadata[y]=p[y]},l=p=>{T_(f.current);const y=xt(r.current.nextTree);let h;try{bp=!0,h=p(y)}finally{bp=!1}h!==y&&(r.current.nextTree=h,q1().early&&ig(f.current,r.current,h),xt(u.current)())},u=H4(null),c=V4(p=>{u.current=p},[u]),f=E_(()=>n!=null?n:{storeID:X1(),getState:()=>r.current,replaceState:l,getGraph:o,subscribeToTransactions:s,addTransactionMetadata:a});n!=null&&(f.current=n),r=E_(()=>t!=null?q4(f.current,t):e!=null?Y4(e):j1());const d=G4(()=>Jd==null?void 0:Jd(r,()=>r.current.currentTree.version),[r]);return Mp(()=>{const p=f.current;for(const y of new Set(p.getState().knownAtoms))I4(p,y,"get");return()=>{for(const y of p.getState().knownAtoms)D4(p,y)}},[f]),He.createElement(J1.Provider,{value:f},He.createElement(Q1.Provider,{value:d},He.createElement(X4,{setNotifyBatcherOfChange:c}),i))}function K4(t){const{override:e,...n}=t,i=xf();return e===!1&&i.current!==K1?t.children:He.createElement(Z4,n)}function J4(){return xf().current.storeID}var Gi={RecoilRoot:K4,useStoreRef:xf,useRecoilMutableSource:$4,useRecoilStoreID:J4,notifyComponents_FOR_TESTING:ig,sendEndOfBatchNotifications_FOR_TESTING:ew};function Q4(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}var eO=Q4;const{useEffect:tO,useRef:nO}=He;function iO(t){const e=nO();return tO(()=>{e.current=t}),e.current}var tw=iO;const{useStoreRef:rO}=Gi,{SUSPENSE_TIMEOUT_MS:oO}=po,{updateRetainCount:sa}=po,{RetentionZone:sO}=pf,{useEffect:aO,useRef:lO}=He,{isSSR:A_}=ng;function uO(t){if(!!lt("recoil_memory_managament_2020"))return cO(t)}function cO(t){const n=(Array.isArray(t)?t:[t]).map(s=>s instanceof sO?s:s.key),i=rO();aO(()=>{if(!lt("recoil_memory_managament_2020"))return;const s=i.current;if(r.current&&!A_)window.clearTimeout(r.current),r.current=null;else for(const a of n)sa(s,a,1);return()=>{for(const a of n)sa(s,a,-1)}},[i,...n]);const r=lO(),o=tw(n);if(!A_&&(o===void 0||!eO(o,n))){const s=i.current;for(const a of n)sa(s,a,1);if(o)for(const a of o)sa(s,a,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>{r.current=null;for(const a of n)sa(s,a,-1)},oO)}}var rg=uO;function fO(){return"<component name not available>"}var yl=fO;const{batchUpdates:dO}=gf,{DEFAULT_VALUE:nw}=xn,{currentRendererSupportsUseSyncExternalStore:hO,reactMode:Os,useMutableSource:pO,useSyncExternalStore:mO}=gl,{useRecoilMutableSource:gO,useStoreRef:xi}=Gi,{AbstractRecoilValue:Ep,getRecoilValueAsLoadable:xl,setRecoilValue:dc,setUnvalidatedRecoilValue:vO,subscribeToRecoilValue:bs}=yi,{useCallback:_n,useEffect:Es,useMemo:iw,useRef:Pa,useState:og}=He,{setByAddingToSet:_O}=b1;function sg(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(r=>{n.current.getState().suspendedComponentResolvers.add(r)}):t.state==="hasError"?t.contents:We(`Invalid value of loadable atom "${e.key}"`)}function yO(){const t=yl(),e=xi(),[,n]=og([]),i=Pa(new Set);i.current=new Set;const r=Pa(new Set),o=Pa(new Map),s=_n(l=>{const u=o.current.get(l);u&&(u.release(),o.current.delete(l))},[o]),a=_n((l,u)=>{o.current.has(u)&&n([])},[]);return Es(()=>{const l=e.current;Ra(i.current,r.current).forEach(u=>{if(o.current.has(u))return;const c=bs(l,new Ep(u),d=>a(d,u),t);o.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),Ra(r.current,i.current).forEach(u=>{s(u)}),r.current=i.current}),Es(()=>{const l=o.current;return Ra(i.current,new Set(l.keys())).forEach(u=>{const c=bs(e.current,new Ep(u),f=>a(f,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>s(c))},[t,e,s,a]),iw(()=>{function l(y){return h=>{dc(e.current,y,h)}}function u(y){return()=>dc(e.current,y,nw)}function c(y){var h;i.current.has(y.key)||(i.current=_O(i.current,y.key));const m=e.current.getState();return xl(e.current,y,Os().early&&(h=m.nextTree)!==null&&h!==void 0?h:m.currentTree)}function f(y){const h=c(y);return sg(h,y,e)}function d(y){return[f(y),l(y)]}function p(y){return[c(y),l(y)]}return{getRecoilValue:f,getRecoilValueLoadable:c,getRecoilState:d,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[i,e])}const xO={current:0};function SO(t){const e=xi(),n=yl(),i=_n(()=>{var a;const l=e.current,u=l.getState(),c=Os().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:xl(l,t,c),key:t.key}},[e,t]),r=_n(a=>{let l;return()=>{var u,c;const f=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),o=iw(()=>r(i),[i,r]),s=_n(a=>{const l=e.current;return bs(l,t,a,n).release},[e,t,n]);return mO(s,o,o).loadable}function wO(t){const e=xi(),n=_n(()=>{var u;const c=e.current,f=c.getState(),d=Os().early&&(u=f.nextTree)!==null&&u!==void 0?u:f.currentTree;return xl(c,t,d)},[e,t]),i=_n(()=>n(),[n]),r=yl(),o=_n((u,c)=>{const f=e.current;return bs(f,t,()=>{if(!lt("recoil_suppress_rerender_in_callback"))return c();const p=n();l.current.is(p)||c(),l.current=p},r).release},[e,t,r,n]),s=gO();if(s==null)throw We("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=pO(s,i,o),l=Pa(a);return Es(()=>{l.current=a}),a}function Tp(t){const e=xi(),n=yl(),i=_n(()=>{var l;const u=e.current,c=u.getState(),f=Os().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return xl(u,t,f)},[e,t]),r=_n(()=>({loadable:i(),key:t.key}),[i,t.key]),o=_n(l=>{const u=r();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[r]);Es(()=>{const l=bs(e.current,t,u=>{a(o)},n);return a(o),l.release},[n,t,e,o]);const[s,a]=og(r);return s.key!==t.key?r().loadable:s.loadable}function MO(t){const e=xi(),[,n]=og([]),i=yl(),r=_n(()=>{var a;const l=e.current,u=l.getState(),c=Os().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return xl(l,t,c)},[e,t]),o=r(),s=Pa(o);return Es(()=>{s.current=o}),Es(()=>{const a=e.current,l=a.getState(),u=bs(a,t,f=>{var d;if(!lt("recoil_suppress_rerender_in_callback"))return n([]);const p=r();(d=s.current)!==null&&d!==void 0&&d.is(p)||n(p),s.current=p},i);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,n([])});else{var c;if(!lt("recoil_suppress_rerender_in_callback"))return n([]);const f=r();(c=s.current)!==null&&c!==void 0&&c.is(f)||n(f),s.current=f}return u.release},[i,r,t,e]),o}function ag(t){return lt("recoil_memory_managament_2020")&&rg(t),{TRANSITION_SUPPORT:Tp,SYNC_EXTERNAL_STORE:hO()?SO:Tp,MUTABLE_SOURCE:wO,LEGACY:MO}[Os().mode](t)}function rw(t){const e=xi(),n=ag(t);return sg(n,t,e)}function Sf(t){const e=xi();return _n(n=>{dc(e.current,t,n)},[e,t])}function bO(t){const e=xi();return _n(()=>{dc(e.current,t,nw)},[e,t])}function EO(t){return[rw(t),Sf(t)]}function TO(t){return[ag(t),Sf(t)]}function CO(){const t=xi();return(e,n={})=>{dO(()=>{t.current.addTransactionMetadata(n),e.forEach((i,r)=>vO(t.current,new Ep(r),i))})}}function ow(t){return lt("recoil_memory_managament_2020")&&rg(t),Tp(t)}function sw(t){const e=xi(),n=ow(t);return sg(n,t,e)}function AO(t){return[sw(t),Sf(t)]}var RO={recoilComponentGetRecoilValueCount_FOR_TESTING:xO,useRecoilInterface:yO,useRecoilState:EO,useRecoilStateLoadable:TO,useRecoilValue:rw,useRecoilValueLoadable:ag,useResetRecoilState:bO,useSetRecoilState:Sf,useSetUnvalidatedAtomValues:CO,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:ow,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:sw,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:AO};function LO(t,e){const n=new Map;for(const[i,r]of t)e(r,i)&&n.set(i,r);return n}var PO=LO;function DO(t,e){const n=new Set;for(const i of t)e(i)&&n.add(i);return n}var NO=DO;function IO(...t){const e=new Map;for(let n=0;n<t.length;n++){const i=t[n].keys();let r;for(;!(r=i.next()).done;)e.set(r.value,t[n].get(r.value))}return e}var kO=IO;const{batchUpdates:OO}=gf,{DEFAULT_VALUE:FO,getNode:aw,nodes:zO}=xn,{useStoreRef:lg}=Gi,{AbstractRecoilValue:UO,setRecoilValueLoadable:BO}=yi,{SUSPENSE_TIMEOUT_MS:VO}=po,{cloneSnapshot:hc}=yf,{useCallback:wf,useEffect:lw,useRef:R_,useState:GO}=He,{isSSR:L_}=ng;function Mf(t){const e=lg();lw(()=>e.current.subscribeToTransactions(t).release,[t,e])}function P_(t){const e=t.atomValues.toMap(),n=fc(PO(e,(i,r)=>{const s=aw(r).persistence_UNSTABLE;return s!=null&&s.type!=="none"&&i.state==="hasValue"}),i=>i.contents);return kO(t.nonvalidatedAtoms.toMap(),n)}function HO(t){Mf(wf(e=>{let n=e.getState().previousTree;const i=e.getState().currentTree;n||(n=e.getState().currentTree);const r=P_(i),o=P_(n),s=fc(zO,l=>{var u,c,f,d;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(f=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.backButton)!==null&&f!==void 0?f:!1}}}),a=NO(i.dirtyAtoms,l=>r.has(l)||o.has(l));t({atomValues:r,previousAtomValues:o,atomInfo:s,modifiedAtoms:a,transactionMetadata:{...i.transactionMetadata}})},[t]))}function WO(t){Mf(wf(e=>{const n=hc(e,"latest"),i=hc(e,"previous");t({snapshot:n,previousSnapshot:i})},[t]))}function $O(){const t=lg(),[e,n]=GO(()=>hc(t.current)),i=tw(e),r=R_(),o=R_();if(Mf(wf(a=>n(hc(a)),[])),lw(()=>{const a=e.retain();if(r.current&&!L_){var l;window.clearTimeout(r.current),r.current=null,(l=o.current)===null||l===void 0||l.call(o),o.current=null}return()=>{window.setTimeout(a,10)}},[e]),i!==e&&!L_){if(r.current){var s;window.clearTimeout(r.current),r.current=null,(s=o.current)===null||s===void 0||s.call(o),o.current=null}o.current=e.retain(),r.current=window.setTimeout(()=>{var a;r.current=null,(a=o.current)===null||a===void 0||a.call(o),o.current=null},VO)}return e}function uw(t,e){var n;const i=t.getState(),r=(n=i.nextTree)!==null&&n!==void 0?n:i.currentTree,o=e.getStore_INTERNAL().getState().currentTree;OO(()=>{const s=new Set;for(const u of[r.atomValues.keys(),o.atomValues.keys()])for(const c of u){var a,l;((a=r.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=o.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&aw(c).shouldRestoreFromSnapshots&&s.add(c)}s.forEach(u=>{BO(t,new UO(u),o.atomValues.has(u)?xt(o.atomValues.get(u)):FO)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function jO(){const t=lg();return wf(e=>uw(t.current,e),[t])}var cw={useRecoilSnapshot:$O,gotoSnapshot:uw,useGotoRecoilSnapshot:jO,useRecoilTransactionObserver:WO,useTransactionObservation_DEPRECATED:HO,useTransactionSubscription_DEPRECATED:Mf};const{peekNodeInfo:XO}=Mr,{useStoreRef:qO}=Gi;function YO(){const t=qO();return({key:e})=>XO(t.current,t.current.getState().currentTree,e)}var ZO=YO;const{reactMode:KO}=gl,{RecoilRoot:JO,useStoreRef:QO}=Gi,{useMemo:eF}=He;function tF(){KO().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=QO().current;return eF(()=>{function e({children:n}){return He.createElement(JO,{store_INTERNAL:t},n)}return e},[t])}var nF=tF;const{loadableWithValue:iF}=ml,{initializeNode:rF}=Mr,{DEFAULT_VALUE:oF,getNode:sF}=xn,{copyTreeState:aF,getRecoilValueAsLoadable:lF,invalidateDownstreams:uF,writeLoadableToTreeState:cF}=yi;function D_(t){return sF(t.key).nodeType==="atom"}class fF{constructor(e,n){Ge(this,"_store",void 0),Ge(this,"_treeState",void 0),Ge(this,"_changes",void 0),Ge(this,"get",i=>{if(this._changes.has(i.key))return this._changes.get(i.key);if(!D_(i))throw We("Reading selectors within atomicUpdate is not supported");const r=lF(this._store,i,this._treeState);if(r.state==="hasValue")return r.contents;throw r.state==="hasError"?r.contents:We(`Expected Recoil atom ${i.key} to have a value, but it is in a loading state.`)}),Ge(this,"set",(i,r)=>{if(!D_(i))throw We("Setting selectors within atomicUpdate is not supported");if(typeof r=="function"){const o=this.get(i);this._changes.set(i.key,r(o))}else rF(this._store,i.key,"set"),this._changes.set(i.key,r)}),Ge(this,"reset",i=>{this.set(i,oF)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=aF(this._treeState);for(const[n,i]of this._changes)cF(e,n,iF(i));return uF(this._store,e),e}}function dF(t){return e=>{t.replaceState(n=>{const i=new fF(t,n);return e(i),i.newTreeState_INTERNAL()})}}var hF={atomicUpdater:dF},pF=hF.atomicUpdater,fw=Object.freeze({__proto__:null,atomicUpdater:pF});function mF(t,e){if(!t)throw new Error(e)}var gF=mF,ga=gF;const{atomicUpdater:vF}=fw,{batchUpdates:_F}=gf,{DEFAULT_VALUE:yF}=xn,{useStoreRef:xF}=Gi,{refreshRecoilValue:SF,setRecoilValue:N_}=yi,{cloneSnapshot:wF}=yf,{gotoSnapshot:MF}=cw,{useCallback:bF}=He;class dw{}const EF=new dw;function hw(t,e,n,i){let r=EF,o;if(_F(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw We(a);const l=E1({...i!=null?i:{},set:(c,f)=>N_(t,c,f),reset:c=>N_(t,c,yF),refresh:c=>SF(t,c),gotoSnapshot:c=>MF(t,c),transact_UNSTABLE:c=>vF(t)(c)},{snapshot:()=>{const c=wF(t);return o=c.retain(),c}}),u=e(l);if(typeof u!="function")throw We(a);r=u(...n)}),r instanceof dw&&ga(!1),yt(r))r.finally(()=>{var a;(a=o)===null||a===void 0||a()});else{var s;(s=o)===null||s===void 0||s()}return r}function TF(t,e){const n=xF();return bF((...i)=>hw(n.current,t,i),e!=null?[...e,n]:void 0)}var pw={recoilCallback:hw,useRecoilCallback:TF};const{useStoreRef:CF}=Gi,{refreshRecoilValue:AF}=yi,{useCallback:RF}=He;function LF(t){const e=CF();return RF(()=>{const n=e.current;AF(n,t)},[t,e])}var PF=LF;const{atomicUpdater:DF}=fw,{useStoreRef:NF}=Gi,{useMemo:IF}=He;function kF(t,e){const n=NF();return IF(()=>(...i)=>{DF(n.current)(o=>{t(o)(...i)})},e!=null?[...e,n]:void 0)}var OF=kF;class FF{constructor(e){Ge(this,"value",void 0),this.value=e}}var zF={WrappedValue:FF},UF=zF.WrappedValue,mw=Object.freeze({__proto__:null,WrappedValue:UF});const{isFastRefreshEnabled:BF}=gl;class I_ extends Error{}class VF{constructor(e){var n,i,r;Ge(this,"_name",void 0),Ge(this,"_numLeafs",void 0),Ge(this,"_root",void 0),Ge(this,"_onHit",void 0),Ge(this,"_onSet",void 0),Ge(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(i=e==null?void 0:e.onSet)!==null&&i!==void 0?i:()=>{},this._mapNodeValue=(r=e==null?void 0:e.mapNodeValue)!==null&&r!==void 0?r:o=>o}size(){return this._numLeafs}root(){return this._root}get(e,n){var i;return(i=this.getLeafNode(e,n))===null||i===void 0?void 0:i.value}getLeafNode(e,n){if(this._root==null)return;let i=this._root;for(;i;){if(n==null||n.onNodeVisit(i),i.type==="leaf")return this._onHit(i),i;const r=this._mapNodeValue(e(i.nodeKey));i=i.branches.get(r)}}set(e,n,i){const r=()=>{var o,s,a,l;let u,c;for(const[m,g]of e){var f,d,p;const v=this._root;if((v==null?void 0:v.type)==="leaf")throw this.invalidCacheError();const _=u;if(u=_?_.branches.get(c):v,u=(f=u)!==null&&f!==void 0?f:{type:"branch",nodeKey:m,parent:_,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==m)throw this.invalidCacheError();_==null||_.branches.set(c,u),i==null||(d=i.onNodeVisit)===null||d===void 0||d.call(i,u),c=this._mapNodeValue(g),this._root=(p=this._root)!==null&&p!==void 0?p:u}const y=u?(o=u)===null||o===void 0?void 0:o.branches.get(c):this._root;if(y!=null&&(y.type!=="leaf"||y.branchKey!==c))throw this.invalidCacheError();const h={type:"leaf",value:n,parent:u,branchKey:c};(s=u)===null||s===void 0||s.branches.set(c,h),this._root=(a=this._root)!==null&&a!==void 0?a:h,this._numLeafs++,this._onSet(h),i==null||(l=i.onNodeVisit)===null||l===void 0||l.call(i,h)};try{r()}catch(o){if(o instanceof I_)this.clear(),r();else throw o}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let i=e.parent,r=e.branchKey;for(;i;){var o;if(i.branches.delete(r),i===n)return i.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(i.branches.size>0)break;r=(o=i)===null||o===void 0?void 0:o.branchKey,i=i.parent}for(;i!==n;i=i.parent)if(i==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=BF()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Xm(e+(this._name!=null?` - ${this._name}`:"")),new I_}}var GF={TreeCache:VF},HF=GF.TreeCache,gw=Object.freeze({__proto__:null,TreeCache:HF});class WF{constructor(e){var n;Ge(this,"_maxSize",void 0),Ge(this,"_size",void 0),Ge(this,"_head",void 0),Ge(this,"_tail",void 0),Ge(this,"_map",void 0),Ge(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:i=>i}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),i=this._map.get(n);if(!!i)return this.set(e,i.value),i.value}set(e,n){const i=this._keyMapper(e);this._map.get(i)&&this.delete(e);const o=this.head(),s={key:e,right:o,left:null,value:n};o?o.left=s:this._tail=s,this._map.set(i,s),this._head=s,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const i=xt(this._map.get(n)),r=i.right,o=i.left;r&&(r.left=i.left),o&&(o.right=i.right),i===this.head()&&(this._head=r),i===this.tail()&&(this._tail=o),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var $F={LRUCache:WF},jF=$F.LRUCache,vw=Object.freeze({__proto__:null,LRUCache:jF});const{LRUCache:XF}=vw,{TreeCache:qF}=gw;function YF({name:t,maxSize:e,mapNodeValue:n=i=>i}){const i=new XF({maxSize:e}),r=new qF({name:t,mapNodeValue:n,onHit:o=>{i.set(o,!0)},onSet:o=>{const s=i.tail();i.set(o,!0),s&&r.size()>e&&r.delete(s.key)}});return r}var k_=YF;function Kn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw We("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var i;return(i=JSON.stringify(t))!==null&&i!==void 0?i:""}if(yt(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((r,o)=>Kn(r,e,o.toString()))}]`;if(typeof t.toJSON=="function")return Kn(t.toJSON(n),e,n);if(t instanceof Map){const r={};for(const[o,s]of t)r[typeof o=="string"?o:Kn(o,e)]=s;return Kn(r,e,n)}return t instanceof Set?Kn(Array.from(t).sort((r,o)=>Kn(r,e).localeCompare(Kn(o,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Kn(Array.from(t),e,n):`{${Object.keys(t).filter(r=>t[r]!==void 0).sort().map(r=>`${Kn(r,e)}:${Kn(t[r],e,r)}`).join(",")}}`}function ZF(t,e={allowFunctions:!1}){return Kn(t,e)}var bf=ZF;const{TreeCache:KF}=gw,du={equality:"reference",eviction:"keep-all",maxSize:1/0};function JF({equality:t=du.equality,eviction:e=du.eviction,maxSize:n=du.maxSize}=du,i){const r=QF(t);return ez(e,n,r,i)}function QF(t){switch(t){case"reference":return e=>e;case"value":return e=>bf(e)}throw We(`Unrecognized equality policy ${t}`)}function ez(t,e,n,i){switch(t){case"keep-all":return new KF({name:i,mapNodeValue:n});case"lru":return k_({name:i,maxSize:xt(e),mapNodeValue:n});case"most-recent":return k_({name:i,maxSize:1,mapNodeValue:n})}throw We(`Unrecognized eviction policy ${t}`)}var tz=JF;function nz(t){return()=>null}var iz={startPerfBlock:nz};const{isLoadable:rz,loadableWithError:hu,loadableWithPromise:oz,loadableWithValue:Qd}=ml,{WrappedValue:_w}=mw,{getNodeLoadable:pu,peekNodeLoadable:sz,setNodeValue:az}=Mr,{saveDepsToStore:lz}=vl,{DEFAULT_VALUE:uz,getConfigDeletionHandler:cz,getNode:fz,registerNode:O_}=xn,{isRecoilValue:dz}=Ms,{markRecoilValueModified:F_}=yi,{retainedByOptionWithDefault:hz}=po,{recoilCallback:pz}=pw,{startPerfBlock:mz}=iz;class yw{}const aa=new yw,la=[],mu=new Map,gz=(()=>{let t=0;return()=>t++})();function xw(t){let e=null;const{key:n,get:i,cachePolicy_UNSTABLE:r}=t,o=t.set!=null?t.set:void 0,s=new Set,a=tz(r!=null?r:{equality:"reference",eviction:"keep-all"},n),l=hz(t.retainedBy_UNSTABLE),u=new Map;let c=0;function f(){return!lt("recoil_memory_managament_2020")||c>0}function d(M){return M.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return cz(n)!==void 0&&!f()}function y(M,C,N,W,b){oe(C,W,b),h(M,N)}function h(M,C){z(M,C)&&U(M),g(C,!0)}function m(M,C){z(M,C)&&(xt(I(M)).stateVersions.clear(),g(C,!1))}function g(M,C){const N=mu.get(M);if(N!=null){for(const W of N)F_(W,xt(e));C&&mu.delete(M)}}function v(M,C){let N=mu.get(C);N==null&&mu.set(C,N=new Set),N.add(M)}function _(M,C,N,W,b,ne){return C.then($=>{if(!f())throw U(M),aa;const ee=Qd($);return y(M,N,b,ee,W),$}).catch($=>{if(!f())throw U(M),aa;if(yt($))return x(M,$,N,W,b,ne);const ee=hu($);throw y(M,N,b,ee,W),$})}function x(M,C,N,W,b,ne){return C.then($=>{if(!f())throw U(M),aa;ne.loadingDepKey!=null&&ne.loadingDepPromise===C?N.atomValues.set(ne.loadingDepKey,Qd($)):M.getState().knownSelectors.forEach(V=>{N.atomValues.delete(V)});const ee=L(M,N);if(ee&&ee.state!=="loading"){if((z(M,b)||I(M)==null)&&h(M,b),ee.state==="hasValue")return ee.contents;throw ee.contents}if(!z(M,b)){const V=R(M,N);if(V!=null)return V.loadingLoadable.contents}const[te,we]=T(M,N,b);if(te.state!=="loading"&&y(M,N,b,te,we),te.state==="hasError")throw te.contents;return te.contents}).catch($=>{if($ instanceof yw)throw aa;if(!f())throw U(M),aa;const ee=hu($);throw y(M,N,b,ee,W),$})}function w(M,C,N,W){var b,ne,$,ee;if(z(M,W)||C.version===((b=M.getState())===null||b===void 0||(ne=b.currentTree)===null||ne===void 0?void 0:ne.version)||C.version===(($=M.getState())===null||$===void 0||(ee=$.nextTree)===null||ee===void 0?void 0:ee.version)){var te,we,V;lz(n,N,M,(te=(we=M.getState())===null||we===void 0||(V=we.nextTree)===null||V===void 0?void 0:V.version)!==null&&te!==void 0?te:M.getState().currentTree.version)}for(const X of N)s.add(X)}function T(M,C,N){const W=mz(n);let b=!0,ne=!0;const $=()=>{W(),ne=!1};let ee,te=!1,we;const V={loadingDepKey:null,loadingDepPromise:null},X=new Map;function de({key:he}){const xe=pu(M,C,he);switch(X.set(he,xe),b||(w(M,C,new Set(X.keys()),N),m(M,N)),xe.state){case"hasValue":return xe.contents;case"hasError":throw xe.contents;case"loading":throw V.loadingDepKey=he,V.loadingDepPromise=xe.contents,xe.contents}throw We("Invalid Loadable state")}const ge=he=>(...xe)=>{if(ne)throw We("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&ga(!1),pz(M,he,xe,{node:e})};try{ee=i({get:de,getCallback:ge}),ee=dz(ee)?de(ee):ee,rz(ee)&&(ee.state==="hasError"&&(te=!0),ee=ee.contents),yt(ee)?ee=_(M,ee,C,X,N,V).finally($):$(),ee=ee instanceof _w?ee.value:ee}catch(he){ee=he,yt(ee)?ee=x(M,ee,C,X,N,V).finally($):(te=!0,$())}return te?we=hu(ee):yt(ee)?we=oz(ee):we=Qd(ee),b=!1,fe(M,N,X),w(M,C,new Set(X.keys()),N),[we,X]}function L(M,C){let N=C.atomValues.get(n);if(N!=null)return N;const W=new Set;try{N=a.get(ne=>(typeof ne!="string"&&ga(!1),pu(M,C,ne).contents),{onNodeVisit:ne=>{ne.type==="branch"&&ne.nodeKey!==n&&W.add(ne.nodeKey)}})}catch(ne){throw We(`Problem with cache lookup for selector "${n}": ${ne.message}`)}if(N){var b;C.atomValues.set(n,N),w(M,C,W,(b=I(M))===null||b===void 0?void 0:b.executionID)}return N}function S(M,C){const N=L(M,C);if(N!=null)return U(M),N;const W=R(M,C);if(W!=null){var b;return((b=W.loadingLoadable)===null||b===void 0?void 0:b.state)==="loading"&&v(M,W.executionID),W.loadingLoadable}const ne=gz(),[$,ee]=T(M,C,ne);return $.state==="loading"?(J(M,ne,$,ee,C),v(M,ne)):(U(M),oe(C,$,ee)),$}function R(M,C){const N=G1([u.has(M)?[xt(u.get(M))]:[],df(Jm(u,([b])=>b!==M),([,b])=>b)]);function W(b){for(const[ne,$]of b)if(!pu(M,C,ne).is($))return!0;return!1}for(const b of N){if(b.stateVersions.get(C.version)||!W(b.depValuesDiscoveredSoFarDuringAsyncWork))return b.stateVersions.set(C.version,!0),b;b.stateVersions.set(C.version,!1)}}function I(M){return u.get(M)}function J(M,C,N,W,b){u.set(M,{depValuesDiscoveredSoFarDuringAsyncWork:W,executionID:C,loadingLoadable:N,stateVersions:new Map([[b.version,!0]])})}function fe(M,C,N){if(z(M,C)){const W=I(M);W!=null&&(W.depValuesDiscoveredSoFarDuringAsyncWork=N)}}function U(M){u.delete(M)}function z(M,C){var N;return C===((N=I(M))===null||N===void 0?void 0:N.executionID)}function K(M){return Array.from(M.entries()).map(([C,N])=>[C,N.contents])}function oe(M,C,N){M.atomValues.set(n,C);try{a.set(K(N),C)}catch(W){throw We(`Problem with setting cache for selector "${n}": ${W.message}`)}}function ie(M){if(la.includes(n)){const C=`Recoil selector has circular dependencies: ${la.slice(la.indexOf(n)).join(" \u2192 ")}`;return hu(We(C))}la.push(n);try{return M()}finally{la.pop()}}function F(M,C){const N=C.atomValues.get(n);return N!=null?N:a.get(W=>{var b;return typeof W!="string"&&ga(!1),(b=sz(M,C,W))===null||b===void 0?void 0:b.contents})}function Y(M,C){return ie(()=>S(M,C))}function Z(M){M.atomValues.delete(n)}function me(M,C){e==null&&ga(!1);for(const W of s){var N;const b=fz(W);(N=b.clearCache)===null||N===void 0||N.call(b,M,C)}s.clear(),Z(C),a.clear(),F_(M,e)}return o!=null?e=O_({key:n,nodeType:"selector",peek:F,get:Y,set:(C,N,W)=>{let b=!1;const ne=new Map;function $({key:V}){if(b)throw We("Recoil: Async selector sets are not currently supported.");const X=pu(C,N,V);if(X.state==="hasValue")return X.contents;if(X.state==="loading"){const de=`Getting value of asynchronous atom or selector "${V}" in a pending state while setting selector "${n}" is not yet supported.`;throw We(de)}else throw X.contents}function ee(V,X){if(b)throw We("Recoil: Async selector sets are not currently supported.");const de=typeof X=="function"?X($(V)):X;az(C,N,V.key,de).forEach((he,xe)=>ne.set(xe,he))}function te(V){ee(V,uz)}const we=o({set:ee,get:$,reset:te},W);if(we!==void 0)throw yt(we)?We("Recoil: Async selector sets are not currently supported."):We("Recoil: selector set should be a void function.");return b=!0,ne},init:d,invalidate:Z,clearCache:me,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=O_({key:n,nodeType:"selector",peek:F,get:Y,init:d,invalidate:Z,clearCache:me,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}xw.value=t=>new _w(t);var Ts=xw;const{isLoadable:vz,loadableWithError:eh,loadableWithPromise:th,loadableWithValue:Do}=ml,{WrappedValue:Sw}=mw,{peekNodeInfo:_z}=Mr,{DEFAULT_VALUE:Ur,DefaultValue:Zi,getConfigDeletionHandler:ww,registerNode:yz,setConfigDeletionHandler:xz}=xn,{isRecoilValue:Sz}=Ms,{getRecoilValueAsLoadable:wz,markRecoilValueModified:Mz,setRecoilValue:z_,setRecoilValueLoadable:bz}=yi,{retainedByOptionWithDefault:Ez}=po,ua=t=>t instanceof Sw?t.value:t;function Tz(t){const{key:e,persistence_UNSTABLE:n}=t,i=Ez(t.retainedBy_UNSTABLE);let r=0;function o(v){return th(v.then(_=>(s=Do(_),_)).catch(_=>{throw s=eh(_),_}))}let s=yt(t.default)?o(t.default):vz(t.default)?t.default.state==="loading"?o(t.default.contents):t.default:Do(ua(t.default));s.contents;let a;const l=new Map;function u(v){return v}function c(v,_){const x=_.then(w=>{var T,L;return((L=((T=v.getState().nextTree)!==null&&T!==void 0?T:v.getState().currentTree).atomValues.get(e))===null||L===void 0?void 0:L.contents)===x&&z_(v,g,w),w}).catch(w=>{var T,L;throw((L=((T=v.getState().nextTree)!==null&&T!==void 0?T:v.getState().currentTree).atomValues.get(e))===null||L===void 0?void 0:L.contents)===x&&bz(v,g,eh(w)),w});return x}function f(v,_,x){var w;r++;const T=()=>{var U;r--,(U=l.get(v))===null||U===void 0||U.forEach(z=>z()),l.delete(v)};if(v.getState().knownAtoms.add(e),s.state==="loading"){const U=()=>{var z;((z=v.getState().nextTree)!==null&&z!==void 0?z:v.getState().currentTree).atomValues.has(e)||Mz(v,g)};s.contents.finally(U)}const L=(w=t.effects)!==null&&w!==void 0?w:t.effects_UNSTABLE;if(L!=null){let ie=function(C){if(z&&C.key===e){const N=U;return N instanceof Zi?d(v,_):yt(N)?th(N.then(W=>W instanceof Zi?s.toPromise():W)):Do(N)}return wz(v,C)},F=function(C){return ie(C).toPromise()},Y=function(C){var N;const W=_z(v,(N=v.getState().nextTree)!==null&&N!==void 0?N:v.getState().currentTree,C.key);return z&&C.key===e&&!(U instanceof Zi)?{...W,isSet:!0,loadable:ie(C)}:W};var I=ie,J=F,fe=Y;let U=Ur,z=!0,K=!1,oe=null;const Z=C=>N=>{if(z){const W=ie(g),b=W.state==="hasValue"?W.contents:Ur;U=typeof N=="function"?N(b):N,yt(U)&&(U=U.then(ne=>(oe={effect:C,value:ne},ne)))}else{if(yt(N))throw We("Setting atoms to async values is not implemented.");typeof N!="function"&&(oe={effect:C,value:ua(N)}),z_(v,g,typeof N=="function"?W=>{const b=ua(N(W));return oe={effect:C,value:b},b}:ua(N))}},me=C=>()=>Z(C)(Ur),M=C=>N=>{var W;const{release:b}=v.subscribeToTransactions(ne=>{var $;let{currentTree:ee,previousTree:te}=ne.getState();te||(te=ee);const we=($=ee.atomValues.get(e))!==null&&$!==void 0?$:s;if(we.state==="hasValue"){var V,X,de,ge;const he=we.contents,xe=(V=te.atomValues.get(e))!==null&&V!==void 0?V:s,Te=xe.state==="hasValue"?xe.contents:Ur;((X=oe)===null||X===void 0?void 0:X.effect)!==C||((de=oe)===null||de===void 0?void 0:de.value)!==he?N(he,Te,!ee.atomValues.has(e)):((ge=oe)===null||ge===void 0?void 0:ge.effect)===C&&(oe=null)}},e);l.set(v,[...(W=l.get(v))!==null&&W!==void 0?W:[],b])};for(const C of L)try{const N=C({node:g,storeID:v.storeID,parentStoreID_UNSTABLE:v.parentStoreID,trigger:x,setSelf:Z(C),resetSelf:me(C),onSet:M(C),getPromise:F,getLoadable:ie,getInfo_UNSTABLE:Y});if(N!=null){var S;l.set(v,[...(S=l.get(v))!==null&&S!==void 0?S:[],N])}}catch(N){U=N,K=!0}if(z=!1,!(U instanceof Zi)){var R;const C=K?eh(U):yt(U)?th(c(v,U)):Do(ua(U));C.contents,_.atomValues.set(e,C),(R=v.getState().nextTree)===null||R===void 0||R.atomValues.set(e,C)}}return T}function d(v,_){var x,w;return(x=(w=_.atomValues.get(e))!==null&&w!==void 0?w:a)!==null&&x!==void 0?x:s}function p(v,_){if(_.atomValues.has(e))return xt(_.atomValues.get(e));if(_.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return s;const x=_.nonvalidatedAtoms.get(e),w=n.validator(x,Ur);return a=w instanceof Zi?s:Do(w),a}else return s}function y(){a=void 0}function h(v,_,x){if(_.atomValues.has(e)){const w=xt(_.atomValues.get(e));if(w.state==="hasValue"&&x===w.contents)return new Map}else if(!_.nonvalidatedAtoms.has(e)&&x instanceof Zi)return new Map;return a=void 0,new Map().set(e,Do(x))}function m(){return ww(e)!==void 0&&r<=0}const g=yz({key:e,nodeType:"atom",peek:d,get:p,set:h,init:f,invalidate:y,shouldDeleteConfigOnRelease:m,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:i});return g}function ug(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return Sz(n)?Cz({...e,default:n}):Tz({...e,default:n})}function Cz(t){const e=ug({...t,default:Ur,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:i=>i instanceof Zi?i:xt(t.persistence_UNSTABLE).validator(i,Ur)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Ts({key:`${t.key}__withFallback`,get:({get:i})=>{const r=i(e);return r instanceof Zi?t.default:r},set:({set:i},r)=>i(e,r),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return xz(n.key,ww(t.key)),n}ug.value=t=>new Sw(t);var Mw=ug;class Az{constructor(e){var n;Ge(this,"_map",void 0),Ge(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:i=>i}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Rz={MapCache:Az},Lz=Rz.MapCache,Pz=Object.freeze({__proto__:null,MapCache:Lz});const{LRUCache:U_}=vw,{MapCache:Dz}=Pz,gu={equality:"reference",eviction:"none",maxSize:1/0};function Nz({equality:t=gu.equality,eviction:e=gu.eviction,maxSize:n=gu.maxSize}=gu){const i=Iz(t);return kz(e,n,i)}function Iz(t){switch(t){case"reference":return e=>e;case"value":return e=>bf(e)}throw We(`Unrecognized equality policy ${t}`)}function kz(t,e,n){switch(t){case"keep-all":return new Dz({mapKey:n});case"lru":return new U_({mapKey:n,maxSize:xt(e)});case"most-recent":return new U_({mapKey:n,maxSize:1})}throw We(`Unrecognized eviction policy ${t}`)}var bw=Nz;const{setConfigDeletionHandler:Oz}=xn;function Fz(t){var e,n;const i=bw({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return r=>{var o,s;const a=i.get(r);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),f=Mw({...u,key:`${t.key}__${(o=bf(r))!==null&&o!==void 0?o:"void"}`,default:typeof c=="function"?c(r):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(r):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(r):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(r):(s=t.effects)!==null&&s!==void 0?s:t.effects_UNSTABLE});return i.set(r,f),Oz(f.key,()=>{i.delete(r)}),f}}var zz=Fz;const{setConfigDeletionHandler:Uz}=xn;let Bz=0;function Vz(t){var e,n;const i=bw({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return r=>{var o;let s;try{s=i.get(r)}catch(d){throw We(`Problem with cache lookup for selector ${t.key}: ${d.message}`)}if(s!=null)return s;const a=`${t.key}__selectorFamily/${(o=bf(r,{allowFunctions:!0}))!==null&&o!==void 0?o:"void"}/${Bz++}`,l=d=>t.get(r)(d),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(r):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const d=t.set;f=Ts({key:a,get:l,set:(y,h)=>d(r)(y,h),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=Ts({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return i.set(r,f),Uz(f.key,()=>{i.delete(r)}),f}}var br=Vz;const Gz=br({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Hz(t){return Gz(t)}var Wz=Hz;const $z=br({key:"__error",get:t=>()=>{throw We(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function jz(t){return $z(t)}var Xz=jz;function qz(t){return t}var Yz=qz;const{loadableWithError:Ew,loadableWithPromise:Tw,loadableWithValue:Cw}=ml;function Ef(t,e){const n=Array(e.length).fill(void 0),i=Array(e.length).fill(void 0);for(const[r,o]of e.entries())try{n[r]=t(o)}catch(s){i[r]=s}return[n,i]}function Zz(t){return t!=null&&!yt(t)}function Tf(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Cp(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,i,r)=>({...n,[i]:e[r]}),{})}function ls(t,e,n){const i=n.map((r,o)=>r==null?Cw(e[o]):yt(r)?Tw(r):Ew(r));return Cp(t,i)}function Kz(t,e){return e.map((n,i)=>n===void 0?t[i]:n)}const Jz=br({key:"__waitForNone",get:t=>({get:e})=>{const n=Tf(t),[i,r]=Ef(e,n);return ls(t,i,r)},dangerouslyAllowMutability:!0}),Qz=br({key:"__waitForAny",get:t=>({get:e})=>{const n=Tf(t),[i,r]=Ef(e,n);return r.some(o=>!yt(o))?ls(t,i,r):new Promise(o=>{for(const[s,a]of r.entries())yt(a)&&a.then(l=>{i[s]=l,r[s]=void 0,o(ls(t,i,r))}).catch(l=>{r[s]=l,o(ls(t,i,r))})})},dangerouslyAllowMutability:!0}),eU=br({key:"__waitForAll",get:t=>({get:e})=>{const n=Tf(t),[i,r]=Ef(e,n);if(r.every(s=>s==null))return Cp(t,i);const o=r.find(Zz);if(o!=null)throw o;return Promise.all(r).then(s=>Cp(t,Kz(i,s)))},dangerouslyAllowMutability:!0}),tU=br({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Tf(t),[i,r]=Ef(e,n);return r.every(o=>!yt(o))?ls(t,i,r):Promise.all(r.map((o,s)=>yt(o)?o.then(a=>{i[s]=a,r[s]=void 0}).catch(a=>{i[s]=void 0,r[s]=a}):null)).then(()=>ls(t,i,r))},dangerouslyAllowMutability:!0}),nU=br({key:"__noWait",get:t=>({get:e})=>{try{return Ts.value(Cw(e(t)))}catch(n){return Ts.value(yt(n)?Tw(n):Ew(n))}},dangerouslyAllowMutability:!0});var iU={waitForNone:Jz,waitForAny:Qz,waitForAll:eU,waitForAllSettled:tU,noWait:nU};const{RecoilLoadable:rU}=ml,{DefaultValue:oU}=xn,{RecoilRoot:sU,useRecoilStoreID:aU}=Gi,{isRecoilValue:lU}=Ms,{retentionZone:uU}=pf,{freshSnapshot:cU}=yf,{useRecoilState:fU,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:dU,useRecoilStateLoadable:hU,useRecoilValue:pU,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:mU,useRecoilValueLoadable:gU,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:vU,useResetRecoilState:_U,useSetRecoilState:yU}=RO,{useGotoRecoilSnapshot:xU,useRecoilSnapshot:SU,useRecoilTransactionObserver:wU}=cw,{useRecoilCallback:MU}=pw,{noWait:bU,waitForAll:EU,waitForAllSettled:TU,waitForAny:CU,waitForNone:AU}=iU;var RU={DefaultValue:oU,isRecoilValue:lU,RecoilLoadable:rU,RecoilEnv:p1,RecoilRoot:sU,useRecoilStoreID:aU,useRecoilBridgeAcrossReactRoots_UNSTABLE:nF,atom:Mw,selector:Ts,atomFamily:zz,selectorFamily:br,constSelector:Wz,errorSelector:Xz,readOnlySelector:Yz,noWait:bU,waitForNone:AU,waitForAny:CU,waitForAll:EU,waitForAllSettled:TU,useRecoilValue:pU,useRecoilValueLoadable:gU,useRecoilState:fU,useRecoilStateLoadable:hU,useSetRecoilState:yU,useResetRecoilState:_U,useGetRecoilValueInfo_UNSTABLE:ZO,useRecoilRefresher_UNSTABLE:PF,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:vU,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:mU,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:dU,useRecoilCallback:MU,useRecoilTransaction_UNSTABLE:OF,useGotoRecoilSnapshot:xU,useRecoilSnapshot:SU,useRecoilTransactionObserver_UNSTABLE:wU,snapshot_UNSTABLE:cU,useRetain:rg,retentionZone:uU},LU=RU.RecoilRoot;const PU=()=>ve("main",{className:"grid h-full w-full item-center ",children:it("div",{role:"status",children:[it("svg",{"aria-hidden":"true",className:"w-8 h-8 mr-2 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[ve("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),ve("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),ve("span",{className:"sr-only",children:"Loading..."})]})});ih.createRoot(document.getElementById("root")).render(ve(Ee.exports.Suspense,{fallback:ve(PU,{}),children:ve(LU,{children:ve(VN,{})})}));
